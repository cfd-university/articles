<!-- How to use CMake/CPack to create beautiful GUI-installers -->
<!-- https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/how-to-use-cmake-cpack-to-create-beautiful-gui-installers/ -->

<!-- wp:paragraph -->
<p>In this article, we look at the CMake utility tool CPack, which helps us package our libraries and executables generated by CMake into a nice and easy-to-use graphical user interface to guide users through the installation process. Windows users will be familiar with these graphical user interfaces for installation, where we can select an installation directory and what software components will be installed. This article will look at how we can achieve this with CMake and CPack.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>By the end of this article, you will know all there is about packaging software with CMake and how we can create cross-platform installers that provide an easy and uniform installation process across Windows, Linux, and macOS. This introduces the last feature we will cover about CMake, and if you have followed along the rest of this series, you will have become a CMake pro and are ready to use it for your own projects, never having to worry about compilation, documentation, installation or packaging again; now we are ready to automate everything with CMake!</p>
<!-- /wp:paragraph -->

<!-- wp:block {"ref":2490} /-->

<!-- wp:list -->
<ul><!-- wp:list-item -->
<li><strong>Download</strong>: <a href="http://cfd.university/download/build-systems-part-8/?tmstv=1720154409&amp;v=3983">Build-Systems-Part-8</a></li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:heading -->
<h2 class="wp-block-heading">In this series</h2>
<!-- /wp:heading -->

<!-- wp:shortcode -->
[custom_category_posts_list category_slug="automating-cfd-solver-and-library-compilation-using-cmake"]
<!-- /wp:shortcode -->

<!-- wp:heading -->
<h2 class="wp-block-heading">In this article</h2>
<!-- /wp:heading -->

<!-- wp:aioseo/table-of-contents {"headings":[{"id":8,"blockClientId":"cfdb5b41-f193-4b52-a698-8ac5c7da5cc0","content":"Introduction: What exactly is an installation?","level":2,"anchor":"aioseo-introduction-what-exactly-is-an-installation","order":0,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":23,"blockClientId":"9019dbdf-c800-4794-b519-40296d30e512","content":"Providing a GUI-based installer to our complex number library using CMake and CPack","level":2,"anchor":"aioseo-providing-a-gui-based-installer-to-our-complex-number-library","order":1,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":25,"blockClientId":"fc4a92eb-f66a-4497-9766-1e47a7df0dbb","content":"First things first, what is CPack?","level":3,"anchor":"aioseo-first-things-first-what-is-cpack","order":2,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":33,"blockClientId":"7c6ae119-96a3-47c0-8eb5-bf35b50f4a1c","content":"Getting the Qt Installer Framework (IFW)","level":3,"anchor":"aioseo-getting-the-qt-install-framework","order":3,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":43,"blockClientId":"255a7274-67ac-4ff9-a122-fc8ab1970795","content":"Project structure","level":3,"anchor":"aioseo-project-structure","order":4,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":46,"blockClientId":"fa16c8c3-e61f-427c-b164-a84f2c2ff93e","content":"CMake build scripts","level":3,"anchor":"aioseo-cmake-build-scripts","order":5,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":48,"blockClientId":"5f00e2e3-2ad0-4af0-b433-55ce5fae5652","content":"Top-level CMakeLists.txt file","level":4,"anchor":"aioseo-top-level-cmakelists-txt-file","order":6,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":51,"blockClientId":"f49d975e-e7e7-49ac-923e-eff2bbc90ba9","content":"CMake helper file to package the installer with IFW and CPack","level":4,"anchor":"aioseo-cmake-helper-file-to-package-the-installer-with-ifw-and-cpack","order":7,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":54,"blockClientId":"b1c681cf-6520-477b-9eea-bdc3141c1668","content":"Setting generic variables for CPack","level":5,"anchor":"aioseo-setting-generic-variables-for-cpack","order":8,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":64,"blockClientId":"09a441ce-b17f-47d8-a606-406cef4daad2","content":"Set IFW-specific packaging information","level":5,"anchor":"aioseo-set-ifw-specific-packaging-information","order":9,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":73,"blockClientId":"f01dbad5-e820-47d4-8a5f-f25ef55aece7","content":"Creating the complex number library installation rule","level":5,"anchor":"aioseo-creating-the-complex-number-library-installation-rule","order":10,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":86,"blockClientId":"d5ae3458-5005-445e-8206-6f7813f32ec4","content":"Creating the documentation installation rule","level":5,"anchor":"aioseo-creating-the-documentation-installation-rule","order":11,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]}]},{"id":98,"blockClientId":"f5ccf93b-4391-48e9-bb26-d267bc94a258","content":"Command line instructions","level":3,"anchor":"aioseo-command-line-instructions","order":12,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]},{"id":116,"blockClientId":"4442375d-a5f8-456d-9b05-bc4960731cb5","content":"Summary","level":2,"anchor":"aioseo-summary","order":13,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]} -->
<div class="wp-block-aioseo-table-of-contents"><ul><li><a href="#aioseo-introduction-what-exactly-is-an-installation">Introduction: What exactly is an installation?</a></li><li><a href="#aioseo-providing-a-gui-based-installer-to-our-complex-number-library">Providing a GUI-based installer to our complex number library using CMake and CPack</a><ul><li><a href="#aioseo-first-things-first-what-is-cpack">First things first, what is CPack?</a></li><li><a href="#aioseo-getting-the-qt-install-framework">Getting the Qt Installer Framework (IFW)</a></li><li><a href="#aioseo-project-structure">Project structure</a></li><li><a href="#aioseo-cmake-build-scripts">CMake build scripts</a><ul><li><a href="#aioseo-top-level-cmakelists-txt-file">Top-level CMakeLists.txt file</a></li><li><a href="#aioseo-cmake-helper-file-to-package-the-installer-with-ifw-and-cpack">CMake helper file to package the installer with IFW and CPack</a><ul><li><a href="#aioseo-setting-generic-variables-for-cpack">Setting generic variables for CPack</a></li><li><a href="#aioseo-set-ifw-specific-packaging-information">Set IFW-specific packaging information</a></li><li><a href="#aioseo-creating-the-complex-number-library-installation-rule">Creating the complex number library installation rule</a></li><li><a href="#aioseo-creating-the-documentation-installation-rule">Creating the documentation installation rule</a></li></ul></li></ul></li><li><a href="#aioseo-command-line-instructions">Command line instructions</a></li></ul></li><li><a href="#aioseo-summary">Summary</a></li></ul></div>
<!-- /wp:aioseo/table-of-contents -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-introduction-what-exactly-is-an-installation">Introduction: What exactly is an installation?</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>We have been throwing around the concept of installation in various <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/how-to-compile-install-and-use-custom-libraries-with-cmake" target="_blank" rel="noopener" title="">previous articles</a>, but we have never really discussed what installation means. Most of us, especially those from a Windows background, think of installation as this little graphical window that walks you through the process. You have to select an install location, accept the license before proceeding, and then the installer will <em>do its thing</em>. But what happens under the hood?</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Well, in a <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/how-to-compile-install-and-use-custom-libraries-with-cmake#aioseo-command-line-instructions" target="_blank" rel="noopener" title="">previous article on installing our own complex number library</a>, we first had to configure our project and then compile it. This generated all of our targets in the <code>build/</code> directory, along with some other files required by CMake. The last step included an install directive, which had the form of</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cmake \u002d\u002dinstall . \u002d\u002dprefix \u0022C:\\temp\u0022 \u002d\u002dconfig Release","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dinstall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dprefix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;C:\\temp\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dconfig\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eRelease\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cmake --install . --prefix &quot;C:\temp&quot; --config Release" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">cmake</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--install</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">.</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--prefix</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&quot;C:\temp&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--config</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Release</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Here, we specified the installation location with the <code>--prefix</code> command line argument. CMake then used all of the information we provided within calls to the <code>install()</code> function to figure out which files should be copied into the <code>--prefix</code> location, and we already saw a few times that this included the header files within the <code>include/</code> folder, as well as the library itself in the <code>lib/</code> folder (with potential documentation within <code>docs/</code>). Since we also want other projects to use our library, we also generated a couple of <code>*.cmake</code> files within the <code>lib/cmake/&lt;lib-name&gt;/</code> folder.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Thus, we can say that installing is the mere act of copying files to a destination directory that creates a certain, well-defined folder structure. And that is installation, pretty much. Next time you install something larger, have a look at what the output is saying, and you'll see statements like <em>now copying &lt;filename&gt;</em> or something similar.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>This is also why we have installers for different platforms. Whenever you download an installer from somewhere, it will ask you for your platform and usually also hardware architecture (e.g. 32-bit vs 64-bit). Based on the information you are sending through the browser to the website, it can usually auto-detect your operating system and automatically offer you the right package. See the download for VScode, for example, shown below:</p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":3950,"sizeSlug":"full","linkDestination":"none","align":"center"} -->
<figure class="wp-block-image aligncenter size-full"><img src="https://cfd.university/wp-content/uploads/2024/06/download_vscode.png" alt="" class="wp-image-3950"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>You get 64-bit installers on Windows and different types of installers, just as you do in Linux and macOS. For Linux, you also have 32-bit variants as this operating system is usually used to run on low-budget hardware (e.g. Raspberry PIs and the like). VScode also future-proofs their installers by providing support for ARM architecture, which consumes less power than an Intel or AMD CPU but is generally weaker as a result (and thus used in mobile devices, predominantly). Apple has moved to ARM CPUs, and others will likely follow.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>For the developer, this means that each platform they want to support, they have to compile their code on that platform, for that specific CPU, both for 32-bit and 64-bit if desired. That is a lot of different hardware you'll have to have, though online solution exists that can help you do that (instead of owning all these different platforms yourself).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>There are additional things the installer can do for us, typically modifying the environmental variables to register a specific path (within your installation directory) with the system so it knows where to find your executables or libraries. But at its core, an installer will simply copy files to a specific directory. In this sense, you can think of them as glorified zip archives that extract themselves into a desired location on your machine.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So then, we do have a better understanding of the install step now, and to make things more interesting, the screenshot below shows what we want to achieve in today's article:</p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":3941,"sizeSlug":"full","linkDestination":"none","align":"center"} -->
<figure class="wp-block-image aligncenter size-full"><img src="https://cfd.university/wp-content/uploads/2024/06/complexNumberLibrary_installer.png" alt="" class="wp-image-3941"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>We will give additional instructions to CMake to provide us with a graphical user interface to install our complex number library. It will allow us to specify the install location, and we can select which parts of the library we want to install (i.e. the library itself and the documentation). We have to accept a license agreement (which is as liberal as it can be!), add a start menu shortcut (though, since we install a library and not an executable, this won't have an effect), and finally, install (copy) our library to our selected installation destination.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Best of all, what we do works cross-platform, so our friends on Linux and macOS get the same graphical installer instead of having to hack commands into the command line. I hope this will motivate you enough to read on, so let's get started!</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-providing-a-gui-based-installer-to-our-complex-number-library">Providing a GUI-based installer to our complex number library using CMake and CPack</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>In this section, we will continue to use the project that we developed in the <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/never-worry-about-docs-again-automate-it-with-cmake-instead" target="_blank" rel="noopener" title="">previous article</a>. If you have not read up on that, I would suggest to do so now, at least browse through the various CMake files to get get a feeling for the project structure. We have prepared the complex number library, which we have worked with throughout this series, in a form that makes it very easy for us to focus only on the packaging step, which will generate the graphical installer as the end product.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-first-things-first-what-is-cpack">First things first, what is CPack?</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>So far, we have been working with CMake and already learned that there are some useful helper tools that we can use with CMake. Most notably, <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/how-to-automate-testing-with-cmake-ctest-and-gtest" target="_blank" rel="noopener" title="">we learned about CTest</a> and how we can use it to automate our testing. As a quick refresher, CTest allows us to register <a href="https://cfd.university/learn/the-complete-guide-to-software-testing-for-cfd-applications/how-to-get-started-with-software-testing-for-cfd-codes/#aioseo-types-of-automated-tests" target="_blank" rel="noopener" title="">unit, integration, and system tests</a> with CMake, which will then compile all required tests into executables and make them available to CTest. We can then execute all tests at the same time. It will also provide us with some functionality to examine our test results at the end.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>But that's not all, and CMake recognises that the compiling, testing, and installing steps that we have looked at thus far are not all that we need when automating our build. In particular, once we have generated all of our targets and we have everything compiled within our <code>build/</code> folder, we already know how install this into a target directory, so why not provide a graphical installer as well, as is the case so commonly on Windows, at least?</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Well, it turns out that going from having a working install step in your CMake files to a graphical user interface for the installation does not require that much more effort, and we already have most of the things ready to do this. CMake provides us with an additional tool called <a href="https://cmake.org/cmake/help/latest/module/CPack.html" target="_blank" rel="noopener" title="">CPack</a>, which will take our project once compiled and provide a nice interface to install it locally on our machine. In its most primitive form, we can ask it to simply generate a zip archive, which we can extract wherever we want (see VScode above; they do provide zip versions as well).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Similar to how we can use different generators to build our CMake-based project (e.g. Ninja, Make, MSBuild, XCode, etc.), we can use different generators that will generate the graphical user interface installer. Based on which generator we use, we have different features available, and the look of each of these generators is, of course, different as well.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If you try to find a list of available generators in the <a href="https://cmake.org/cmake/help/latest/module/CPack.html" target="_blank" rel="noopener" title="">CPack documentation</a>, good luck. They are not listed, so resorting to other websites is the only option to get an idea of which generators are available. As you can see, there are quite a lot. There is some good news here, though: there is a single CPack generator that allows the creation of installers for Windows, Linux, and macOS from a single script. So, this <em>must</em> be our choice in a quest to support cross-platform development.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The generator in question is the <a href="https://doc.qt.io/qtinstallerframework/" target="_blank" rel="noopener" title="">Qt Installer Framework</a>, or IFW in short, which comes with the default distribution of Qt. Qt by itself is a beast and is used to generate graphical user interfaces (GUI). Any modern CFD software you use will use Qt under its hood to create the GUI, e.g. Fluent, Pointwise, Tecplot, and Paraview are all examples that use Qt for the GUI part. It is also heavily used for embedded systems, like displays in cars (navigation, digital speedometers, etc.), and even mobile phones have been conquered by Qt.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Before we proceed, we first need to install the IFW tools before we can continue with CMake, which we will do next.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-getting-the-qt-install-framework">Getting the Qt Installer Framework (IFW)</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Ah, so trying to give instructions on how to download Qt is a bit like teaching a blind person to drive. It is doable but high-risk! Their website seems to change every time I visit it, so the safest option is likely to simply search for <em>Qt download</em> and follow the links. At your own risk, you may also try to use the following link: <a href="https://www.qt.io/download-qt-installer-oss" target="_blank" rel="noopener" title="">Download Qt</a>. Alternatively, you may try <a href="https://download.qt.io/official_releases/qt-installer-framework/" target="_blank" rel="noopener" title="">this direct download link</a> for just the Qt Installer Framework (the rest of the description below assumes you are downloading the full Qt version).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>There is one thing which you'll need to know before continuing with Qt, it is licensed under a dual license, which means it is free of charge to open-source projects (though have a somewhat restrictive GPL/LGPL license in place) and paid for commercial projects. So in case the above link is broken, always search for the open source version, or community edition, or whatever other term they come up with in the future to keep me awake at night. However, if you just want to use the Qt Installer Framework, you don't have to worry about licensing, I suppose.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Once downloaded, you'll also need to create an account to install the software. Annoying, but that's the price we have to pay for cross-platform development. Pssst, you can always use <a href="https://temp-mail.org/en/" target="_blank" rel="noopener" title="">temp-mail</a>. I won't snitch on you!</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Ok, so you have created an account, you have downloaded the Qt installer, now it is time to get Qt installed, well, its Installation Framework, anyways. You should see an installation screen like the one below: </p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":3940,"sizeSlug":"large","linkDestination":"none"} -->
<figure class="wp-block-image size-large"><img src="https://cfd.university/wp-content/uploads/2024/06/qt_installer_framework-1024x522.png" alt="" class="wp-image-3940"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>Once you do get to the step of selecting components, all we want to install is the Qt Installer Framework (latest version, here 4.8 for me). You can ignore any of the other components, in particular, Qt itself, as you won't be needing it. We can also install CMake and Ninja here, how nice of them (but likely you already have them on your system).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The GUI that you are seeing above is also generated with the Qt Installer Framework. It does allow for heavy customisation through CSS, though we will be using the default look of the installer here, which will be familiar to most users on their platform.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Follow the installation to the end, and make sure you have the <code>binarycreator.exe</code> on your system now (for me, this is in <code>C:\Qt\Tools\QtInstallerFramework\4.8\bin</code>, which is using the default installation location). If it is on UNIX, you'll simply see <code>binarycreator</code> without an executable suffix. This executable will be used by CPack to generate the GUI installer based on inputs it will generate for you based on instructions we specify in our CMake files.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Once verified that this executable is indeed there, we are now ready to modify our project to provide a graphical installer for our users. Let's crack on with that!</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-project-structure">Project structure</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>As alluded to above, we will be working with the same project structure as in the <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/never-worry-about-docs-again-automate-it-with-cmake-instead" target="_blank" rel="noopener" title="">previous article</a> as a starting point. The only changes we are making are to the <code>cmake/</code> folder, where we are adding an additional <code>packaging.cmake</code> script, which in turn will require a few resources, which are located in the <code>cmake/resources/</code> folder. These are mainly a logo to be used during the installation, and a license file. The various file formats for the logo, as we will see later, are used for different platforms, and it will be used as the icon of the executable.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"root\n├── build/\n├── cmake/\n│   ├── resources/\n│   │   ├── license.txt\n│   │   ├── logo.icns\n│   │   ├── logo.ico\n│   │   └── logo.png\n│   ├── complexNumbersConfig.cmake.in\n│   ├── docs.cmake\n│   ├── install.cmake\n│   ├── makeLibrary.cmake\n│   ├── options.cmake\n│   └── packaging.cmake\n├── complexNumberLib/\n│   ├── CMakeLists.txt\n│   ├── complexNumbers.cpp\n│   └── complexNumbers.hpp\n├── docs/\n│   ├── doxygen-awesome-css-2.3.2/\n│   │   └── ...\n│   ├── userGuide/\n│   │   ├── index.md\n│   │   ├── installation.md\n│   │   ├── introduction.md\n│   │   └── usage.md\n│   └── Doxyfile.in\n├── CMakeLists.txt\n└── conanfile.txt","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eroot\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── build/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── cmake/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── resources/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── license.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── logo.icns\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── logo.ico\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   └── logo.png\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── complexNumbersConfig.cmake.in\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── docs.cmake\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── install.cmake\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── makeLibrary.cmake\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── options.cmake\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   └── packaging.cmake\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── complexNumberLib/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── CMakeLists.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── complexNumbers.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   └── complexNumbers.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── docs/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── doxygen-awesome-css-2.3.2/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   └── ...\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── userGuide/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── index.md\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── installation.md\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── introduction.md\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   └── usage.md\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   └── Doxyfile.in\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── CMakeLists.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e└── conanfile.txt\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"plaintext","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":29,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="root
├── build/
├── cmake/
│   ├── resources/
│   │   ├── license.txt
│   │   ├── logo.icns
│   │   ├── logo.ico
│   │   └── logo.png
│   ├── complexNumbersConfig.cmake.in
│   ├── docs.cmake
│   ├── install.cmake
│   ├── makeLibrary.cmake
│   ├── options.cmake
│   └── packaging.cmake
├── complexNumberLib/
│   ├── CMakeLists.txt
│   ├── complexNumbers.cpp
│   └── complexNumbers.hpp
├── docs/
│   ├── doxygen-awesome-css-2.3.2/
│   │   └── ...
│   ├── userGuide/
│   │   ├── index.md
│   │   ├── installation.md
│   │   ├── introduction.md
│   │   └── usage.md
│   └── Doxyfile.in
├── CMakeLists.txt
└── conanfile.txt" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">root</span></span>
<span class="line"><span style="color: #D4D4D4">├── build/</span></span>
<span class="line"><span style="color: #D4D4D4">├── cmake/</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── resources/</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── license.txt</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── logo.icns</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── logo.ico</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   └── logo.png</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── complexNumbersConfig.cmake.in</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── docs.cmake</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── install.cmake</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── makeLibrary.cmake</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── options.cmake</span></span>
<span class="line"><span style="color: #D4D4D4">│   └── packaging.cmake</span></span>
<span class="line"><span style="color: #D4D4D4">├── complexNumberLib/</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── CMakeLists.txt</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── complexNumbers.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">│   └── complexNumbers.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">├── docs/</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── doxygen-awesome-css-2.3.2/</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   └── ...</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── userGuide/</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── index.md</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── installation.md</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── introduction.md</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   └── usage.md</span></span>
<span class="line"><span style="color: #D4D4D4">│   └── Doxyfile.in</span></span>
<span class="line"><span style="color: #D4D4D4">├── CMakeLists.txt</span></span>
<span class="line"><span style="color: #D4D4D4">└── conanfile.txt</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-cmake-build-scripts">CMake build scripts</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Instead of going through the various CMake files again, we'll only check out the new files that have changed or were added to keep the complexity of this section to a minimum. If you need a refresher on what the other scripts in the <code>cmake/</code> folder are doing. I'll leave a <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/never-worry-about-docs-again-automate-it-with-cmake-instead#aioseo-cmake-build-scripts" target="_blank" rel="noopener" title="">link to the section of the previous article</a> where you can read up on them.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-top-level-cmakelists-txt-file">Top-level CMakeLists.txt file</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The top-level <code>CMakeLists.txt</code> file has changed slightly, but only by adding an additional <code>include()</code> statement (seen on line 25 below), to include the packaging of our project into a graphical installer. The rest of this file and the included files in the <code>cmake/</code> directory, remain unchanged.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cmake_minimum_required(VERSION 3.23)\n\nproject(complexNumbers\n  LANGUAGES CXX\n  VERSION 1.0.0\n  DESCRIPTION \u0022A simple C++ library for complex numbers\u0022\n)\n\n# include custom options\ninclude(cmake/options.cmake)\n\n# create complex number library target\ninclude(cmake/makeLibrary.cmake)\n\n# go through the complexNumberLib/ subdirectory and add any files to the library as needed\nadd_subdirectory(complexNumberLib)\n\n# create the documentation if requested\ninclude(cmake/docs.cmake)\n\n# install the library and its headers\ninclude(cmake/install.cmake)\n\n# package the project with a cross-platform GUI installer\ninclude(cmake/packaging.cmake)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ecmake_minimum_required\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(VERSION 3.23)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eproject\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(complexNumbers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  LANGUAGES CXX\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  VERSION 1.0.0\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  DESCRIPTION \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;A simple C++ library for complex numbers\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# include custom options\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(cmake/options.cmake)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# create complex number library target\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(cmake/makeLibrary.cmake)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# go through the complexNumberLib/ subdirectory and add any files to the library as needed\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eadd_subdirectory\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(complexNumberLib)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# create the documentation if requested\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(cmake/docs.cmake)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# install the library and its headers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(cmake/install.cmake)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# package the project with a cross-platform GUI installer\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(cmake/packaging.cmake)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":25,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cmake_minimum_required(VERSION 3.23)

project(complexNumbers
  LANGUAGES CXX
  VERSION 1.0.0
  DESCRIPTION &quot;A simple C++ library for complex numbers&quot;
)

# include custom options
include(cmake/options.cmake)

# create complex number library target
include(cmake/makeLibrary.cmake)

# go through the complexNumberLib/ subdirectory and add any files to the library as needed
add_subdirectory(complexNumberLib)

# create the documentation if requested
include(cmake/docs.cmake)

# install the library and its headers
include(cmake/install.cmake)

# package the project with a cross-platform GUI installer
include(cmake/packaging.cmake)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">cmake_minimum_required</span><span style="color: #D4D4D4">(VERSION 3.23)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">project</span><span style="color: #D4D4D4">(complexNumbers</span></span>
<span class="line"><span style="color: #D4D4D4">  LANGUAGES CXX</span></span>
<span class="line"><span style="color: #D4D4D4">  VERSION 1.0.0</span></span>
<span class="line"><span style="color: #D4D4D4">  DESCRIPTION </span><span style="color: #CE9178">&quot;A simple C++ library for complex numbers&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># include custom options</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(cmake/options.cmake)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># create complex number library target</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(cmake/makeLibrary.cmake)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># go through the complexNumberLib/ subdirectory and add any files to the library as needed</span></span>
<span class="line"><span style="color: #569CD6">add_subdirectory</span><span style="color: #D4D4D4">(complexNumberLib)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># create the documentation if requested</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(cmake/docs.cmake)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># install the library and its headers</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(cmake/install.cmake)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># package the project with a cross-platform GUI installer</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(cmake/packaging.cmake)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-cmake-helper-file-to-package-the-installer-with-ifw-and-cpack">CMake helper file to package the installer with IFW and CPack</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>So, let's get to the packaging file, which is a bit longer but not necessarily complex. I'd suggest you read through it first, and then we'll break it up into portions (as it is almost 100 lines), and then we can go through it together below the code.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# set some project metadata for the installer\nset(CPACK_PACKAGE_NAME ${CMAKE_PROJECT_NAME})\nset(CPACK_PACKAGE_VENDOR \u0022cfd.university\u0022)\nset(CPACK_PACKAGE_CONTACT \u0022tom@cfd.university\u0022)\nset(CPACK_PACKAGE_DESCRIPTION_SUMMARY \u0022A C++ library for Complex Numbers\u0022)\nset(CPACK_PACKAGE_INSTALL_DIRECTORY ${CPACK_PACKAGE_NAME})\nset(CPACK_PACKAGE_VERSION_MAJOR ${CMAKE_PROJECT_VERSION_MAJOR})\nset(CPACK_PACKAGE_VERSION_MINOR ${CMAKE_PROJECT_VERSION_MINOR})\nset(CPACK_PACKAGE_VERSION_PATCH ${CMAKE_PROJECT_VERSION_PATCH})\nset(CPACK_VERBATIM_VARIABLES YES)\n\n# if we not call the line below, groups won't show properlly in the GUI installer\nset(CPACK_COMPONENTS_GROUPING IGNORE)\n\n# ignore directories and files\nset(CPACK_SOURCE_IGNORE_FILES\n  \u0022/.git/\u0022\n  \u0022/.vscode/\u0022\n  \u0022/build/\u0022\n  \u0022/CMakeCache.txt\u0022\n  \u0022/CMakeFiles/\u0022\n  \u0022/cmake_install.cmake\u0022\n  \u0022/CPackConfig.cmake\u0022\n)\n\n# we are interested in cross-platform support. IFW is the only generator that allows for it, so set it explicitly\nset(CPACK_GENERATOR \u0022IFW\u0022)\nset(CPACK_IFW_ROOT \u0022C:/Qt/Tools/QtInstallerFramework/4.8\u0022)\n\n# set some IFW specific variables, which can be derived from the more generic variables given above\nset(CPACK_IFW_VERBOSE ON)\nset(CPACK_IFW_PACKAGE_TITLE ${CPACK_PACKAGE_NAME})\nset(CPACK_IFW_PACKAGE_PUBLISHER ${CPACK_PACKAGE_VENDOR})\nset(CPACK_IFW_PRODUCT_URL \u0022https://cfd.university\u0022)\n\n# create a more memorable name for the maintenance tool (used for uninstalling the package)\nset(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME ${PROJECT_NAME}_MaintenanceTool)\nset(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_INI_FILE ${CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME}.ini)\n\n# customise the theme if required\nset(CPACK_IFW_PACKAGE_WIZARD_STYLE \u0022Modern\u0022)\n\n# adjust the default size\nset(CPACK_IFW_PACKAGE_WIZARD_DEFAULT_HEIGHT 400)\n\n# set the installer icon and logo\nif(WIN32)\n  set(CPACK_IFW_PACKAGE_ICON ${CMAKE_CURRENT_LIST_DIR}/resources/logo.ico)\n  elseif(APPLE)\n  set(CPACK_IFW_PACKAGE_ICON ${CMAKE_CURRENT_LIST_DIR}/resources/logo.icns)\nendif()\nset(CPACK_IFW_PACKAGE_WINDOWS_LOGO ${CMAKE_CURRENT_LIST_DIR}/resources/logo.png)\nset(CPACK_IFW_PACKAGE_LOGO ${CMAKE_CURRENT_LIST_DIR}/resources/logo.png)\n\n# now include the relevant (cross-platform) packaging script\ninclude(CPack)\ninclude(CPackIFW)\n\n# add the library as a component to the installer\ncpack_add_component(complexLib\n  REQUIRED\n  DISPLAY_NAME \u0022Complex Number Library\u0022\n  DESCRIPTION \u0022Install the complex number library\u0022\n)\n\ncpack_ifw_configure_component(complexLib\n  REQUIRED\n  LICENSES \u0022MIT License\u0022 ${CMAKE_SOURCE_DIR}/cmake/resources/license.txt\n  SORTING_PRIORITY 99\n)\n\n# add the documentation under a \u0022developer\u0022 group component\nif (BUILD_DOCS)\n  cpack_add_component(documentation\n    DISPLAY_NAME \u0022API Documentation\u0022\n    DESCRIPTION \u0022Documentation for the complex numbers library\u0022\n    GROUP documentationGroup\n  )\n    \n  cpack_ifw_configure_component(documentation\n    DEFAULT FALSE\n    GROUP documentationGroup\n    SORTING_PRIORITY 1\n  )\n\n  cpack_add_component_group(documentationGroup\n    EXPANDED\n    DISPLAY_NAME \u0022Documentation\u0022\n    DESCRIPTION \u0022Install the complex Number Library documentation\u0022\n  )\n\n  cpack_ifw_configure_component_group(documentationGroup\n    SORTING_PRIORITY 1\n  )\nendif(BUILD_DOCS)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# set some project metadata for the installer\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_NAME \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_VENDOR \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;cfd.university\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_CONTACT \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;tom@cfd.university\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_DESCRIPTION_SUMMARY \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;A C++ library for Complex Numbers\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_INSTALL_DIRECTORY \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CPACK_PACKAGE_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_VERSION_MAJOR \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_VERSION_MAJOR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_VERSION_MINOR \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_VERSION_MINOR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_VERSION_PATCH \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_VERSION_PATCH}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_VERBATIM_VARIABLES YES)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# if we not call the line below, groups won\u0026#39;t show properlly in the GUI installer\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_COMPONENTS_GROUPING IGNORE)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# ignore directories and files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_SOURCE_IGNORE_FILES\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/.git/\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/.vscode/\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/build/\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/CMakeCache.txt\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/CMakeFiles/\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/cmake_install.cmake\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/CPackConfig.cmake\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# we are interested in cross-platform support. IFW is the only generator that allows for it, so set it explicitly\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_GENERATOR \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;IFW\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_ROOT \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;C:/Qt/Tools/QtInstallerFramework/4.8\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# set some IFW specific variables, which can be derived from the more generic variables given above\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_VERBOSE \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eON\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_TITLE \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CPACK_PACKAGE_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_PUBLISHER \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CPACK_PACKAGE_VENDOR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PRODUCT_URL \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;https://cfd.university\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# create a more memorable name for the maintenance tool (used for uninstalling the package)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e_MaintenanceTool)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_INI_FILE \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.ini)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# customise the theme if required\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_WIZARD_STYLE \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Modern\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# adjust the default size\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_WIZARD_DEFAULT_HEIGHT 400)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# set the installer icon and logo\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(WIN32)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  set\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_ICON \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_LIST_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/resources/logo.ico)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  elseif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(APPLE)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  set\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_ICON \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_LIST_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/resources/logo.icns)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eendif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_WINDOWS_LOGO \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_LIST_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/resources/logo.png)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_LOGO \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_LIST_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/resources/logo.png)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# now include the relevant (cross-platform) packaging script\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPack)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPackIFW)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# add the library as a component to the installer\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ecpack_add_component(complexLib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  REQUIRED\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  DISPLAY_NAME \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Complex Number Library\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  DESCRIPTION \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Install the complex number library\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ecpack_ifw_configure_component(complexLib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  REQUIRED\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  LICENSES \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;MIT License\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/cmake/resources/license.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  SORTING_PRIORITY 99\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# add the documentation under a \u0026quot;developer\u0026quot; group component\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (BUILD_DOCS)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  cpack_add_component(documentation\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DISPLAY_NAME \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;API Documentation\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DESCRIPTION \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Documentation for the complex numbers library\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    GROUP documentationGroup\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  cpack_ifw_configure_component(documentation\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DEFAULT \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eFALSE\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    GROUP documentationGroup\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    SORTING_PRIORITY 1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  cpack_add_component_group(documentationGroup\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    EXPANDED\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DISPLAY_NAME \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Documentation\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DESCRIPTION \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Install the complex Number Library documentation\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  cpack_ifw_configure_component_group(documentationGroup\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    SORTING_PRIORITY 1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eendif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(BUILD_DOCS)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":95,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# set some project metadata for the installer
set(CPACK_PACKAGE_NAME ${CMAKE_PROJECT_NAME})
set(CPACK_PACKAGE_VENDOR &quot;cfd.university&quot;)
set(CPACK_PACKAGE_CONTACT &quot;tom@cfd.university&quot;)
set(CPACK_PACKAGE_DESCRIPTION_SUMMARY &quot;A C++ library for Complex Numbers&quot;)
set(CPACK_PACKAGE_INSTALL_DIRECTORY ${CPACK_PACKAGE_NAME})
set(CPACK_PACKAGE_VERSION_MAJOR ${CMAKE_PROJECT_VERSION_MAJOR})
set(CPACK_PACKAGE_VERSION_MINOR ${CMAKE_PROJECT_VERSION_MINOR})
set(CPACK_PACKAGE_VERSION_PATCH ${CMAKE_PROJECT_VERSION_PATCH})
set(CPACK_VERBATIM_VARIABLES YES)

# if we not call the line below, groups won't show properlly in the GUI installer
set(CPACK_COMPONENTS_GROUPING IGNORE)

# ignore directories and files
set(CPACK_SOURCE_IGNORE_FILES
  &quot;/.git/&quot;
  &quot;/.vscode/&quot;
  &quot;/build/&quot;
  &quot;/CMakeCache.txt&quot;
  &quot;/CMakeFiles/&quot;
  &quot;/cmake_install.cmake&quot;
  &quot;/CPackConfig.cmake&quot;
)

# we are interested in cross-platform support. IFW is the only generator that allows for it, so set it explicitly
set(CPACK_GENERATOR &quot;IFW&quot;)
set(CPACK_IFW_ROOT &quot;C:/Qt/Tools/QtInstallerFramework/4.8&quot;)

# set some IFW specific variables, which can be derived from the more generic variables given above
set(CPACK_IFW_VERBOSE ON)
set(CPACK_IFW_PACKAGE_TITLE ${CPACK_PACKAGE_NAME})
set(CPACK_IFW_PACKAGE_PUBLISHER ${CPACK_PACKAGE_VENDOR})
set(CPACK_IFW_PRODUCT_URL &quot;https://cfd.university&quot;)

# create a more memorable name for the maintenance tool (used for uninstalling the package)
set(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME ${PROJECT_NAME}_MaintenanceTool)
set(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_INI_FILE ${CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME}.ini)

# customise the theme if required
set(CPACK_IFW_PACKAGE_WIZARD_STYLE &quot;Modern&quot;)

# adjust the default size
set(CPACK_IFW_PACKAGE_WIZARD_DEFAULT_HEIGHT 400)

# set the installer icon and logo
if(WIN32)
  set(CPACK_IFW_PACKAGE_ICON ${CMAKE_CURRENT_LIST_DIR}/resources/logo.ico)
  elseif(APPLE)
  set(CPACK_IFW_PACKAGE_ICON ${CMAKE_CURRENT_LIST_DIR}/resources/logo.icns)
endif()
set(CPACK_IFW_PACKAGE_WINDOWS_LOGO ${CMAKE_CURRENT_LIST_DIR}/resources/logo.png)
set(CPACK_IFW_PACKAGE_LOGO ${CMAKE_CURRENT_LIST_DIR}/resources/logo.png)

# now include the relevant (cross-platform) packaging script
include(CPack)
include(CPackIFW)

# add the library as a component to the installer
cpack_add_component(complexLib
  REQUIRED
  DISPLAY_NAME &quot;Complex Number Library&quot;
  DESCRIPTION &quot;Install the complex number library&quot;
)

cpack_ifw_configure_component(complexLib
  REQUIRED
  LICENSES &quot;MIT License&quot; ${CMAKE_SOURCE_DIR}/cmake/resources/license.txt
  SORTING_PRIORITY 99
)

# add the documentation under a &quot;developer&quot; group component
if (BUILD_DOCS)
  cpack_add_component(documentation
    DISPLAY_NAME &quot;API Documentation&quot;
    DESCRIPTION &quot;Documentation for the complex numbers library&quot;
    GROUP documentationGroup
  )
    
  cpack_ifw_configure_component(documentation
    DEFAULT FALSE
    GROUP documentationGroup
    SORTING_PRIORITY 1
  )

  cpack_add_component_group(documentationGroup
    EXPANDED
    DISPLAY_NAME &quot;Documentation&quot;
    DESCRIPTION &quot;Install the complex Number Library documentation&quot;
  )

  cpack_ifw_configure_component_group(documentationGroup
    SORTING_PRIORITY 1
  )
endif(BUILD_DOCS)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># set some project metadata for the installer</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_NAME </span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_VENDOR </span><span style="color: #CE9178">&quot;cfd.university&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_CONTACT </span><span style="color: #CE9178">&quot;tom@cfd.university&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_DESCRIPTION_SUMMARY </span><span style="color: #CE9178">&quot;A C++ library for Complex Numbers&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_INSTALL_DIRECTORY </span><span style="color: #569CD6">${CPACK_PACKAGE_NAME}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_VERSION_MAJOR </span><span style="color: #569CD6">${CMAKE_PROJECT_VERSION_MAJOR}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_VERSION_MINOR </span><span style="color: #569CD6">${CMAKE_PROJECT_VERSION_MINOR}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_VERSION_PATCH </span><span style="color: #569CD6">${CMAKE_PROJECT_VERSION_PATCH}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_VERBATIM_VARIABLES YES)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># if we not call the line below, groups won&#39;t show properlly in the GUI installer</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_COMPONENTS_GROUPING IGNORE)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># ignore directories and files</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_SOURCE_IGNORE_FILES</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/.git/&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/.vscode/&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/build/&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/CMakeCache.txt&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/CMakeFiles/&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/cmake_install.cmake&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/CPackConfig.cmake&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># we are interested in cross-platform support. IFW is the only generator that allows for it, so set it explicitly</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_GENERATOR </span><span style="color: #CE9178">&quot;IFW&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_ROOT </span><span style="color: #CE9178">&quot;C:/Qt/Tools/QtInstallerFramework/4.8&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># set some IFW specific variables, which can be derived from the more generic variables given above</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_VERBOSE </span><span style="color: #569CD6">ON</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_TITLE </span><span style="color: #569CD6">${CPACK_PACKAGE_NAME}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_PUBLISHER </span><span style="color: #569CD6">${CPACK_PACKAGE_VENDOR}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PRODUCT_URL </span><span style="color: #CE9178">&quot;https://cfd.university&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># create a more memorable name for the maintenance tool (used for uninstalling the package)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME </span><span style="color: #569CD6">${PROJECT_NAME}</span><span style="color: #D4D4D4">_MaintenanceTool)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_INI_FILE </span><span style="color: #569CD6">${CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME}</span><span style="color: #D4D4D4">.ini)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># customise the theme if required</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_WIZARD_STYLE </span><span style="color: #CE9178">&quot;Modern&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># adjust the default size</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_WIZARD_DEFAULT_HEIGHT 400)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># set the installer icon and logo</span></span>
<span class="line"><span style="color: #569CD6">if</span><span style="color: #D4D4D4">(WIN32)</span></span>
<span class="line"><span style="color: #569CD6">  set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_ICON </span><span style="color: #569CD6">${CMAKE_CURRENT_LIST_DIR}</span><span style="color: #D4D4D4">/resources/logo.ico)</span></span>
<span class="line"><span style="color: #569CD6">  elseif</span><span style="color: #D4D4D4">(APPLE)</span></span>
<span class="line"><span style="color: #569CD6">  set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_ICON </span><span style="color: #569CD6">${CMAKE_CURRENT_LIST_DIR}</span><span style="color: #D4D4D4">/resources/logo.icns)</span></span>
<span class="line"><span style="color: #569CD6">endif</span><span style="color: #D4D4D4">()</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_WINDOWS_LOGO </span><span style="color: #569CD6">${CMAKE_CURRENT_LIST_DIR}</span><span style="color: #D4D4D4">/resources/logo.png)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_LOGO </span><span style="color: #569CD6">${CMAKE_CURRENT_LIST_DIR}</span><span style="color: #D4D4D4">/resources/logo.png)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># now include the relevant (cross-platform) packaging script</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(CPack)</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(CPackIFW)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># add the library as a component to the installer</span></span>
<span class="line"><span style="color: #D4D4D4">cpack_add_component(complexLib</span></span>
<span class="line"><span style="color: #D4D4D4">  REQUIRED</span></span>
<span class="line"><span style="color: #D4D4D4">  DISPLAY_NAME </span><span style="color: #CE9178">&quot;Complex Number Library&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  DESCRIPTION </span><span style="color: #CE9178">&quot;Install the complex number library&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">cpack_ifw_configure_component(complexLib</span></span>
<span class="line"><span style="color: #D4D4D4">  REQUIRED</span></span>
<span class="line"><span style="color: #D4D4D4">  LICENSES </span><span style="color: #CE9178">&quot;MIT License&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">${CMAKE_SOURCE_DIR}</span><span style="color: #D4D4D4">/cmake/resources/license.txt</span></span>
<span class="line"><span style="color: #D4D4D4">  SORTING_PRIORITY 99</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># add the documentation under a &quot;developer&quot; group component</span></span>
<span class="line"><span style="color: #569CD6">if</span><span style="color: #D4D4D4"> (BUILD_DOCS)</span></span>
<span class="line"><span style="color: #D4D4D4">  cpack_add_component(documentation</span></span>
<span class="line"><span style="color: #D4D4D4">    DISPLAY_NAME </span><span style="color: #CE9178">&quot;API Documentation&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    DESCRIPTION </span><span style="color: #CE9178">&quot;Documentation for the complex numbers library&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    GROUP documentationGroup</span></span>
<span class="line"><span style="color: #D4D4D4">  )</span></span>
<span class="line"><span style="color: #D4D4D4">    </span></span>
<span class="line"><span style="color: #D4D4D4">  cpack_ifw_configure_component(documentation</span></span>
<span class="line"><span style="color: #D4D4D4">    DEFAULT </span><span style="color: #569CD6">FALSE</span></span>
<span class="line"><span style="color: #D4D4D4">    GROUP documentationGroup</span></span>
<span class="line"><span style="color: #D4D4D4">    SORTING_PRIORITY 1</span></span>
<span class="line"><span style="color: #D4D4D4">  )</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  cpack_add_component_group(documentationGroup</span></span>
<span class="line"><span style="color: #D4D4D4">    EXPANDED</span></span>
<span class="line"><span style="color: #D4D4D4">    DISPLAY_NAME </span><span style="color: #CE9178">&quot;Documentation&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    DESCRIPTION </span><span style="color: #CE9178">&quot;Install the complex Number Library documentation&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  )</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  cpack_ifw_configure_component_group(documentationGroup</span></span>
<span class="line"><span style="color: #D4D4D4">    SORTING_PRIORITY 1</span></span>
<span class="line"><span style="color: #D4D4D4">  )</span></span>
<span class="line"><span style="color: #569CD6">endif</span><span style="color: #D4D4D4">(BUILD_DOCS)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:heading {"level":5} -->
<h5 class="wp-block-heading" id="aioseo-setting-generic-variables-for-cpack">Setting generic variables for CPack</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The first 24 lines of the <code>cmake/packaging.cmake</code> file is concerned with setting some generic variables that may (or may not) be used by CPack. We have to understand that CPack is a general tool for creating an installer, but it does support different graphical installation tools, which are separate from CPack. It is similar to how CMake supports different generators, like Make, Ninja, MSBuild, and so on. Each of these generators has different rules and variables, and the same is true for the installation generators.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Thus, we set some generic variables for CPack as seen below, and then depending on the installer, these may then be used (or ignored). Even if some of them are ignored (and I have tested, not all of that information will be used later), they serve as good documentation for developers who have to go through this file. Setting these now will help them extend this file, should they need to.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# set some project metadata for the installer\nset(CPACK_PACKAGE_NAME ${CMAKE_PROJECT_NAME})\nset(CPACK_PACKAGE_VENDOR \u0022cfd.university\u0022)\nset(CPACK_PACKAGE_CONTACT \u0022tom@cfd.university\u0022)\nset(CPACK_PACKAGE_DESCRIPTION_SUMMARY \u0022A C++ library for Complex Numbers\u0022)\nset(CPACK_PACKAGE_INSTALL_DIRECTORY ${CPACK_PACKAGE_NAME})\nset(CPACK_PACKAGE_VERSION_MAJOR ${CMAKE_PROJECT_VERSION_MAJOR})\nset(CPACK_PACKAGE_VERSION_MINOR ${CMAKE_PROJECT_VERSION_MINOR})\nset(CPACK_PACKAGE_VERSION_PATCH ${CMAKE_PROJECT_VERSION_PATCH})\nset(CPACK_VERBATIM_VARIABLES YES)\n\n# if we not call the line below, groups won't show properlly in the GUI installer\nset(CPACK_COMPONENTS_GROUPING IGNORE)\n\n# ignore directories and files\nset(CPACK_SOURCE_IGNORE_FILES\n  \u0022/.git/\u0022\n  \u0022/.vscode/\u0022\n  \u0022/build/\u0022\n  \u0022/CMakeCache.txt\u0022\n  \u0022/CMakeFiles/\u0022\n  \u0022/cmake_install.cmake\u0022\n  \u0022/CPackConfig.cmake\u0022\n)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# set some project metadata for the installer\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_NAME \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_VENDOR \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;cfd.university\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_CONTACT \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;tom@cfd.university\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_DESCRIPTION_SUMMARY \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;A C++ library for Complex Numbers\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_INSTALL_DIRECTORY \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CPACK_PACKAGE_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_VERSION_MAJOR \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_VERSION_MAJOR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_VERSION_MINOR \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_VERSION_MINOR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_VERSION_PATCH \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_VERSION_PATCH}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_VERBATIM_VARIABLES YES)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# if we not call the line below, groups won\u0026#39;t show properlly in the GUI installer\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_COMPONENTS_GROUPING IGNORE)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# ignore directories and files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_SOURCE_IGNORE_FILES\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/.git/\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/.vscode/\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/build/\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/CMakeCache.txt\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/CMakeFiles/\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/cmake_install.cmake\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/CPackConfig.cmake\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":24,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# set some project metadata for the installer
set(CPACK_PACKAGE_NAME ${CMAKE_PROJECT_NAME})
set(CPACK_PACKAGE_VENDOR &quot;cfd.university&quot;)
set(CPACK_PACKAGE_CONTACT &quot;tom@cfd.university&quot;)
set(CPACK_PACKAGE_DESCRIPTION_SUMMARY &quot;A C++ library for Complex Numbers&quot;)
set(CPACK_PACKAGE_INSTALL_DIRECTORY ${CPACK_PACKAGE_NAME})
set(CPACK_PACKAGE_VERSION_MAJOR ${CMAKE_PROJECT_VERSION_MAJOR})
set(CPACK_PACKAGE_VERSION_MINOR ${CMAKE_PROJECT_VERSION_MINOR})
set(CPACK_PACKAGE_VERSION_PATCH ${CMAKE_PROJECT_VERSION_PATCH})
set(CPACK_VERBATIM_VARIABLES YES)

# if we not call the line below, groups won't show properlly in the GUI installer
set(CPACK_COMPONENTS_GROUPING IGNORE)

# ignore directories and files
set(CPACK_SOURCE_IGNORE_FILES
  &quot;/.git/&quot;
  &quot;/.vscode/&quot;
  &quot;/build/&quot;
  &quot;/CMakeCache.txt&quot;
  &quot;/CMakeFiles/&quot;
  &quot;/cmake_install.cmake&quot;
  &quot;/CPackConfig.cmake&quot;
)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># set some project metadata for the installer</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_NAME </span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_VENDOR </span><span style="color: #CE9178">&quot;cfd.university&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_CONTACT </span><span style="color: #CE9178">&quot;tom@cfd.university&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_DESCRIPTION_SUMMARY </span><span style="color: #CE9178">&quot;A C++ library for Complex Numbers&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_INSTALL_DIRECTORY </span><span style="color: #569CD6">${CPACK_PACKAGE_NAME}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_VERSION_MAJOR </span><span style="color: #569CD6">${CMAKE_PROJECT_VERSION_MAJOR}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_VERSION_MINOR </span><span style="color: #569CD6">${CMAKE_PROJECT_VERSION_MINOR}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_VERSION_PATCH </span><span style="color: #569CD6">${CMAKE_PROJECT_VERSION_PATCH}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_VERBATIM_VARIABLES YES)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># if we not call the line below, groups won&#39;t show properlly in the GUI installer</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_COMPONENTS_GROUPING IGNORE)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># ignore directories and files</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_SOURCE_IGNORE_FILES</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/.git/&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/.vscode/&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/build/&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/CMakeCache.txt&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/CMakeFiles/&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/cmake_install.cmake&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/CPackConfig.cmake&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Let's dial in on some details. On line 6, we set the <code>CPACK_PACKAGE_INSTALL_DIRECTORY</code>. This name will be used by the graphical installer to determine the folder name under which this library will be installed. On Windows, the default installation directory is <code>C:\Program Files\&lt;package-name&gt;</code>. In this case, it is set to <code>CPACK_PACKAGE_NAME</code>, which in turn is set on line 2 to <code>CMAKE_PROJECT_NAME</code>, which is the name defined in the call to <code>project()</code> in the top-level <code>CMakeLists.txt</code> file. Thus, our default installation directory is <code>C:\Program Files\complexNumberLib</code> (on Windows).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Lines 7-9 provide the project version, again reusing information set in the call to <code>project()</code>, and line 10 is one of those odd variables we just have to set without questioning. If we lookup <code>CPACK_VERBATIM_VARIABLES</code> in the CMake documentation, then this is what we are seeing:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><em>" [...] characters like quotes and backslashes can cause parsing errors or alter the value received by the cpack program. Defaults to&nbsp;<code>FALSE</code>&nbsp;for backwards compatibility."</em></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Great, so because of backward compatibility (which is one of the things CMake prides itself in, i.e. it wants to support CMake files which are decades old), we have to explicitly tell CMake to turn off its broken functionality, otherwise we'll get into trouble. I don't think any serious projects still use pre-version 3 CMake, but here we are. But hey, all of these broken features we have to identify ourselves (which the documentation does not warn us about) make using CMake akin to playing Russian roulette; it species things up a bit!</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Which brings me to line 13. It is one of those lines where CMake really starts to annoy me because, firstly, the default behaviour doesn't make any sense (to me at least); secondly, if you do look up this variable in the documentation, it doesn't tell you how it messes up the graphical installer, and thirdly, the only way to find out about it is to go through other people's CMake files and catch this by accident. Looking at their comments when setting this variable, I can sense the same level of frustration with CMake, so it is not just me!</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Lines 16-24 just tell the installer if there are any files or directories we want to exclude from the installer. The entries provided here serve as a good default starting point, and then you will see, during testing, if you need to add (or remove) any files and folders here.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5 class="wp-block-heading" id="aioseo-set-ifw-specific-packaging-information">Set IFW-specific packaging information</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Once we have set our generic variables for CPack, we can start to add some specific variables for the Qt Installer Framework (IFW), which we want to use exclusively in this project. These are shown below.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# we are interested in cross-platform support. IFW is the only generator that allows for it, so set it explicitly\nset(CPACK_GENERATOR \u0022IFW\u0022)\nset(CPACK_IFW_ROOT \u0022C:/Qt/Tools/QtInstallerFramework/4.8\u0022)\n\n# set some IFW specific variables, which can be derived from the more generic variables given above\nset(CPACK_IFW_VERBOSE ON)\nset(CPACK_IFW_PACKAGE_TITLE ${CPACK_PACKAGE_NAME})\nset(CPACK_IFW_PACKAGE_PUBLISHER ${CPACK_PACKAGE_VENDOR})\nset(CPACK_IFW_PRODUCT_URL \u0022https://cfd.university\u0022)\n\n# create a more memorable name for the maintenance tool (used for uninstalling the package)\nset(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME ${PROJECT_NAME}_MaintenanceTool)\nset(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_INI_FILE ${CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME}.ini)\n\n# customise the theme if required\nset(CPACK_IFW_PACKAGE_WIZARD_STYLE \u0022Modern\u0022)\n\n# adjust the default size\nset(CPACK_IFW_PACKAGE_WIZARD_DEFAULT_HEIGHT 400)\n\n# set the installer icon and logo\nif(WIN32)\n  set(CPACK_IFW_PACKAGE_ICON ${CMAKE_CURRENT_LIST_DIR}/resources/logo.ico)\n  elseif(APPLE)\n  set(CPACK_IFW_PACKAGE_ICON ${CMAKE_CURRENT_LIST_DIR}/resources/logo.icns)\nendif()\nset(CPACK_IFW_PACKAGE_WINDOWS_LOGO ${CMAKE_CURRENT_LIST_DIR}/resources/logo.png)\nset(CPACK_IFW_PACKAGE_LOGO ${CMAKE_CURRENT_LIST_DIR}/resources/logo.png)\n\n# now include the relevant (cross-platform) packaging script\ninclude(CPack)\ninclude(CPackIFW)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# we are interested in cross-platform support. IFW is the only generator that allows for it, so set it explicitly\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_GENERATOR \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;IFW\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_ROOT \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;C:/Qt/Tools/QtInstallerFramework/4.8\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# set some IFW specific variables, which can be derived from the more generic variables given above\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_VERBOSE \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eON\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_TITLE \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CPACK_PACKAGE_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_PUBLISHER \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CPACK_PACKAGE_VENDOR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PRODUCT_URL \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;https://cfd.university\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# create a more memorable name for the maintenance tool (used for uninstalling the package)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e_MaintenanceTool)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_INI_FILE \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.ini)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# customise the theme if required\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_WIZARD_STYLE \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Modern\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# adjust the default size\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_WIZARD_DEFAULT_HEIGHT 400)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# set the installer icon and logo\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(WIN32)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  set\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_ICON \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_LIST_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/resources/logo.ico)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  elseif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(APPLE)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  set\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_ICON \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_LIST_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/resources/logo.icns)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eendif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_WINDOWS_LOGO \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_LIST_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/resources/logo.png)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_LOGO \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_LIST_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/resources/logo.png)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# now include the relevant (cross-platform) packaging script\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPack)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPackIFW)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":32,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# we are interested in cross-platform support. IFW is the only generator that allows for it, so set it explicitly
set(CPACK_GENERATOR &quot;IFW&quot;)
set(CPACK_IFW_ROOT &quot;C:/Qt/Tools/QtInstallerFramework/4.8&quot;)

# set some IFW specific variables, which can be derived from the more generic variables given above
set(CPACK_IFW_VERBOSE ON)
set(CPACK_IFW_PACKAGE_TITLE ${CPACK_PACKAGE_NAME})
set(CPACK_IFW_PACKAGE_PUBLISHER ${CPACK_PACKAGE_VENDOR})
set(CPACK_IFW_PRODUCT_URL &quot;https://cfd.university&quot;)

# create a more memorable name for the maintenance tool (used for uninstalling the package)
set(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME ${PROJECT_NAME}_MaintenanceTool)
set(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_INI_FILE ${CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME}.ini)

# customise the theme if required
set(CPACK_IFW_PACKAGE_WIZARD_STYLE &quot;Modern&quot;)

# adjust the default size
set(CPACK_IFW_PACKAGE_WIZARD_DEFAULT_HEIGHT 400)

# set the installer icon and logo
if(WIN32)
  set(CPACK_IFW_PACKAGE_ICON ${CMAKE_CURRENT_LIST_DIR}/resources/logo.ico)
  elseif(APPLE)
  set(CPACK_IFW_PACKAGE_ICON ${CMAKE_CURRENT_LIST_DIR}/resources/logo.icns)
endif()
set(CPACK_IFW_PACKAGE_WINDOWS_LOGO ${CMAKE_CURRENT_LIST_DIR}/resources/logo.png)
set(CPACK_IFW_PACKAGE_LOGO ${CMAKE_CURRENT_LIST_DIR}/resources/logo.png)

# now include the relevant (cross-platform) packaging script
include(CPack)
include(CPackIFW)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># we are interested in cross-platform support. IFW is the only generator that allows for it, so set it explicitly</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_GENERATOR </span><span style="color: #CE9178">&quot;IFW&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_ROOT </span><span style="color: #CE9178">&quot;C:/Qt/Tools/QtInstallerFramework/4.8&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># set some IFW specific variables, which can be derived from the more generic variables given above</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_VERBOSE </span><span style="color: #569CD6">ON</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_TITLE </span><span style="color: #569CD6">${CPACK_PACKAGE_NAME}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_PUBLISHER </span><span style="color: #569CD6">${CPACK_PACKAGE_VENDOR}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PRODUCT_URL </span><span style="color: #CE9178">&quot;https://cfd.university&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># create a more memorable name for the maintenance tool (used for uninstalling the package)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME </span><span style="color: #569CD6">${PROJECT_NAME}</span><span style="color: #D4D4D4">_MaintenanceTool)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_INI_FILE </span><span style="color: #569CD6">${CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME}</span><span style="color: #D4D4D4">.ini)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># customise the theme if required</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_WIZARD_STYLE </span><span style="color: #CE9178">&quot;Modern&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># adjust the default size</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_WIZARD_DEFAULT_HEIGHT 400)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># set the installer icon and logo</span></span>
<span class="line"><span style="color: #569CD6">if</span><span style="color: #D4D4D4">(WIN32)</span></span>
<span class="line"><span style="color: #569CD6">  set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_ICON </span><span style="color: #569CD6">${CMAKE_CURRENT_LIST_DIR}</span><span style="color: #D4D4D4">/resources/logo.ico)</span></span>
<span class="line"><span style="color: #569CD6">  elseif</span><span style="color: #D4D4D4">(APPLE)</span></span>
<span class="line"><span style="color: #569CD6">  set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_ICON </span><span style="color: #569CD6">${CMAKE_CURRENT_LIST_DIR}</span><span style="color: #D4D4D4">/resources/logo.icns)</span></span>
<span class="line"><span style="color: #569CD6">endif</span><span style="color: #D4D4D4">()</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_WINDOWS_LOGO </span><span style="color: #569CD6">${CMAKE_CURRENT_LIST_DIR}</span><span style="color: #D4D4D4">/resources/logo.png)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_LOGO </span><span style="color: #569CD6">${CMAKE_CURRENT_LIST_DIR}</span><span style="color: #D4D4D4">/resources/logo.png)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># now include the relevant (cross-platform) packaging script</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(CPack)</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(CPackIFW)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>First, we tell CPack that we want to use IFW (line 2) and then where to find it (line 3). If you want to support several installers, then you should not hardcode the generator here. Instead, later, when you call CPack on the command line, you can specify it with the <code>-G IFW</code> command line argument, i.e. <code>cpack -G IFW</code>. But since we are only interested in using CMake's only cross-platform installer, we can safely hardcode it here and cpack will use IFW correctly, without us having to specify it on the command line.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The variables set on lines 6-9 make use of some of the generic CPack variables, whereas line 6 just adds additional output information to the console. This can be helpful if things go wrong and we need to debug our <code>packaging.cmake</code> file.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Lines 12-13 set the name of the maintenance tool. We typically want to include some form of the project name here, so that we can later distinguish it from other packages. The Maintenance tool allows user after they have installed our library to either modify the installation, or to uninstall our package.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Line 16 influences the look of the graphical user interface, and while there are several available, <code>Modern</code> seems to be a sensible default look. I have also slightly increased the height of the installer window. The default one seems too small and requires scrolling within the window, so I have adjusted the height here to 400 pixels.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Lines 22-26 set the logo of our installer (the icon of the executable). They are different for Windows and macOS (hence all of these different logo files within our <code>cmake/resources/</code> folder), and as far as I am aware, we can't set it on Linux, so no logo is included here. Lines 17-18 provide some additional customisation of the installer itself, where we can include a project logo. This will be shown at the top-right part of the installer window throughout the installation process.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Finally, after setting all variables (both for CPack and IFW), we are ready to include both to make them available for our project, and this is done on lines 31 and 32. It is recommended to first set the variables and then include CPack (and an</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5 class="wp-block-heading" id="aioseo-creating-the-complex-number-library-installation-rule">Creating the complex number library installation rule</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>We have set up the basics of the installer thus far, but we don't know yet what we should actually install. This is what we want to focus on next. Let's have a look again at our installer that we saw above. This is what we saw:</p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":3941,"sizeSlug":"full","linkDestination":"none"} -->
<figure class="wp-block-image size-full"><img src="http://cfd.university/wp-content/uploads/2024/06/complexNumberLibrary_installer.png" alt="" class="wp-image-3941"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>Once we reach the <em>Select Components</em> screen, we are able to tell the installer what we want to install, leaving out any components we do not care for. In our case, we see that the complex number library will always be installed (it does not have a checkbox), and this makes sense, we want to always install the library and its header files, otherwise why are we bothering with the installer in the first place?</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Then, we also have a Documentation group under which we have the API Documentation. We only have one item here (mainly just to show that we can have sub-components in groups), and selecting the Documentation group would select all components beneath it (in this case, again, there is only the API Documentation). Also note that the documentation is not selected by default, and these are all behaviours that we can influence.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So, with this new understanding, let's see how we can add components to our installer. This is a 2-step process. First, we tell CPack about a component and then IFW. IFW will receive basic information from the CPack component, and then we can set some specific settings for the IFW component, which the CPack component does not support. This is shown below for the complex number library.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# add the library as a component to the installer\ncpack_add_component(complexLib\n  REQUIRED\n  DISPLAY_NAME \u0022Complex Number Library\u0022\n  DESCRIPTION \u0022Install the complex number library\u0022\n)\n\ncpack_ifw_configure_component(complexLib\n  REQUIRED\n  LICENSES \u0022MIT License\u0022 ${CMAKE_SOURCE_DIR}/cmake/resources/license.txt\n  SORTING_PRIORITY 99\n)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# add the library as a component to the installer\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ecpack_add_component(complexLib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  REQUIRED\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  DISPLAY_NAME \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Complex Number Library\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  DESCRIPTION \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Install the complex number library\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ecpack_ifw_configure_component(complexLib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  REQUIRED\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  LICENSES \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;MIT License\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/cmake/resources/license.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  SORTING_PRIORITY 99\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":12,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# add the library as a component to the installer
cpack_add_component(complexLib
  REQUIRED
  DISPLAY_NAME &quot;Complex Number Library&quot;
  DESCRIPTION &quot;Install the complex number library&quot;
)

cpack_ifw_configure_component(complexLib
  REQUIRED
  LICENSES &quot;MIT License&quot; ${CMAKE_SOURCE_DIR}/cmake/resources/license.txt
  SORTING_PRIORITY 99
)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># add the library as a component to the installer</span></span>
<span class="line"><span style="color: #D4D4D4">cpack_add_component(complexLib</span></span>
<span class="line"><span style="color: #D4D4D4">  REQUIRED</span></span>
<span class="line"><span style="color: #D4D4D4">  DISPLAY_NAME </span><span style="color: #CE9178">&quot;Complex Number Library&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  DESCRIPTION </span><span style="color: #CE9178">&quot;Install the complex number library&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">cpack_ifw_configure_component(complexLib</span></span>
<span class="line"><span style="color: #D4D4D4">  REQUIRED</span></span>
<span class="line"><span style="color: #D4D4D4">  LICENSES </span><span style="color: #CE9178">&quot;MIT License&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">${CMAKE_SOURCE_DIR}</span><span style="color: #D4D4D4">/cmake/resources/license.txt</span></span>
<span class="line"><span style="color: #D4D4D4">  SORTING_PRIORITY 99</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>On lines 2-6, we call <code>cpack_add_component()</code>, and the first argument is the name of the component that we want to add. Where is this coming from? Well, for this, we have to briefly look into our <code>cmake/install.cmake</code> file again. We defined our install target for the complex number library as</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"install(TARGETS ${CMAKE_PROJECT_NAME}\n  EXPORT complexNumbersTargets\n  FILE_SET HEADERS\n  COMPONENT complexLib\n)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einstall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(TARGETS \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  EXPORT\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e complexNumbersTargets\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  FILE_SET HEADERS\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  COMPONENT complexLib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":5,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="install(TARGETS ${CMAKE_PROJECT_NAME}
  EXPORT complexNumbersTargets
  FILE_SET HEADERS
  COMPONENT complexLib
)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">install</span><span style="color: #D4D4D4">(TARGETS </span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span></span>
<span class="line"><span style="color: #569CD6">  EXPORT</span><span style="color: #D4D4D4"> complexNumbersTargets</span></span>
<span class="line"><span style="color: #D4D4D4">  FILE_SET HEADERS</span></span>
<span class="line"><span style="color: #D4D4D4">  COMPONENT complexLib</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Notice how we specified a <code>COMPONENT</code> on line 4, which is called <code>complexLib</code>. This is the same name as the first argument in the <code>cpack_add_component()</code> call. Then, we say that the component is <code>REQUIRED</code>, and we saw in the graphical installer above that we can't select a checkbox here (because of this <code>REQUIRED</code> setting).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The <code>DISPLAY_NAME</code> is the name seen in the graphical installer and the <code>DESCRIPTION</code> is shown to its right when selected (also seen in the screenshot above).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We then call <code>spac_ifw_configure_component()</code>, where again, the first argument must be the same name as the <code>COMPONENT</code> keyword specified during the call to <code>install()</code>. We set it to <code>REQUIRED</code> as well, and provide a license file that users have to accept when clicking through the installer. In this case, it is located in the <code>cmake/resources/license.txt</code> file, and we use the very permissive MIT license here (it doesn't get much more open-source than this!).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The <code>SORTING_PRIORITY</code> tells IFW where to place this item in the component tree. Since I want this package to be on top all the time, I just give it a very high priority. The higher this value, the further to the top it will go.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5 class="wp-block-heading" id="aioseo-creating-the-documentation-installation-rule">Creating the documentation installation rule</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Next, we want to also include the documentation, and this is slightly different, as I also want to show how to work with component groups, so that we can, potentially, group different components under the same tree entry. This is shown below.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# add the documentation under a \u0022developer\u0022 group component\nif (BUILD_DOCS)\n  cpack_add_component(documentation\n    DISPLAY_NAME \u0022API Documentation\u0022\n    DESCRIPTION \u0022Documentation for the complex numbers library\u0022\n    GROUP documentationGroup\n  )\n    \n  cpack_ifw_configure_component(documentation\n    DEFAULT FALSE\n    GROUP documentationGroup\n    SORTING_PRIORITY 1\n  )\n\n  cpack_add_component_group(documentationGroup\n    EXPANDED\n    DISPLAY_NAME \u0022Documentation\u0022\n    DESCRIPTION \u0022Install the complex Number Library documentation\u0022\n  )\n\n  cpack_ifw_configure_component_group(documentationGroup\n    SORTING_PRIORITY 1\n  )\nendif(BUILD_DOCS)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# add the documentation under a \u0026quot;developer\u0026quot; group component\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (BUILD_DOCS)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  cpack_add_component(documentation\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DISPLAY_NAME \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;API Documentation\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DESCRIPTION \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Documentation for the complex numbers library\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    GROUP documentationGroup\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  cpack_ifw_configure_component(documentation\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DEFAULT \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eFALSE\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    GROUP documentationGroup\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    SORTING_PRIORITY 1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  cpack_add_component_group(documentationGroup\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    EXPANDED\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DISPLAY_NAME \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Documentation\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DESCRIPTION \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Install the complex Number Library documentation\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  cpack_ifw_configure_component_group(documentationGroup\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    SORTING_PRIORITY 1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eendif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(BUILD_DOCS)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":24,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# add the documentation under a &quot;developer&quot; group component
if (BUILD_DOCS)
  cpack_add_component(documentation
    DISPLAY_NAME &quot;API Documentation&quot;
    DESCRIPTION &quot;Documentation for the complex numbers library&quot;
    GROUP documentationGroup
  )
    
  cpack_ifw_configure_component(documentation
    DEFAULT FALSE
    GROUP documentationGroup
    SORTING_PRIORITY 1
  )

  cpack_add_component_group(documentationGroup
    EXPANDED
    DISPLAY_NAME &quot;Documentation&quot;
    DESCRIPTION &quot;Install the complex Number Library documentation&quot;
  )

  cpack_ifw_configure_component_group(documentationGroup
    SORTING_PRIORITY 1
  )
endif(BUILD_DOCS)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># add the documentation under a &quot;developer&quot; group component</span></span>
<span class="line"><span style="color: #569CD6">if</span><span style="color: #D4D4D4"> (BUILD_DOCS)</span></span>
<span class="line"><span style="color: #D4D4D4">  cpack_add_component(documentation</span></span>
<span class="line"><span style="color: #D4D4D4">    DISPLAY_NAME </span><span style="color: #CE9178">&quot;API Documentation&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    DESCRIPTION </span><span style="color: #CE9178">&quot;Documentation for the complex numbers library&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    GROUP documentationGroup</span></span>
<span class="line"><span style="color: #D4D4D4">  )</span></span>
<span class="line"><span style="color: #D4D4D4">    </span></span>
<span class="line"><span style="color: #D4D4D4">  cpack_ifw_configure_component(documentation</span></span>
<span class="line"><span style="color: #D4D4D4">    DEFAULT </span><span style="color: #569CD6">FALSE</span></span>
<span class="line"><span style="color: #D4D4D4">    GROUP documentationGroup</span></span>
<span class="line"><span style="color: #D4D4D4">    SORTING_PRIORITY 1</span></span>
<span class="line"><span style="color: #D4D4D4">  )</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  cpack_add_component_group(documentationGroup</span></span>
<span class="line"><span style="color: #D4D4D4">    EXPANDED</span></span>
<span class="line"><span style="color: #D4D4D4">    DISPLAY_NAME </span><span style="color: #CE9178">&quot;Documentation&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    DESCRIPTION </span><span style="color: #CE9178">&quot;Install the complex Number Library documentation&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  )</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  cpack_ifw_configure_component_group(documentationGroup</span></span>
<span class="line"><span style="color: #D4D4D4">    SORTING_PRIORITY 1</span></span>
<span class="line"><span style="color: #D4D4D4">  )</span></span>
<span class="line"><span style="color: #569CD6">endif</span><span style="color: #D4D4D4">(BUILD_DOCS)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>First, we define our components again, and this is very similar to what we saw before for the complex number library component. The only difference here is that we specify a <code>GROUP</code> parameter, both for the call to <code>cpack_add_component()</code> on lines 3-7, and <code>cpack_ifw_configure_component()</code> on lines 9-13. We can also see that we set the <code>DEFAULT</code> value to false on line 10, which means that this component (the documentation) is deselected in the installer by default. The user has to activate it manually, if it should be installed.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Looking quickly at the documentation's <code>install()</code> call, we see the following in the <code>cmake/install.cmake</code> file:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"install(\n  DIRECTORY ${CMAKE_BINARY_DIR}/docs/html\n  DESTINATION docs/complexNumberLib/\n  COMPONENT documentation\n)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einstall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  DIRECTORY \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_BINARY_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/docs/html\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  DESTINATION docs/complexNumberLib/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  COMPONENT documentation\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":5,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="install(
  DIRECTORY ${CMAKE_BINARY_DIR}/docs/html
  DESTINATION docs/complexNumberLib/
  COMPONENT documentation
)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">install</span><span style="color: #D4D4D4">(</span></span>
<span class="line"><span style="color: #D4D4D4">  DIRECTORY </span><span style="color: #569CD6">${CMAKE_BINARY_DIR}</span><span style="color: #D4D4D4">/docs/html</span></span>
<span class="line"><span style="color: #D4D4D4">  DESTINATION docs/complexNumberLib/</span></span>
<span class="line"><span style="color: #D4D4D4">  COMPONENT documentation</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Again, we have specified here a <code>COMPONENT</code> with the name of <code>documentation</code>, and this is the same name we provide as the first argument to the calls to <code>cpack_add_component()</code> and <code>cpack_ifw_configure_component()</code> we saw above.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Then, we have a call to <code>cpack_add_component_group()</code> on lines 15-19. Notice that this is after the call to the component, which is part of this component group. Here, we give a component group name as the first argument (which does not have to mirror any names in the <code>install()</code> calls). The component group name must be different to all the other components, and it can't be the same. Adding the suffix <code>Group</code> is usually a safe option.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Apart from the <code>DISPLAY_NAME</code> and <code>DESCRIPTION</code> which we saw above, we can also add the <code>EXPANDED</code> keyword, which will show the sub-component tree expanded by default (otherwise, the user has to first expand it to see all components underneath it).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Next, we call <code>cpack_ifw_configure_component_group()</code>, where we provide now the name of the component group set on line 15, i.e. the first argument given to <code>cpack_add_component_group()</code>. Notice that we now have two <code>SORTING_PRIORITY</code> properties. The one set on line 22 for the component group will tell IFW where to place the group in the component tree. It is set to 1, so it has a low priority, and so it will show after the complex number library.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We can also sort items within this sub-component tree, and this is what we do with the property set on line 12, i.e. when we create the API Documentation component. In this case, we only have one item in the Documentation group, but if we had more, then we could sort the components in this tree as well with the <code>SORTING_PRIORITY</code> property.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>And that's it! We have now defined all CPack generic, and IFW specific properties, along with components and potential component groups. We are now ready to create our installer, so let's look at the command line instructions we need to do exactly that.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-command-line-instructions">Command line instructions</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The command line instructions are, again, pretty much the same as what we saw in the last article, but we'll go through them here for completeness. As I am using Conan to get Doxygen into my project, I'm installing it with the following call (from within the root level directory of the project):</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"conan install . -pr dev \u002d\u002doutput-folder=build \u002d\u002dbuild=missin","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003econan\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003einstall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-pr\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003edev\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002doutput-folder=build\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dbuild=missin\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="conan install . -pr dev --output-folder=build --build=missin" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">conan</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">install</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">.</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-pr</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">dev</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--output-folder=build</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--build=missin</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Since I am on Windows and I want to get files created for PowerShell and not the outdated command prompt, I have added instructions to my <code>dev</code> profile and use that for the installation. You can see comments on this dev profile in the <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/never-worry-about-docs-again-automate-it-with-cmake-instead#aioseo-project-dependencies" target="_blank" rel="noopener" title="">last article</a>. If you have Doxygen already installed systemwide, i.e. through your package manager, then you can ignore this (and the next) step.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Once Conan has successfully installed Doxygen, change to the <code>build/</code> folder and execute the necessary scripts. On Windows, we source the location for Doxygen through a call to</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":".\\conanbuild.ps1","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\\conanbuild.ps1\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code=".\conanbuild.ps1" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">.</span><span style="color: #D4D4D4">\conanbuild.ps1</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>On UNIX, you would call:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"./conanbuild.sh","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e./conanbuild.sh\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="./conanbuild.sh" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">./conanbuild.sh</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>This should make everything we need visible to CMake, and we can proceed. Building the project requires the same steps as before: we build a debug version (though you could change this to release as well, which you would typically do if you want to package your project for release), we require the documentation to be built, and we use Ninja for the build itself:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cmake -DCMAKE_BUILD_TYPE=Debug -DBUILD_DOCS=ON -G Ninja ..","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-DCMAKE_BUILD_TYPE=Debug\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-DBUILD_DOCS=ON\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-G\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eNinja\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e..\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cmake -DCMAKE_BUILD_TYPE=Debug -DBUILD_DOCS=ON -G Ninja .." style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">cmake</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-DCMAKE_BUILD_TYPE=Debug</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-DBUILD_DOCS=ON</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-G</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Ninja</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">..</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>After the project is configured. we proceed to build the library and its documentation with:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cmake \u002d\u002dbuild . \u002d\u002dconfig Debug","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dbuild\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dconfig\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eDebug\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cmake --build . --config Debug" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">cmake</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--build</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">.</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--config</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Debug</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>At this stage, we would typically call <code>cmake --install . --config Debug</code>, but not so now. We want to take an intermediate step by packaging everything into a graphical installer, and then the user can execute the install step by going through the installer. It should be mentioned here, though, that installing the library with the call above is pretty much the same as using the graphical installer, i.e. our compiled library and documentation just get copied to a specific place on our hard disk.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>However, most people are probably happy not having to install a fully-fledged development environment with compilers and CMake just to get the installation working, and so the graphical installer may be more appealing to end users (even if they are developers). Since we already specified that we want to use IFW as our generator for the installer, we can simply call CPack at this point:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cpack","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecpack\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cpack" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">cpack</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Go into your <code>build/</code> folder, where you should now see an executable of the name <code>&lt;packageName-verion-platform.suffix&gt;</code>. In this case, it will translate to <code>complexNumbers-1.0.0-win64.exe</code>. Notice how the installer has its own logo, which we specified during the configuration of IFW. This is how it looks on my end:</p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":3955,"sizeSlug":"full","linkDestination":"none"} -->
<figure class="wp-block-image size-full"><img src="https://cfd.university/wp-content/uploads/2024/06/cpack_ifw_installer_logo.png" alt="" class="wp-image-3955"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>Pretty sweet! If you click on it, you will be guided through the installation process and this will feel like installing most other software on your system, if you are used to graphical installers!</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-summary">Summary</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>So then, we explored the last feature of CMake that I wanted to discuss in this series, and that is packaging your project after a new release has been generated. In this article, we used the Qt Installer Framework (IFW), which requires some input files that CMake can generate. Based on these input files, we are able to generate a graphical user interface that will guide the user through the installation that most Windows (and potentially Mac) users are used to. It doesn't get much simpler than this to make your project available to others!</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Installers are typically used for executables and probably less commonly for libraries, as these tend to be compiled and installed by the developers themselves, who likely know their way around CMake anyway (or how to use Conan or a similar package manager). However, what we saw in this article can be applied to executables as well, and with this knowledge in hand, you are now ready to package, release, and ship your software like a pro!</p>
<!-- /wp:paragraph -->