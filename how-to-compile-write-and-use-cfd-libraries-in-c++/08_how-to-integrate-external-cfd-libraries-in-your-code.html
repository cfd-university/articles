<!-- wp:paragraph -->
<p>This article will explore the most common build tools you come across when building CFD libraries from source. These include Make, Ninja build, MSBuild, CMake, Meson, and Autotools. While some build systems are preferred over others, you may encounter any of these in the wild. We'll adapt our previously developed linear algebra library and create different build scripts showing how all of these can be used in your project.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>In the second part of this article, we look at how we can compile the CGNS library, a common exchange format to store CFD grids/meshes and solution data (velocity, pressure, temperature, etc.). We look at two different routes, compiling it either with CMake and Ninja, which allows cross-compilation on Windows and UNIX, as well as Autotool and Make, which will only work in a UNIX environment.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Any CFD developer needs to know how to work with third-party libraries if they are serious about their code and want it to scale. This can be a daunting task at first. However, by the end of this article, you should have all the necessary tools in your arsenal to build any third-party library from source, irrespective of your operating system. You'll also know how to write different build scripts from scratch, which you can use in your own software projects.</p>
<!-- /wp:paragraph -->

<!-- wp:block {"ref":2490} /-->

<!-- wp:list -->
<ul><!-- wp:list-item -->
<li><strong>Download</strong>: <a href="https://cfd.university/download/linearalgebralib-part-8-how-to-integrate-external-cfd-libraries-in-your-code/?tmstv=1712896293" title="">linearAlgebraLib-Part-8-How-to-integrate-external-CFD-libraries-in-your-code.zip</a></li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><strong>Download</strong>: <a href="https://cfd.university/download/installcgns/?tmstv=1712896293" title="">installCGNS.zip</a> This archive contains scripts to automatically download, compile, and install the CGNS library with all its dependencies. There are two scripts, one for Windows and one for UNIX (Linux, macOS).</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:heading -->
<h2 class="wp-block-heading">In this series</h2>
<!-- /wp:heading -->

<!-- wp:shortcode -->
[custom_category_posts_list category_slug="how-to-compile-write-and-use-cfd-libraries-in-c"]
<!-- /wp:shortcode -->

<!-- wp:heading -->
<h2 class="wp-block-heading">In this article</h2>
<!-- /wp:heading -->

<!-- wp:aioseo/table-of-contents {"headings":[{"id":9,"blockClientId":"93abc651-d689-47b8-a136-8fcdab54e3b0","content":"How libraries get built in the real world","level":2,"anchor":"aioseo-how-libraries-get-build-in-the-real-world","order":0,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":14,"blockClientId":"4170ab01-c5b3-42d5-bf37-50ede3b54f68","content":"Popular build systems for CFD libraries","level":2,"anchor":"aioseo-popular-build-systems-for-cfd-libraries","order":1,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":22,"blockClientId":"fcc79476-0e10-4ad8-a702-063aca380cec","content":"Make","level":3,"anchor":"aioseo-make","order":2,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":36,"blockClientId":"455dd995-0289-4b80-8807-1bc69eace2e5","content":"Ninja","level":3,"anchor":"aioseo-ninja","order":3,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":43,"blockClientId":"ba0c2be6-f5c6-44e0-901b-77b68e898d1f","content":"MSBuild","level":3,"anchor":"aioseo-msbuild","order":4,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":52,"blockClientId":"d3ca9b77-d98f-4114-a6b4-362a4bbe308d","content":"CMake","level":3,"anchor":"aioseo-cmake","order":5,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":64,"blockClientId":"c583675d-2929-483a-8b28-3e304e98c932","content":"Meson","level":3,"anchor":"aioseo-meson","order":6,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":76,"blockClientId":"00e24949-9aeb-4573-9971-0cd92bee6aa5","content":"Autotools","level":3,"anchor":"aioseo-autotools","order":7,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]},{"id":95,"blockClientId":"bc4c7b8a-a4cc-437c-9846-a79999dcd53b","content":"Case study: Compiling the CGNS library","level":2,"anchor":"aioseo-case-study-compiling-the-cgns-library","order":8,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":102,"blockClientId":"13a3a5a9-9662-4b53-9ef3-425dbc90a03b","content":"Prerequisites for the CGNS library","level":3,"anchor":"aioseo-prerequisits-for-the-cgns-library","order":9,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":109,"blockClientId":"072c1247-7305-4518-af5c-72d033a876ec","content":"Using CMake and Ninja","level":3,"anchor":"aioseo-using-cmake","order":10,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":114,"blockClientId":"083167e2-ac14-4960-8d58-e04377da1d26","content":"Compiling the ZLib library","level":4,"anchor":"aioseo-compiling-zlib","order":11,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":129,"blockClientId":"a2ad22cc-f79d-4932-ae28-929f42b60f08","content":"Compiling the HDF5 library","level":4,"anchor":"aioseo-compiling-the-hdf5-librari","order":12,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":135,"blockClientId":"599ee050-e53c-41e9-8c34-7ae888856d09","content":"Compiling the CGNS library","level":4,"anchor":"aioseo-compiling-the-cgns-library","order":13,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]},{"id":142,"blockClientId":"fc77a77f-5d1e-4cf8-9c08-06b805afc10f","content":"Using Autotools and Make","level":3,"anchor":"aioseo-using-autotools-and-make","order":14,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":147,"blockClientId":"5fa219be-28fc-4232-a612-7801e23b5370","content":"Compiling the ZLib library","level":4,"anchor":"aioseo-compiling-the-cgns-library","order":15,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":156,"blockClientId":"581a95ea-ec07-445c-afa7-b8ef3490b0a9","content":"Compiling the HDF5 library","level":4,"anchor":"aioseo-compiling-the-cgns-library","order":16,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":168,"blockClientId":"8c3a3d4e-10a8-45d0-9b01-b40a23ad875f","content":"Compiling the CGNS library","level":4,"anchor":"aioseo-compiling-the-cgns-library","order":17,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]}]},{"id":178,"blockClientId":"1fa48222-bfaa-422e-83a9-83264a281606","content":"Summary","level":2,"anchor":"aioseo-summary","order":18,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]} -->
<div class="wp-block-aioseo-table-of-contents"><ul><li><a href="#aioseo-how-libraries-get-build-in-the-real-world">How libraries get built in the real world</a></li><li><a href="#aioseo-popular-build-systems-for-cfd-libraries">Popular build systems for CFD libraries</a><ul><li><a href="#aioseo-make">Make</a></li><li><a href="#aioseo-ninja">Ninja</a></li><li><a href="#aioseo-msbuild">MSBuild</a></li><li><a href="#aioseo-cmake">CMake</a></li><li><a href="#aioseo-meson">Meson</a></li><li><a href="#aioseo-autotools">Autotools</a></li></ul></li><li><a href="#aioseo-case-study-compiling-the-cgns-library">Case study: Compiling the CGNS library</a><ul><li><a href="#aioseo-prerequisits-for-the-cgns-library">Prerequisites for the CGNS library</a></li><li><a href="#aioseo-using-cmake">Using CMake and Ninja</a><ul><li><a href="#aioseo-compiling-zlib">Compiling the ZLib library</a></li><li><a href="#aioseo-compiling-the-hdf5-librari">Compiling the HDF5 library</a></li><li><a href="#aioseo-compiling-the-cgns-library">Compiling the CGNS library</a></li></ul></li><li><a href="#aioseo-using-autotools-and-make">Using Autotools and Make</a><ul><li><a href="#aioseo-compiling-the-cgns-library">Compiling the ZLib library</a></li><li><a href="#aioseo-compiling-the-cgns-library">Compiling the HDF5 library</a></li><li><a href="#aioseo-compiling-the-cgns-library">Compiling the CGNS library</a></li></ul></li></ul></li><li><a href="#aioseo-summary">Summary</a></li></ul></div>
<!-- /wp:aioseo/table-of-contents -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-how-libraries-get-build-in-the-real-world">How libraries get built in the real world</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>In our previous few articles in this series, we concocted our very own build script that either compiled a static or dynamic library or consumed a header-only library. We then used that library in our main executable and consumed its content. If you are developing a library which is supposed to be used by other people (or even yourself in the future), this is pretty much a recipe for disaster. There are two reasons for that</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><!-- wp:list-item -->
<li>No one has time to read and understand your build script to figure out how to compile your damn library.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>There are already tools and scripts in widely accepted usage so you don't have to reinvent the wheel.</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>Remember, programming is all about being <a href="https://en.wikipedia.org/wiki/Don't_repeat_yourself" target="_blank" rel="noopener" title="">DRY, not WET</a>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So, any serious library that wants to be consumed by other people has to provide some form of accepted build procedure that we can learn and apply to any number of libraries out there. This makes our life easier; once we have learned the steps in this article, we can pretty much compile and use libraries in our code. And this is exactly what I want to cover today. We also look at compiling a real CFD library which makes use of all the different build tools mentioned in the next section, so let's look at the contenders we have to know and work with.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-popular-build-systems-for-cfd-libraries">Popular build systems for CFD libraries</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>As alluded to above, there are a range of accepted build systems that unify the build procedure and ensure that we can reproducibly build libraries, regardless of who is developing them. This means we need to know 2 things:</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><!-- wp:list-item -->
<li>How to spot which build system is being used.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>How to compile a library after we know which build system is used.</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>Identifying which build system is used is usually straightforward. Compiling libraries with them is also pretty much pain-free but we just have to remember a few steps to do just that. Below I want to look at the two points listed above and get you an idea of how you would use these build systems. To get a feeling for how these build systems or scripts work, we are going to transform our <code>testHeaderOnlyLib.(sh|bat)</code> file into a version that is understandable to these build systems. We looked at the <code>testHeaderOnlyLib.(sh|bat)</code> file in our <a href="https://cfd.university/learn/how-to-compiler-write-and-use-cfd-libraries-in-c/how-to-write-a-cfd-library-compiling-and-testing" target="_blank" rel="noopener" title="">previous article</a>, and it was the simplest of all of the build scripts, but as a reminder, here it is again:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# testHeaderOnlyLib.sh\n#!/bin/bash\n\nrm -rf build\nmkdir -p build\n\n# compile main function and link against header-only library\ng++ -g -O0 -Wall -Wextra -I. -DHEADERONLYLIB -o build/headerOnlyLibExample main.cpp\n\n# run\necho \u0022Running header-only library example\u0022\n./build/headerOnlyLibExample","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# testHeaderOnlyLib.sh\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e#!/bin/bash\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erm\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-rf\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emkdir\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-p\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# compile main function and link against header-only library\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eg++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-g\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-O0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-Wall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-Wextra\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-I.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-DHEADERONLYLIB\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/headerOnlyLibExample\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003emain.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# run\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eecho\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Running header-only library example\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e./build/headerOnlyLibExample\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":12,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# testHeaderOnlyLib.sh
#!/bin/bash

rm -rf build
mkdir -p build

# compile main function and link against header-only library
g++ -g -O0 -Wall -Wextra -I. -DHEADERONLYLIB -o build/headerOnlyLibExample main.cpp

# run
echo &quot;Running header-only library example&quot;
./build/headerOnlyLibExample" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># testHeaderOnlyLib.sh</span></span>
<span class="line"><span style="color: #6A9955">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">rm</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-rf</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build</span></span>
<span class="line"><span style="color: #DCDCAA">mkdir</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-p</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># compile main function and link against header-only library</span></span>
<span class="line"><span style="color: #DCDCAA">g++</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-g</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-O0</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-Wall</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-Wextra</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-I.</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-DHEADERONLYLIB</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/headerOnlyLibExample</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">main.cpp</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># run</span></span>
<span class="line"><span style="color: #DCDCAA">echo</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&quot;Running header-only library example&quot;</span></span>
<span class="line"><span style="color: #DCDCAA">./build/headerOnlyLibExample</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>And, on Windows, we had a corresponding batch file:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"REM testHeaderOnlyLib.bat\n@echo off\n\ndel /q build\nmkdir build\n\nREM compile main function and link against header-only library\ncl /nologo /Zi /EHsc /Od /I. /DHEADERONLYLIB /Fe:build\\headerOnlyLibExample.exe main.cpp\n\nREM remove object files\ndel *.obj\n\nREM run\necho Running header-only library example\nbuild\\headerOnlyLibExample.exe","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eREM\u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e testHeaderOnlyLib.bat\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e@\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eecho\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eoff\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edel\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e /q build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003emkdir\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eREM\u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e compile main function and link against header-only library\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ecl /nologo /Zi /EHsc /Od /I. /DHEADERONLYLIB /Fe:build\\headerOnlyLibExample.exe main.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eREM\u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e remove object files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edel\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e *.obj\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eREM\u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e run\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eecho\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e Running header-only library example\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ebuild\\headerOnlyLibExample.exe\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bat","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":15,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="REM testHeaderOnlyLib.bat
@echo off

del /q build
mkdir build

REM compile main function and link against header-only library
cl /nologo /Zi /EHsc /Od /I. /DHEADERONLYLIB /Fe:build\headerOnlyLibExample.exe main.cpp

REM remove object files
del *.obj

REM run
echo Running header-only library example
build\headerOnlyLibExample.exe" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">REM</span><span style="color: #6A9955"> testHeaderOnlyLib.bat</span></span>
<span class="line"><span style="color: #D4D4D4">@</span><span style="color: #569CD6">echo</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">off</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">del</span><span style="color: #D4D4D4"> /q build</span></span>
<span class="line"><span style="color: #569CD6">mkdir</span><span style="color: #D4D4D4"> build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">REM</span><span style="color: #6A9955"> compile main function and link against header-only library</span></span>
<span class="line"><span style="color: #D4D4D4">cl /nologo /Zi /EHsc /Od /I. /DHEADERONLYLIB /Fe:build\headerOnlyLibExample.exe main.cpp</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">REM</span><span style="color: #6A9955"> remove object files</span></span>
<span class="line"><span style="color: #569CD6">del</span><span style="color: #D4D4D4"> *.obj</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">REM</span><span style="color: #6A9955"> run</span></span>
<span class="line"><span style="color: #569CD6">echo</span><span style="color: #D4D4D4"> Running header-only library example</span></span>
<span class="line"><span style="color: #D4D4D4">build\headerOnlyLibExample.exe</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>As a reminder, we simply compile the <code>main.cpp</code> file in this case and link it against the header-only version of our library. This is the simplest case but will already lead to some rather long build scripts for some tools, hence we choose this example here. We also have to define the <code>HEADERONLYLIB</code> preprocessor macro on the command line to the compiler, so we'll see how to do that as well with the different build tools. Let's look at the different tools in the next sections.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-make">Make</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Make is probably the first proper build system we had. Released in 1976, it is still in wide use these days and I have a love/hate relationship with it. I love it because it is not opinionated. I can use it to build a C++ code, I can use it to clean up my directories (after a build, for example), I can compile my latex documents and even instruct it to go on the internet, download some files, and then do something with these files. In essence, Make is an automation tool which lets you do a lot of things. I hate it because, in this day and age, it is not fit for purpose anymore when it comes to building software, especially cross-platform (Windows doesn't work well with Make).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If a project uses Make, you can spot this through a <code>Makefile</code> in the top-level directory. If you were to execute <code>make</code> in that directory, it would always look for this file and then process the information within this file.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Since Make does have not any opinion about what we are trying to build (or rather, automate), we have to provide all the raw commands ourselves. Now we have seen in the <a href="https://cfd.university/learn/how-to-compiler-write-and-use-cfd-libraries-in-c/how-to-write-a-cfd-library-compiling-and-testing" target="_blank" rel="noopener" title="">previous article</a>, that build scripts for Windows and UNIX looked quite different. So if we wanted to support both, we have to essentially provide two different versions, be it through two different <code>Makefile</code>s, or if and else statements within one <code>Makefile</code> to distinguish between Windows and UNIX. This creates a mess and traditionally speaking, Makefiles are developed to only work on UNIX platforms, Windows is largely excluded from its use.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>There is only one library I worked with in the past that provided a Makefile, and that is <a href="https://github.com/nigels-com/glew" target="_blank" rel="noopener" title="">GLEW</a>. It is used for 3D graphics applications (think showing your CAD geometry or mesh on screen, changing the camera location and interacting with the model through face or element selections). I can't recall working with any other library that provided pure <code>Makefile</code>s but they are still extremely useful and we will see in a second why.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If you want to compile a project that uses a <code>Makefile</code>, you simply call <code>make</code> on the command line and it will process the script. <code>Makefile</code>s usually list different tasks, and you can specify which task to execute. Think of the example I gave above, i.e. compiling and cleaning up a directory after building, if the tasks were named build and clean, then you could execute them with <code>make build</code> and <code>make clean</code>. If you want to know which tasks (more commonly referred to as targets) are available, you need to look into the Makefile and see which targets are defined. The general syntax is as follows:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"target: prerequisites\n  COMMAND_TO_CREATE_TARGET","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003etarget\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: prerequisites\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  COMMAND_TO_CREATE_TARGET\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":2,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="target: prerequisites
  COMMAND_TO_CREATE_TARGET" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">target</span><span style="color: #D4D4D4">: prerequisites</span></span>
<span class="line"><span style="color: #D4D4D4">  COMMAND_TO_CREATE_TARGET</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>A Makefile for our header-only library, for example, would look like the following:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# compiler\nCC = g++\nCFLAGS = -g -O0 -Wall -Wextra -I. -DHEADERONLYLIB\n\n# build targets\nall: main.o\n\t$(CC) $(CFLAGS) build/main.o -o build/headerOnlyLibExample\n\nmain.o: main.cpp\n\t$(CC) $(CFLAGS) -c main.cpp -o build/main.o\n\n# non-build targets\n.PHONY: init\ninit:\n\tmkdir -p build\n\n.PHONY: run\nrun:\n\t./build/headerOnlyLibExample\n\n.PHONY:\nclean:\n\trm -rf build","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# compiler\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCC\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = g++\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = -g -O0 -Wall -Wextra -I. -DHEADERONLYLIB\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# build targets\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: main.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCC\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e build/main.o -o build/headerOnlyLibExample\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emain.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: main.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCC\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -c main.cpp -o build/main.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# non-build targets\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: init\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003einit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tmkdir -p build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: run\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erun\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t./build/headerOnlyLibExample\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eclean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\trm -rf build\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":23,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# compiler
CC = g++
CFLAGS = -g -O0 -Wall -Wextra -I. -DHEADERONLYLIB

# build targets
all: main.o
	$(CC) $(CFLAGS) build/main.o -o build/headerOnlyLibExample

main.o: main.cpp
	$(CC) $(CFLAGS) -c main.cpp -o build/main.o

# non-build targets
.PHONY: init
init:
	mkdir -p build

.PHONY: run
run:
	./build/headerOnlyLibExample

.PHONY:
clean:
	rm -rf build" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># compiler</span></span>
<span class="line"><span style="color: #9CDCFE">CC</span><span style="color: #D4D4D4"> = g++</span></span>
<span class="line"><span style="color: #9CDCFE">CFLAGS</span><span style="color: #D4D4D4"> = -g -O0 -Wall -Wextra -I. -DHEADERONLYLIB</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># build targets</span></span>
<span class="line"><span style="color: #DCDCAA">all</span><span style="color: #D4D4D4">: main.o</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CC</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> build/main.o -o build/headerOnlyLibExample</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">main.o</span><span style="color: #D4D4D4">: main.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CC</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> -c main.cpp -o build/main.o</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># non-build targets</span></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: init</span></span>
<span class="line"><span style="color: #DCDCAA">init</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	mkdir -p build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: run</span></span>
<span class="line"><span style="color: #DCDCAA">run</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	./build/headerOnlyLibExample</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #DCDCAA">clean</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	rm -rf build</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>I only show the version that would work on UNIX here, as I mentioned, this is where they are still in use. We also see later that we actually would not write <code>Makefile</code>s ourselves, but rather generate them, so we are not losing anything by not specifying a version that would work on Windows.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>In the example above, we define two variables <code>CC</code> (compiler) and <code>CFLAGS</code> (compiler flags) on lines 2-3. We then define a total of 5 targets, 2 of which are used to build our program. These are given on lines 6-7 and 9-10, respectively. The <code>all</code> target is the default target that gets built and typically refers to the main target we want to build, e.g. an executable or a library. This target depends on <code>main.o</code> (prerequisite), as can be seen on line 6. If <code>main.o</code> is available, then we go ahead and execute the command on line 7, where we now reference our variables defined earlier, e.g. <code>$(CC) $(CFLAGS)</code> will be replaced by <code>g++ -g -O0 -Wall -Wextra -I. -DHEADERONLYLIB</code>. This command will create the executable <code>headerOnlyLibExample</code> in the <code>build</code> folder.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If, however, <code>main.o</code> is not available, then Make searches for a target to create the <code>main.o</code> target. This target is specified on line 9. This target depends on the <code>main.cpp</code> file (prerequisite), which we can assume to always exist. This target produces the <code>main.o</code> file from the <code>main.cpp</code> file and the command is again shown on the line below (line 10). Notice the additional <code>-c</code> flag, which instructs <code>g++</code> to only generate the object file. Once this file is generated, the <code>all</code> target can execute and produce its executable.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>There are additional <code>PHONY</code> targets, these indicate that the targets themselves are not files, but rather just names. For example, the <code>.PHONY: init</code> target tells Make to generate a new build folder, and since init is not a file, we supply the <code>PHONY</code> argument.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If we want to build our code now, we simply type <code>make</code> + <code>target</code>, e.g. <code>make all</code>, <code>make init</code>, <code>make clean</code>, etc. The <code>all</code> target is a special target and assumed to be the default target, so if you just type <code>make</code>, this call will execute the <code>make all</code> command. If you have a particularly large project you want to compile with Make, use the <code>-j {number_of_cpus}</code> flag to build the project in parallel. For example, to build the <code>all</code> target with 4 cores, type <code>make -j 4</code>.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-ninja">Ninja</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>To me, ninja is somewhat of a modern version of Make. If you look at its build files, you'll see a lot of inspiration taken from Make but <a href="https://ninja-build.org/" target="_blank" rel="noopener" title="">it has been designed to be more messy and unreadable</a> than Make. Why? This allows Ninja to focus on making the build process as fast as possible while sacrificing readability. Ninja build scripts are not supposed to be written by hand but rather be created by a generator, which we will look at below.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>To identify a project using ninja, you'll have to look for a file with the <code>*.ninja</code> extension, typically <code>build.ninja</code>. I haven't come across a single project making solely use of ninja files, so I can't give you a good example. However, many libraries use build systems that generate ninja files and these are then used to build the library.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>A ninja version of the <code>Makefile</code> we looked at above would look like the following:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# Variables\ncc = g++\ncflags = -g -O0 -Wall -Wextra -I. -DHEADERONLYLIB\nbuilddir = build\n\n# Rules\nrule compile\n  command = $cc $cflags -c $in -o $out\n  description = Compile C++ $out\n\nrule link\n  command = $cc $in -o $out\n  description = Linking $out\n\nrule mkbuilddir\n  command = mkdir -p $builddir\n  description = Make build directory\n\nrule run\n  command = ./$builddir/headerOnlyLibExample\n  description = Run the program\n\nrule clean\n  command = rm -rf $builddir\n  description = Clean build directory\n\nbuild $builddir/main.o: compile main.cpp\n  cflags = $cflags\n\nbuild $builddir/headerOnlyLibExample: link $builddir/main.o\n\n# Phony targets\nbuild init: mkbuilddir\n\nbuild run: run\n  pool = console\n\nbuild clean: clean\n\ndefault $builddir/headerOnlyLibExample\n","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Variables\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecc\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eg++\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecflags\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-g\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-O0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-Wall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-Wextra\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-I.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-DHEADERONLYLIB\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ebuilddir\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Rules\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erule\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ecompile\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecommand\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$cc\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$cflags\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-c\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$in\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$out\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003edescription\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eCompile\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eC++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$out\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erule\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003elink\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecommand\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$cc\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$in\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$out\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003edescription\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eLinking\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$out\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erule\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003emkbuilddir\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecommand\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003emkdir\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-p\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$builddir\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003edescription\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eMake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003edirectory\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erule\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003erun\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecommand\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e./\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$builddir\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/headerOnlyLibExample\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003edescription\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eRun\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ethe\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eprogram\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erule\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eclean\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecommand\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003erm\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-rf\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$builddir\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003edescription\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eClean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003edirectory\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ebuild\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$builddir\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/main.o:\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ecompile\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003emain.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecflags\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$cflags\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ebuild\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$builddir\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/headerOnlyLibExample:\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003elink\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$builddir\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/main.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Phony targets\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ebuild\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003einit:\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003emkbuilddir\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ebuild\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003erun:\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003erun\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003epool\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003econsole\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ebuild\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eclean:\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eclean\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003edefault\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e$builddir\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/headerOnlyLibExample\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":41,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# Variables
cc = g++
cflags = -g -O0 -Wall -Wextra -I. -DHEADERONLYLIB
builddir = build

# Rules
rule compile
  command = $cc $cflags -c $in -o $out
  description = Compile C++ $out

rule link
  command = $cc $in -o $out
  description = Linking $out

rule mkbuilddir
  command = mkdir -p $builddir
  description = Make build directory

rule run
  command = ./$builddir/headerOnlyLibExample
  description = Run the program

rule clean
  command = rm -rf $builddir
  description = Clean build directory

build $builddir/main.o: compile main.cpp
  cflags = $cflags

build $builddir/headerOnlyLibExample: link $builddir/main.o

# Phony targets
build init: mkbuilddir

build run: run
  pool = console

build clean: clean

default $builddir/headerOnlyLibExample
" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># Variables</span></span>
<span class="line"><span style="color: #DCDCAA">cc</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">g++</span></span>
<span class="line"><span style="color: #DCDCAA">cflags</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-g</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-O0</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-Wall</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-Wextra</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-I.</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-DHEADERONLYLIB</span></span>
<span class="line"><span style="color: #DCDCAA">builddir</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Rules</span></span>
<span class="line"><span style="color: #DCDCAA">rule</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">compile</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">command</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$cc</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$cflags</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-c</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$in</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$out</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">description</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Compile</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">C++</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$out</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">rule</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">link</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">command</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$cc</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$in</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$out</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">description</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Linking</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$out</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">rule</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">mkbuilddir</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">command</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">mkdir</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-p</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$builddir</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">description</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Make</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">directory</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">rule</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">run</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">command</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">./</span><span style="color: #9CDCFE">$builddir</span><span style="color: #CE9178">/headerOnlyLibExample</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">description</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Run</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">the</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">program</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">rule</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">clean</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">command</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">rm</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-rf</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$builddir</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">description</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Clean</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">directory</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">build</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$builddir</span><span style="color: #CE9178">/main.o:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">compile</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">main.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">cflags</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$cflags</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">build</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$builddir</span><span style="color: #CE9178">/headerOnlyLibExample:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">link</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$builddir</span><span style="color: #CE9178">/main.o</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Phony targets</span></span>
<span class="line"><span style="color: #DCDCAA">build</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">init:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">mkbuilddir</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">build</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">run:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">run</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">pool</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">=</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">console</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">build</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">clean:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">clean</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">default</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$builddir</span><span style="color: #CE9178">/headerOnlyLibExample</span></span>
<span class="line"></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Instead of hardcoding every command directly, we specify rules for compiling, linking, etc. and then apply them to our source files. Take the <code>compile</code> rule on lines 7-9, for example, this rule specifies how to compile a file that was provided (<code>$in</code>) and produces an output (<code>$out</code>). On line 27, we then use this rule to compile the <code>main.cpp</code> file (<code>$in</code>) to produce the <code>main.o</code> file (<code>$out</code>) which is located in the build directory (<code>$builddir</code>, set on line 4). The other targets proceed similarly and we set the default target on line 40, which would correspond to the <code>all</code> target for a <code>Makefile</code>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We instruct Ninja to execute different targets with the <code>ninja</code> + <code>target</code> syntax, similar to what we saw earlier for <code>Makefile</code>s as well. The default target is simply run by typing <code>ninja</code>, and the other targets would be executed as <code>ninja init</code>, <code>ninja run</code>, <code>ninja clean</code>, etc. Also, we can instruct Ninja to run in parallel using the <code>-j</code> flag as we saw with <code>Makefile</code>s, e.g. <code>ninja -j 4</code> will build the default target on 4 cores.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-msbuild">MSBuild</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>MSBuild, then, is Microsoft's flagship build generator. It is uncommon to write this file yourself, similar to comments made about Make and Ninja, and instead, it would be generated by a generator. Or, if you are on Windows and are using Visual Studio anyway, then this build file will be generated for you as part of your project. A MSBuild file can be identified by its <code>*.vcxproj</code> file extension and when you open it you will be in XML heaven. I don't know what it is about XML files that appeals so much to Microsoft, but their fetish for XML files can be seen in all their other products as well. If you have ever opened a Word, Excel, PowerPoint, etc. file in text mode, you know what I mean. Internally, all their office documents are stored as XML files. I digress.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Let's see how our simple build script can be transformed then into an MSBuild-compatible build script.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"\u0026lt;?xml version=\u00221.0\u0022 encoding=\u0022utf-8\u0022?\u003e\n\u0026lt;Project DefaultTargets=\u0022Build\u0022 xmlns=\u0022http://schemas.microsoft.com/developer/msbuild/2003\u0022\u003e\n\n  \u0026lt;Import Project=\u0022$(VCTargetsPath)\\Microsoft.Cpp.Default.props\u0022 /\u003e\n\n  \u0026lt;PropertyGroup Label=\u0022Globals\u0022\u003e\n    \u0026lt;RootNamespace\u003eHeaderOnlyLibExample\u0026lt;/RootNamespace\u003e\n  \u0026lt;/PropertyGroup\u003e\n\n  \u0026lt;ItemGroup Label=\u0022ProjectConfigurations\u0022\u003e\n    \u0026lt;ProjectConfiguration Include=\u0022Debug|x64\u0022\u003e\n      \u0026lt;Configuration\u003eDebug\u0026lt;/Configuration\u003e\n      \u0026lt;Platform\u003ex64\u0026lt;/Platform\u003e\n    \u0026lt;/ProjectConfiguration\u003e\n  \u0026lt;/ItemGroup\u003e\n\n  \u0026lt;PropertyGroup Condition=\u0022'$(Configuration)|$(Platform)'=='Debug|x64'\u0022 Label=\u0022Configuration\u0022\u003e\n    \u0026lt;ConfigurationType\u003eApplication\u0026lt;/ConfigurationType\u003e\n    \u0026lt;UseDebugLibraries\u003etrue\u0026lt;/UseDebugLibraries\u003e\n    \u0026lt;PlatformToolset\u003ev143\u0026lt;/PlatformToolset\u003e\n    \u0026lt;CharacterSet\u003eMultiByte\u0026lt;/CharacterSet\u003e\n  \u0026lt;/PropertyGroup\u003e\n\n  \u0026lt;PropertyGroup\u003e\n    \u0026lt;IntermediateOutputPath\u003ebuild\\$(Configuration)\\obj\\\u0026lt;/IntermediateOutputPath\u003e\n    \u0026lt;OutDir\u003ebuild\\$(Configuration)\\bin\\\u0026lt;/OutDir\u003e\n    \u0026lt;TargetName\u003eHeaderOnlyLibExample\u0026lt;/TargetName\u003e\n  \u0026lt;/PropertyGroup\u003e\n\n  \u0026lt;Import Project=\u0022$(VCTargetsPath)\\Microsoft.Cpp.props\u0022 /\u003e\n\n  \u0026lt;ItemDefinitionGroup\u003e\n    \u0026lt;ClCompile\u003e\n      \u0026lt;PreprocessorDefinitions\u003eHEADERONLYLIB;%(PreprocessorDefinitions)\u0026lt;/PreprocessorDefinitions\u003e\n      \u0026lt;AdditionalIncludeDirectories\u003e.\u0026lt;/AdditionalIncludeDirectories\u003e\n      \u0026lt;WarningLevel\u003eLevel3\u0026lt;/WarningLevel\u003e\n      \u0026lt;Optimization\u003eDisabled\u0026lt;/Optimization\u003e\n    \u0026lt;/ClCompile\u003e\n    \u0026lt;Link\u003e\n      \u0026lt;SubSystem\u003eConsole\u0026lt;/SubSystem\u003e\n      \u0026lt;GenerateDebugInformation\u003etrue\u0026lt;/GenerateDebugInformation\u003e\n    \u0026lt;/Link\u003e\n  \u0026lt;/ItemDefinitionGroup\u003e\n\n  \u0026lt;ItemGroup\u003e\n    \u0026lt;ClCompile Include=\u0022main.cpp\u0022 /\u003e\n  \u0026lt;/ItemGroup\u003e\n\n  \u0026lt;Import Project=\u0022$(VCTargetsPath)\\Microsoft.Cpp.targets\u0022 /\u003e\n\n  \u0026lt;Target Name=\u0022clean\u0022\u003e\n    \u0026lt;RemoveDir Directories=\u0022build\u0022 /\u003e\n  \u0026lt;/Target\u003e\n\n  \u0026lt;Target Name=\u0022run\u0022 DependsOnTargets=\u0022Build\u0022\u003e\n    \u0026lt;Exec Command=\u0022$(OutputPath)$(TargetName)$(TargetExt)\u0022 /\u003e\n  \u0026lt;/Target\u003e\n\n\u0026lt;/Project\u003e","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;?\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003exml\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e version\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;1.0\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e encoding\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;utf-8\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e?\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eProject\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eDefaultTargets\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Build\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003exmlns\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;http://schemas.microsoft.com/developer/msbuild/2003\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eImport\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eProject\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;$(VCTargetsPath)\\Microsoft.Cpp.Default.props\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e/\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLabel\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Globals\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eRootNamespace\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eHeaderOnlyLibExample\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eRootNamespace\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eItemGroup\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLabel\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;ProjectConfigurations\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eProjectConfiguration\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eInclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Debug|x64\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e      \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eConfiguration\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eDebug\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eConfiguration\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e      \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ePlatform\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ex64\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ePlatform\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eProjectConfiguration\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eItemGroup\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCondition\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;\u0026#39;$(Configuration)|$(Platform)\u0026#39;==\u0026#39;Debug|x64\u0026#39;\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLabel\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Configuration\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eConfigurationType\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eApplication\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eConfigurationType\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eUseDebugLibraries\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003etrue\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eUseDebugLibraries\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ePlatformToolset\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ev143\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ePlatformToolset\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eCharacterSet\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eMultiByte\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eCharacterSet\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eIntermediateOutputPath\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ebuild\\$(Configuration)\\obj\\\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eIntermediateOutputPath\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eOutDir\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ebuild\\$(Configuration)\\bin\\\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eOutDir\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eTargetName\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eHeaderOnlyLibExample\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eTargetName\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eImport\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eProject\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;$(VCTargetsPath)\\Microsoft.Cpp.props\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e/\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eItemDefinitionGroup\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eClCompile\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e      \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ePreprocessorDefinitions\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eHEADERONLYLIB;%(PreprocessorDefinitions)\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ePreprocessorDefinitions\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e      \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eAdditionalIncludeDirectories\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eAdditionalIncludeDirectories\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e      \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eWarningLevel\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eLevel3\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eWarningLevel\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e      \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eOptimization\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eDisabled\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eOptimization\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eClCompile\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eLink\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e      \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eSubSystem\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eConsole\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eSubSystem\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e      \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eGenerateDebugInformation\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003etrue\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eGenerateDebugInformation\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eLink\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eItemDefinitionGroup\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eItemGroup\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eClCompile\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eInclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;main.cpp\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e/\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eItemGroup\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eImport\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eProject\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;$(VCTargetsPath)\\Microsoft.Cpp.targets\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e/\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eTarget\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eName\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;clean\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eRemoveDir\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eDirectories\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;build\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e/\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eTarget\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eTarget\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eName\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;run\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eDependsOnTargets\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Build\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eExec\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCommand\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;$(OutputPath)$(TargetName)$(TargetExt)\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e/\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eTarget\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eProject\u003c/span\u003e\u003cspan style=\u0022color: #808080\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"xml","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":59,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;Project DefaultTargets=&quot;Build&quot; xmlns=&quot;http://schemas.microsoft.com/developer/msbuild/2003&quot;&gt;

  &lt;Import Project=&quot;$(VCTargetsPath)\Microsoft.Cpp.Default.props&quot; /&gt;

  &lt;PropertyGroup Label=&quot;Globals&quot;&gt;
    &lt;RootNamespace&gt;HeaderOnlyLibExample&lt;/RootNamespace&gt;
  &lt;/PropertyGroup&gt;

  &lt;ItemGroup Label=&quot;ProjectConfigurations&quot;&gt;
    &lt;ProjectConfiguration Include=&quot;Debug|x64&quot;&gt;
      &lt;Configuration&gt;Debug&lt;/Configuration&gt;
      &lt;Platform&gt;x64&lt;/Platform&gt;
    &lt;/ProjectConfiguration&gt;
  &lt;/ItemGroup&gt;

  &lt;PropertyGroup Condition=&quot;'$(Configuration)|$(Platform)'=='Debug|x64'&quot; Label=&quot;Configuration&quot;&gt;
    &lt;ConfigurationType&gt;Application&lt;/ConfigurationType&gt;
    &lt;UseDebugLibraries&gt;true&lt;/UseDebugLibraries&gt;
    &lt;PlatformToolset&gt;v143&lt;/PlatformToolset&gt;
    &lt;CharacterSet&gt;MultiByte&lt;/CharacterSet&gt;
  &lt;/PropertyGroup&gt;

  &lt;PropertyGroup&gt;
    &lt;IntermediateOutputPath&gt;build\$(Configuration)\obj\&lt;/IntermediateOutputPath&gt;
    &lt;OutDir&gt;build\$(Configuration)\bin\&lt;/OutDir&gt;
    &lt;TargetName&gt;HeaderOnlyLibExample&lt;/TargetName&gt;
  &lt;/PropertyGroup&gt;

  &lt;Import Project=&quot;$(VCTargetsPath)\Microsoft.Cpp.props&quot; /&gt;

  &lt;ItemDefinitionGroup&gt;
    &lt;ClCompile&gt;
      &lt;PreprocessorDefinitions&gt;HEADERONLYLIB;%(PreprocessorDefinitions)&lt;/PreprocessorDefinitions&gt;
      &lt;AdditionalIncludeDirectories&gt;.&lt;/AdditionalIncludeDirectories&gt;
      &lt;WarningLevel&gt;Level3&lt;/WarningLevel&gt;
      &lt;Optimization&gt;Disabled&lt;/Optimization&gt;
    &lt;/ClCompile&gt;
    &lt;Link&gt;
      &lt;SubSystem&gt;Console&lt;/SubSystem&gt;
      &lt;GenerateDebugInformation&gt;true&lt;/GenerateDebugInformation&gt;
    &lt;/Link&gt;
  &lt;/ItemDefinitionGroup&gt;

  &lt;ItemGroup&gt;
    &lt;ClCompile Include=&quot;main.cpp&quot; /&gt;
  &lt;/ItemGroup&gt;

  &lt;Import Project=&quot;$(VCTargetsPath)\Microsoft.Cpp.targets&quot; /&gt;

  &lt;Target Name=&quot;clean&quot;&gt;
    &lt;RemoveDir Directories=&quot;build&quot; /&gt;
  &lt;/Target&gt;

  &lt;Target Name=&quot;run&quot; DependsOnTargets=&quot;Build&quot;&gt;
    &lt;Exec Command=&quot;$(OutputPath)$(TargetName)$(TargetExt)&quot; /&gt;
  &lt;/Target&gt;

&lt;/Project&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;?</span><span style="color: #569CD6">xml</span><span style="color: #9CDCFE"> version</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;1.0&quot;</span><span style="color: #9CDCFE"> encoding</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;utf-8&quot;</span><span style="color: #808080">?&gt;</span></span>
<span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">Project</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">DefaultTargets</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;Build&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">xmlns</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;http://schemas.microsoft.com/developer/msbuild/2003&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">Import</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Project</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;$(VCTargetsPath)\Microsoft.Cpp.Default.props&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #808080">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">PropertyGroup</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Label</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;Globals&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">RootNamespace</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">HeaderOnlyLibExample</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">RootNamespace</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">PropertyGroup</span><span style="color: #808080">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">ItemGroup</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Label</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;ProjectConfigurations&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">ProjectConfiguration</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Include</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;Debug|x64&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">Configuration</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Debug</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">Configuration</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">Platform</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">x64</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">Platform</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">ProjectConfiguration</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">ItemGroup</span><span style="color: #808080">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">PropertyGroup</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Condition</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;&#39;$(Configuration)|$(Platform)&#39;==&#39;Debug|x64&#39;&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Label</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;Configuration&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">ConfigurationType</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Application</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">ConfigurationType</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">UseDebugLibraries</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">true</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">UseDebugLibraries</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">PlatformToolset</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">v143</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">PlatformToolset</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">CharacterSet</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">MultiByte</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">CharacterSet</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">PropertyGroup</span><span style="color: #808080">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">PropertyGroup</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">IntermediateOutputPath</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">build\$(Configuration)\obj\</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">IntermediateOutputPath</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">OutDir</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">build\$(Configuration)\bin\</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">OutDir</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">TargetName</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">HeaderOnlyLibExample</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">TargetName</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">PropertyGroup</span><span style="color: #808080">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">Import</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Project</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;$(VCTargetsPath)\Microsoft.Cpp.props&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #808080">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">ItemDefinitionGroup</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">ClCompile</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">PreprocessorDefinitions</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">HEADERONLYLIB;%(PreprocessorDefinitions)</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">PreprocessorDefinitions</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">AdditionalIncludeDirectories</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">.</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">AdditionalIncludeDirectories</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">WarningLevel</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Level3</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">WarningLevel</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">Optimization</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Disabled</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">Optimization</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">ClCompile</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">Link</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">SubSystem</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Console</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">SubSystem</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">GenerateDebugInformation</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">true</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">GenerateDebugInformation</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">Link</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">ItemDefinitionGroup</span><span style="color: #808080">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">ItemGroup</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">ClCompile</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Include</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;main.cpp&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #808080">/&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">ItemGroup</span><span style="color: #808080">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">Import</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Project</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;$(VCTargetsPath)\Microsoft.Cpp.targets&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #808080">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">Target</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Name</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;clean&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">RemoveDir</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Directories</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;build&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #808080">/&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">Target</span><span style="color: #808080">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">Target</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Name</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;run&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">DependsOnTargets</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;Build&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">Exec</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Command</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;$(OutputPath)$(TargetName)$(TargetExt)&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #808080">/&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">Target</span><span style="color: #808080">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">Project</span><span style="color: #808080">&gt;</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>If you've just glanced at it and said, "I'm done with Windows, I'm going back to UNIX" I understand, but let's just try to understand the basic file syntax. We have a few <code>&lt;Import Project=... /&gt;</code> statements, that bring in functionality for MSBuild at the required location (the order is important and can't be changed, oh no, MSBuild will penalise you for that with error warnings that send you down a rabbit hole that has nothing to do with the actual error, seriously, play around with it and see it for yourself).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We can define some global properties in the <code>&lt;PropertyGroup Label="Globals"&gt;</code> on lines 6-8 and then define some project-specific configurations on lines 10-15 in the <code>&lt;ItemGroup Label="ProjectConfigurations"&gt;</code> group. In this case, we only support Debug builds and 64-bit compilation. The <code>Debug</code> build is essentially what we did before, i.e. we never applied any optimisation (indicated by the <code>-O0</code> flag, as well as the <code>-g</code> flag to include debug information). The opposite would be a <code>Release</code> build, where we would turn on compiler optimisations with <code>-O3</code>, for example.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Lines 17-22 then enforce these conditions, i.e. it sets up the environment for building a 64-bit Debug build. On lines 24-28, we specify some properties that would apply to all build targets, since we do not specify a condition here, unlike lines 17-22, which only apply to the 64-bit Debug build. This condition essentially just states where we want to put all build artefacts, such as the object files, but also the executable files.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Lines 32-43 add the pre-processor macro <code>HEADERONLYLIB</code> to the compiler, as well as define some debug-specific settings, such as setting the compiler warning level and disabling compiler optimisation. Lines 45-47 then list all source files and we specify some additional targets on lines 51-53 and 55-57 for running and cleaning our project, respectively.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>To use this script, let's assume that we have saved the above file as <code>build.vcxproj</code>, then, we would compile and build our executable by simply typing <code>msbuild build.vcxproj</code>. If we wanted to execute a specific target, such as <code>run</code>, then we can do that with the <code>/t:</code> flag for the target, e.g. <code>msbuild build.vcxproj /t:run</code>.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-cmake">CMake</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>CMake is the industry standard build system, at least when it comes to compiled languages. Other, niche-specific build systems rule different markets, such as web or mobile development. We'll exclude those in our discussion. A project making use of CMake will have a <code>CMakeLists.txt</code> file in the root directory of the project.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>CMake doesn't know how to build your code, but instead, it provides a high-level syntax that is used to generate build scripts, either for Make, ninja, or MSBuild. The best part is that you don't even have to care about it, CMake will select the most appropriate one for your platform, i.e. MSBuild for Windows and Make for UNIX.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Let's look at how we can turn our project into a CMake file, the CMakeLists.txt file in our root directory has the following content:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cmake_minimum_required(VERSION 3.10)\nproject(HeaderOnlyLibExample)\nadd_executable(headerOnlyLibExample main.cpp)\ntarget_compile_definitions(headerOnlyLibExample PRIVATE HEADERONLYLIB)\ntarget_include_directories(headerOnlyLibExample PRIVATE ${CMAKE_SOURCE_DIR})","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ecmake_minimum_required\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(VERSION 3.10)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eproject\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(HeaderOnlyLibExample)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eadd_executable\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(headerOnlyLibExample main.cpp)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003etarget_compile_definitions\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(headerOnlyLibExample PRIVATE HEADERONLYLIB)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003etarget_include_directories\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(headerOnlyLibExample PRIVATE \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":5,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cmake_minimum_required(VERSION 3.10)
project(HeaderOnlyLibExample)
add_executable(headerOnlyLibExample main.cpp)
target_compile_definitions(headerOnlyLibExample PRIVATE HEADERONLYLIB)
target_include_directories(headerOnlyLibExample PRIVATE ${CMAKE_SOURCE_DIR})" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">cmake_minimum_required</span><span style="color: #D4D4D4">(VERSION 3.10)</span></span>
<span class="line"><span style="color: #569CD6">project</span><span style="color: #D4D4D4">(HeaderOnlyLibExample)</span></span>
<span class="line"><span style="color: #569CD6">add_executable</span><span style="color: #D4D4D4">(headerOnlyLibExample main.cpp)</span></span>
<span class="line"><span style="color: #569CD6">target_compile_definitions</span><span style="color: #D4D4D4">(headerOnlyLibExample PRIVATE HEADERONLYLIB)</span></span>
<span class="line"><span style="color: #569CD6">target_include_directories</span><span style="color: #D4D4D4">(headerOnlyLibExample PRIVATE </span><span style="color: #569CD6">${CMAKE_SOURCE_DIR}</span><span style="color: #D4D4D4">)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>5 lines of code, 2 of which are boilerplate and always required (the first two lines). So it took us only 3 lines of code to instruct CMake to compile our <code>main.cpp</code> file (line 3), add the <code>HEADERONLYLIB</code> macro to the compiler flags (line 4), and include the project root directory (here specified with the CMake variable <code>${CMAKE_SOURCE_DIR}</code> during compilation (line 5, similar to the <code>-I.</code> flag we saw earlier). This will build either a Debug or Release version,d depending on how you invoke CMake, compare that to the 59 lines of MSBuild that can only produce a Debug build. You see why CMake is so powerful and preferred in the industry.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>To build our code with CMake, it is customary to create <code>build</code> directory first, i.e. <code>mkdir build</code>. While we could define custom targets to do that within the CMake file, it is not very CMake-like and so not done here (I have no interest in teaching technical correct solutions, but rather best practices). We change into the <code>build</code> directory, i.e. <code>cd build</code>, and then execute the CMake file (which is now one directory level up) with <code>cmake ..</code> which will initialise the project. It is at this stage that we can specify different build types, such as Debug or Release, and specify the build script we want to use, e.g. Make, ninja, or MSBuild. To see which build scripts are available, run CMake with the <code>-h</code> flag, i.e. <code>cmake .. -h</code>, all build generators will be listed at the bottom. For example, to generate a ninja build script in debug mode, you would run CMake with the command</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>cmake -DCMAKE_BUILD_TYPE=Debug -G Ninja .. </code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>This will just configure the project, so to build the executable, you would have to follow this command with</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>cmake --build . --config Debug -j 4</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>which will build the executable in the current (<code>.</code>) directory. Notice that we specify the target build type again here (Debug), you only need one definition, i.e. either during configuration (<code>-DCMAKE_BUILD_TYPE=Debug</code>) or during building (<code>--config Debug</code>). Which one you need depends on the build script you have chosen. However, if you specify them in both steps, CMake will use the one it needs and ignore the other command when it is not needed, so the above is a fool-proof way of ensuring you get a Debug build. Use Release instead of Debug to speed up the executable. The <code>-j 4</code> flag again tells Cmake to use 4 cores during compilation.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>CMake itself is a vast topic requiring its own series and likely one which will follow in the future, but for the moment, we have seen how to define a very simple CMake file that'll do the job for us to build our executable and linking that against our header-only library, with very few lines of code.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-meson">Meson</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>When it comes to build systems, we are not short of options. To understand why Meson is around, and why unfortunately I believe it has no right to be used (anymore), we need to look at the build system landscape before Meson. We saw the elegance of CMake above, a short, precise syntax. But things were not always that good when it came to CMake. CMake is by far the most used build system for compiled projects such as C++, but many people started to use it simply because everyone else was using it, not by choice.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The first issue was that the syntax used to be ugly. CMake tried to be almost a programming language in its own right, with support for functions, if/else statements, loops, etc. Because CMake lets you do pretty much anything, people started hacking their CMake files to a point where they would only work for a specific compiler for a specific platform, but it would not allow for cross-platform compilation anymore. These brittle build files made it difficult to work with CMake. Add to that the documentation was pretty bad (and still to this day is), people were trying to leave CMake behind and look for alternatives. Enter Meson.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>I honestly love Meson and its eccentric developer Jussi Pakkanen (he may not agree with his characterisation, and that's ok). I have used Meson extensively in the past and really wanted to use it for all my projects. But I have given up on that and instead have started to use CMake. You may ask yourself why. The CMake developers were acutely aware of the negative feedback of the community and started to turn things around. Since CMake version 2.8.12 (but really version 3.0 and above), we have entered the <em>Modern CMake</em> era (it is actually called this way). The syntax that led to brittle builds was deprecated, and replaced by a set of logical statements that were easy to use and which ensured that builds were cross-platform compatible.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Since that time, I have found that CMake is, again, the build system everyone should be using, simply because everyone else is and this will make it much easier for you to bring other people's code into your codebase. While the documentation is still pretty bad for CMake, there are good alternatives available, and my favourite resource is the book by <a href="https://crascit.com/professional-cmake/" target="_blank" rel="noopener" title="">Craig Scott - Professional CMake</a> which teaches pretty much everything there is about CMake in an easy-to-follow and understandable manner.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Yet, some projects insist on using Meson in the CFD community, most notably <a href="https://github.com/su2code/SU2" target="_blank" rel="noopener" title="">SU2</a>, an open-source CFD solver developed by a few universities around the world, and so I wanted to cover it here as well. Also, and this is a bit more selfish, I still look fondly at the Meson project and don't want to completely forget about it, even if I am not planning on using it anymore in the future. So writing about it here gives me an excuse to play around with the build system again.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>To see whether a project uses Meson, look for a <code>meson.build</code> file in the root directory. It is usually accompanied by a <code>meson_options.txt</code> file as well that allows to set some project-specific options. In our case, we are only going to create the <code>meson.build</code> file and copy the following content into it:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"project('HeaderOnlyLibExample', 'cpp')\nexecutable('headerOnlyLibExample', 'main.cpp',\n  cpp_args : ['-DHEADERONLYLIB'],\n  include_directories : include_directories('.'),\n)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eproject(\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026#39;HeaderOnlyLibExample\u0026#39;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026#39;cpp\u0026#39;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eexecutable(\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026#39;headerOnlyLibExample\u0026#39;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026#39;main.cpp\u0026#39;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  cpp_args : [\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026#39;-DHEADERONLYLIB\u0026#39;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e],\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  include_directories : include_directories(\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026#39;.\u0026#39;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"python","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":5,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="project('HeaderOnlyLibExample', 'cpp')
executable('headerOnlyLibExample', 'main.cpp',
  cpp_args : ['-DHEADERONLYLIB'],
  include_directories : include_directories('.'),
)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">project(</span><span style="color: #CE9178">&#39;HeaderOnlyLibExample&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #CE9178">&#39;cpp&#39;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">executable(</span><span style="color: #CE9178">&#39;headerOnlyLibExample&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #CE9178">&#39;main.cpp&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">  cpp_args : [</span><span style="color: #CE9178">&#39;-DHEADERONLYLIB&#39;</span><span style="color: #D4D4D4">],</span></span>
<span class="line"><span style="color: #D4D4D4">  include_directories : include_directories(</span><span style="color: #CE9178">&#39;.&#39;</span><span style="color: #D4D4D4">),</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We have two commands, so technically only two lines, although the second command was split over a few lines as is customary when writing Meson build files. The <code>project</code> command defines some global parameters. We could have set some default compiler options, such as the C++ standard to use, or the project version number, but we have only given the name and type (<code>cpp</code>, i.e C++) of the project here.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The second command, <code>executable</code>, defines the name of the executable, and the required source files to create that executable, followed by some compiler options we want to pass on. Unfortunately, the cpp_args (compiler arguments for the c++ compiler) use the syntax <code>-DHEADERONLYLIB</code> to pass a preprocessor macro to the compiler, as it does suggest we are hardcoding this definition now for a UNIX compiler. However, Meson will abstract away the <code>-D</code> and replace that with the appropriate flag on Windows, i.e. <code>/D</code>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>With this <code>meson.build</code> file defined, we set up the project first with the command <code>meson setup build</code>. The third argument is the build directory to use, and you can give it any name, but <code>build</code> or <code>builddir</code> are common options. Next, with the project set up, we can compile the project with the command <code>meson compile -C build -j 4</code>. In this case, we tell the <code>compile</code> command that we want to build the project defined in the <code>build</code> directory. This is useful if you want to build different targets or versions of your code (say a Debug and a Release build) at the same time, so you can place them in different directories. The <code>-j 4</code> flag, as before, indicates the number of processors to use.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>I should say that specifying the -j 4 flag for any of the build systems we looked at thus far is, for this example, pretty much pointless, as we only have a single file to compile. To see an effect, we need to have at least as many source files as the number of cores specified by the <code>-j</code> flag. It was just shown in the previous examples to indicate how you could speed up the build process. </p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-autotools">Autotools</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>This is probably the hardest section to write for me. To me, I have the same ethical concerns teaching you how to write an Autotools build script as I would if I were to teach you how to scam people and take away their money. Autotools is a toxic build system, and I would treat it as such. Keep this preamble in mind in all of the following discussion. For a project started in 1994, it looks like it was created in the 1970s and was probably already outdated by the time it was first released. There is a summary of <a href="https://en.wikipedia.org/wiki/GNU_Autotools#Criticism" target="_blank" rel="noopener" title="">some of the criticism and response to it</a>, which I would summarise as: </p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><!-- wp:list-item -->
<li><strong>Criticism</strong>: Autotools pretends to be cross-platform when it demonstrably isn't. It introduced the configure step that we saw in CMake and Meson before we could proceed to produce our builds. I don't share that criticism, I find the configure step very useful.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><strong>Response to criticism</strong>: Autotools gives you so much flexibility that you can do anything with it.</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>I find both sides a bit laughable, as they don't really nail, at least for me, the reason we should not be using Autotools anymore. It is extremely useful to have the configure step before the compilation step because we can define different build targets (Debug/Release) or even have different directories for third-party libraries, your tests, etc. I don't think this fine-level control over your build is a bad thing. But the response to this criticism really frustrates me (if you read the longer version of the Wikipedia article linked above).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>First of all, the limitations described in the response are not up to date anymore. One of the points raised in the response to the criticism confuses me, it states that you can't inject scripts or customise your build-in build systems such as CMake. This is just not true, and <a href="https://cmake.org/cmake/help/latest/command/execute_process.html" target="_blank" rel="noopener" title="">CMake does allow you to inject scripts</a> into the build and configure step. As far as I can tell, this feature was available from at least 2014 (but that is only as far back as the documentation goes, it may have been there longer). The response to the criticism was written in 2021, 7 years later. Strong opinions, but little fact-checking.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Secondly, I don't want my build system to give me all the freedom to do whatever I want to, if I need that, I use a Makefile, but there is a reason people no longer write Makefiles manually. In-fact, there is a reason why people don't want to have build systems that are overpowered. Too much flexibility can result in messy build system code. The build system Meson that we looked at above, is based on this principle, any proposal that would make Meson a <a href="https://mesonbuild.com/Contributing.html#turing-completeness" target="_blank" rel="noopener" title="">turning complete language</a> would automatically be rejected.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>For me, the real reason why Autotools is so toxic is that it locks you and anyone else who wants to use your code or library into a UNIX environment and it just doesn't support native cross-platform compilation. It imposes so many limitations that sometimes it is a better idea to simply ignore a project if it only supports Autotools as a build system, and historically speaking, pretty much all CFD libraries used Autotools, but thankfully are moving away from it. The only library still in use today that I can think of that uses Autotools exclusively is <a href="https://petsc.org/release/" target="_blank" rel="noopener" title="">PETSc</a>, a library to solve the matrix product [katex]\mathbf{Ax}=\mathbf{b}[/katex], similar to the library we developed (with just lots more solvers).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Ok, but let's say you are radioactive and really want to lock in your users to UNIX, you don't want to give anymore a chance to even think of building on Windows (heck, you may even make your library commercial and charge people money for it, see, I have just taught you how to scam people out of money ...). To identify a project that uses Autotools, look for a <code>configure</code>, <code>configure.ac</code>, and <code>Makefile.am</code> file in the root directory. For our header-only library, the <code>configure.ac</code> file would have the following content:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"AC_INIT([HeaderOnlyLibExample], [1.0], [tom@cfd.university])\nAM_INIT_AUTOMAKE([foreign])\nAC_PREREQ([2.69])\nAC_CONFIG_SRCDIR([main.cpp])\nAC_CONFIG_HEADERS([config.h])\nAC_PROG_CXX\nAC_CONFIG_FILES([Makefile])\nAC_OUTPUT","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eAC_INIT([HeaderOnlyLibExample], [\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e], [tom@cfd.university])\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eAM_INIT_AUTOMAKE([foreign])\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eAC_PREREQ([\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2.69\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e])\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eAC_CONFIG_SRCDIR([main.cpp])\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eAC_CONFIG_HEADERS([config.h])\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eAC_PROG_CXX\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eAC_CONFIG_FILES([Makefile])\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eAC_OUTPUT\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"python","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":8,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="AC_INIT([HeaderOnlyLibExample], [1.0], [tom@cfd.university])
AM_INIT_AUTOMAKE([foreign])
AC_PREREQ([2.69])
AC_CONFIG_SRCDIR([main.cpp])
AC_CONFIG_HEADERS([config.h])
AC_PROG_CXX
AC_CONFIG_FILES([Makefile])
AC_OUTPUT" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">AC_INIT([HeaderOnlyLibExample], [</span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">], [tom@cfd.university])</span></span>
<span class="line"><span style="color: #D4D4D4">AM_INIT_AUTOMAKE([foreign])</span></span>
<span class="line"><span style="color: #D4D4D4">AC_PREREQ([</span><span style="color: #B5CEA8">2.69</span><span style="color: #D4D4D4">])</span></span>
<span class="line"><span style="color: #D4D4D4">AC_CONFIG_SRCDIR([main.cpp])</span></span>
<span class="line"><span style="color: #D4D4D4">AC_CONFIG_HEADERS([config.h])</span></span>
<span class="line"><span style="color: #D4D4D4">AC_PROG_CXX</span></span>
<span class="line"><span style="color: #D4D4D4">AC_CONFIG_FILES([Makefile])</span></span>
<span class="line"><span style="color: #D4D4D4">AC_OUTPUT</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We define a few global properties of the project on the first line and then list a few prerequisites. Line 4 tells Autotools the required source file and a configuration header (which will be automatically generated for us), we specify that it is a C++ project on line 6 and then say that we want to use <code>Makefile</code>s in this case. So far so good. Let's next look at the <code>Makefile.am</code>:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"bin_PROGRAMS = headerOnlyLibExample\nheaderOnlyLibExample_SOURCES = main.cpp\nAM_CXXFLAGS = -g -O0 -Wall -Wextra -I. -DHEADERONLYLIB\nheaderOnlyLibExample_LDADD =\n\n# Define a 'run' target for convenience\n.PHONY: run\nrun: headerOnlyLibExample\n\t./headerOnlyLibExample\n\n# Define a 'clean-local' target to clean up additional files\nclean-local:\n\trm -rf build\n\nEXTRA_DIST = readme.md","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ebin_PROGRAMS\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = headerOnlyLibExample\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eheaderOnlyLibExample_SOURCES\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = main.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eAM_CXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = -g -O0 -Wall -Wextra -I. -DHEADERONLYLIB\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eheaderOnlyLibExample_LDADD\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e =\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Define a \u0026#39;run\u0026#39; target for convenience\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: run\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erun\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: headerOnlyLibExample\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t./headerOnlyLibExample\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Define a \u0026#39;clean-local\u0026#39; target to clean up additional files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eclean-local\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\trm -rf build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eEXTRA_DIST\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = readme.md\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":15,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="bin_PROGRAMS = headerOnlyLibExample
headerOnlyLibExample_SOURCES = main.cpp
AM_CXXFLAGS = -g -O0 -Wall -Wextra -I. -DHEADERONLYLIB
headerOnlyLibExample_LDADD =

# Define a 'run' target for convenience
.PHONY: run
run: headerOnlyLibExample
	./headerOnlyLibExample

# Define a 'clean-local' target to clean up additional files
clean-local:
	rm -rf build

EXTRA_DIST = readme.md" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #9CDCFE">bin_PROGRAMS</span><span style="color: #D4D4D4"> = headerOnlyLibExample</span></span>
<span class="line"><span style="color: #9CDCFE">headerOnlyLibExample_SOURCES</span><span style="color: #D4D4D4"> = main.cpp</span></span>
<span class="line"><span style="color: #9CDCFE">AM_CXXFLAGS</span><span style="color: #D4D4D4"> = -g -O0 -Wall -Wextra -I. -DHEADERONLYLIB</span></span>
<span class="line"><span style="color: #9CDCFE">headerOnlyLibExample_LDADD</span><span style="color: #D4D4D4"> =</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Define a &#39;run&#39; target for convenience</span></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: run</span></span>
<span class="line"><span style="color: #DCDCAA">run</span><span style="color: #D4D4D4">: headerOnlyLibExample</span></span>
<span class="line"><span style="color: #D4D4D4">	./headerOnlyLibExample</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Define a &#39;clean-local&#39; target to clean up additional files</span></span>
<span class="line"><span style="color: #DCDCAA">clean-local</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	rm -rf build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #9CDCFE">EXTRA_DIST</span><span style="color: #D4D4D4"> = readme.md</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We hardcode compiler flags on line 3 that are bound to work only on a UNIX compiler (and most definitely only for the GNU GCC compiler suite, good luck trying to support a different compiler), and define a few additional <code>.PHONY</code> targets we discussed earlier as well.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>To generate a configure file we can give to our end-users, we have to generate it from the <code>configure.ac</code> and <code>Makefile.am</code> files. We do that with the following commands:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>autoheader &amp;&amp; aclocal &amp;&amp; autoconf &amp;&amp; automake --add-missing</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Executing all 4 commands in this order will generate the <code>configure</code> file, which you can now execute by simply typing <code>./configure</code> which will prepare your project to be built. This step produces a Makefile which you can then execute by typing <code>make</code>. This will generate the executables and libraries, depending on what you are trying to build, and you can copy these executables into a different (permanent) directory using the <code>make install</code> command. By default, it will go into your <code>/usr/local/bin</code> or <code>/usr/local/lib</code> directory, but you can change that during the configuration step by providing a different path with the <code>--prefix</code> flag, e.g. <code>./configure --prefix=/path/to/executable/</code>. </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>To see all of the available options we can pass to the configuration step (which Autotools has added for us automatically), run it with the <code>-h</code> flag, i.e. <code>./configure -h</code>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>OK, so I don't want to make this section any longer than it needs to be, but I want to take stock before we move on. Using Autotools, we have to first provide two separate input files. These files are then used to generate a configuration file using 4 different commands. The configuration file, in turn, is used to generate the final build file (a <code>Makefile</code>) and we can use that to build our project (in this case a single source file). Do you still remember all the steps, all the commands you have to call, and all the variables you have to specify in the different files? No?</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Can you see why an opinionated build system such as CMake or Meson is easier to use? To achieve the same thing we needed to write 2-5 lines of code and configure and build the project with two separate commands. That's it. You see, allowing a build system to let you do whatever you want comes at the cost of having to go through a lot of different steps. Most of the time, we don't need that flexibility, and if we do, I'd argue that writing a Python script to handle specific tasks is a better idea (incidentally, you can execute Python scripts as part of the CMake or Meson build step).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Anyways, don't be a scammer, use a better alternative to Autotools.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-case-study-compiling-the-cgns-library">Case study: Compiling the CGNS library</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Ok, so let's recap, we have looked at a few different solutions to build projects, in general. Third-party libraries will typically use one of these build solutions and now that you have a rough idea of what these build solutions look like and how to execute them, I want to look at a particular library and practice its compilation.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The library we are going to compile is the CGNS library, which stands for the CFD General Notations System. It is a library that predominantly allows you to store a computational grid and a solution (velocity, pressure, temperature, etc.), but it has support for a few more things. The nice thing about the CGNS format is that we can store both a structured and an unstructured grid with its corresponding solution. It can be processed by most commercial CFD solvers, as well as grid generators, and it is somewhat similar in spirit to what <code>*.pdf</code> files are for exchanging documents (i.e. <code>*.pdf</code> files can be opened on any operating system).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The CGNS library was the first library I attempted to compile. Back then, it only provided support to be compiled on UNIX with Autotools, there were no other build options included. It was possible to get it compiled on Windows somehow (evident by the fact that the mesh generator I was using back then was working on Windows, which in turn required a Windows version of the library) but I couldn't figure it out. I spent about 2 weeks before giving up in frustration and switching to Ubuntu. Having done the switch, I was able to get it compiled and working within 30 minutes, and I didn't even know about build systems back then, let alone Autotools.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Things have changed, thankfully, and CGNS does provide support now for CMake, so cross-platform compilation is actually not that hard these days. We'll compile it using both CMake and Autotools, as these are the supported build systems and you'll get an idea of how to use these in practice. Again, I am apprehensive about showing you how to work with Autotools, but the truth is some CFD libraries, as already mentioned, only support Autotools, so I would be doing you a disfavour not showing you how to do this. </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>In general, I think it is always a good idea to learn how to compile libraries from scratch yourself. Especially, learning how to deal with error messages (and there will be error messages!). But, if you are in a rush and actually googled your way here to specifically compile the CGNS library, I have provided scripts for Windows and UNIX (Linux, macOS) that you can download at the top of this article. These scripts will automatically download, compile, and install the CGNS library with all of its dependencies (i.e. what I describe below using the CMake route). If you have trouble following along, you may want to use those scripts. </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If you want to work with these automatic installation scripts, it is likely that they will not execute out of the box and be blocked by your operating system. For Windows, right-click on the file and go to properties. At the bottom, there is a checkbox titled <code>Unblock</code>, select the checkbox and close the properties, and you should be able to execute the script. On UNIX, use type the command <code>chmod +x installCGNS.sh</code> into your terminal while in the same folder as the script to make it executable. And with that out of the way, let's get started.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-prerequisits-for-the-cgns-library">Prerequisites for the CGNS library</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>In order to get the CGNS library compiled, we'll need a few tools. First of all, we need a c++ compiler and CMake. If you are on Windows, make sure Visual Studio (Community version is fine) is installed and that C++ tools, including CMake, are installed. You can check that by going to the <em>Visual Studio Installer</em>, clicking on the <em>Modify</em> button and ensuring that the C++ development tools are installed. This is shown below in the screenshot</p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":2510,"sizeSlug":"large","linkDestination":"none"} -->
<figure class="wp-block-image size-large"><img src="https://cfd.university/wp-content/uploads/2024/01/cToolsWindows-1024x515.png" alt="" class="wp-image-2510"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>The package <em>Desktop development with C++</em> has a few packages installed by default that you can see on the right. We need MSVC (minimum version is v143) which is Windows' compiler tools. <em>C++ CMake tools for Windows</em> contains CMake which we'll need. I have also highlighted C++ Clang tools for Windows. This is not strictly speaking required but Clang has produced some very decent tools which we will use in later series so you may as well download them now. The clang compiler is also rather decent and works across Windows and UNIX.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>On Unix, it is rather straightforward, using your package manager, you can install packages the usual way. On Ubuntu, for example, you get a sensible default development environment installed with the command <code>sudo apt install -y build-essential</code>, and then you can bring in additional required tools with <code>sudo apt install -y cmake</code> and <code>sudo apt install -y ninja-build</code>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>For macOS, you'll need to install the default development tools with xcode by running the following command in your terminal: <code>xcode-select --install</code>. You may then wish to install <a href="https://brew.sh/" target="_blank" rel="noopener" title="">homebrew</a> which allows you to install additional tools such as CMake and Ninja using <code>brew install cmake</code> and <code>brew install ninja</code>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Other than the required tools to get the library compiled, we need a few additional libraries before we can compile the CGNS library. It used to implement its own data storage/compression but it has since been superseded by the hdf5 data storage format, which is the de facto standard in data compression in scientific applications. The hdf5 library can be built without any additional libraries, but in my experience, you should at least install <a href="https://www.zlib.net/" target="_blank" rel="noopener" title="">zlib</a> in order to avoid <a href="https://www.cfd-online.com/Forums/main/210249-build-cgns-hdf5.html" target="_blank" rel="noopener" title="">nasty compilation bugs later</a>.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-using-cmake">Using CMake and Ninja</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Using CMake and Ninja means we can compile either on Windows or on Unix, it doesn't really matter. I am showing how to do it here for Windows but will make comments when changes are required for Unix (pretty much only when specifying file locations and paths).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>To get started, create a directory somewhere to download the different libraries. It doesn't really matter where, as we will select the final destination of the libraries during the compilation. I am being lazy, so the Desktop it is for me! Download the <a href="https://github.com/CGNS/CGNS/releases" target="_blank" rel="noopener" title="">CGNS</a>, <a href="https://www.hdfgroup.org/download-hdf5/" target="_blank" rel="noopener" title="">hdf5</a>, and <a href="https://www.zlib.net/" target="_blank" rel="noopener" title="">zlib</a> libraries and put them in your folder (or Desktop, I won't judge).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Open the developer powershell for VS <code>&lt;version&gt;</code>, where <code>&lt;version&gt;</code> is the one you have installed from Visual Studio (in my case 2022). Unfortunately, Windows still defaults to 32-bit by default when compiling which can give some nasty and strange bugs later. You will need to change the default from 32 to 64-bit, which is the case for pretty much every PC these days (unless you are on a surface pro, but even these devices will probably be 64-bit in the near future (and, if you are reading this on a surface pro (or whatever they are called in the future) with a 64-bit chip, welcome to the future!)). </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>You can follow <a href="https://developercommunity.visualstudio.com/t/x64-developer-powershell-for-vs-2019/943058" target="_blank" rel="noopener" title="">this discussion</a> to see how to switch to 64-bit. If you use the Windows script provided above to install CGNS automatically, then you will get instructions for how to change to 64-bit as well. If you are on UNIX (either Linux or macOS) then this, of course, doesn't apply to you and you can just open a terminal (because any sensible operating system these days will detect that you are on a 64-bit machine and compile code for your (correct) architecture automatically ... that's the whole point of compiling code in the first place!). I digress, with your terminal open, you should now have access to all of your development tools.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-compiling-zlib">Compiling the ZLib library</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Navigate into the zlib library and create a folder with the following command (both Windows and Unix)</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>mkdir build</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Switch into that directory with (both Windows and Unix)</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>cd build</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>At this point, I typically like to run CMake without any options, inspect the options that are available afterwards, and then rerun CMake with all options that I require. I will set, however, the build tool, here Ninja, as this will make my life easier later. To run CMake without options, type (both Windows and Unix)</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>cmake -G Ninja</code> <code>..</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>This will execute CMake and look for the <code>CmakeLists.txt</code> file in the parent directory (indicated by the <code>..</code>). After the command has finished, type</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>cmake -LAH</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>This will list all available options that you can set. For the zlib library, the only things I want to set are the build type and the installation directory. To set these, we use the variables <code>CMAKE_BUILD_TYPE</code> and <code>CMAKE_INSTALL_PREFIX</code>, which we set on the command line with the <code>-D</code> flag. I'll put all libraries, once compiled, into my C-drive where I have created a directory called libraries, but you can put them in any other location if you want. Then, the full command becomes:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=C:\libraries\ ..</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>On Unix, specify a directory that makes sense to you. If you don't specify a directory here, CMake will attempt to install the library into the default system directory <code>/usr/local</code>. This will typically make it easier for CMake and other tools to discover these libraries, but also requires admin privileges to install your library (so you would have to run the next command with <code>sudo</code> rights on Ubuntu). We have configured the project now, so it is time to build it. We can use the following command for that:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>cmake --build . --target install --config Release -j 4</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We instruct CMake to first build the project (using 4 cores, change that to the number of cores on your system) and then afterwards it should install the library. Installing here simply means copying all generated libraries and header files into the install directory we specified earlier with the <code>CMAKE_INSTALL_PREFIX</code> flag. Once this command is finished, you can verify that the compilation and installation has worked by looking into the <code>C:\libraries</code> folder (or <code>/usr/local/</code>) and verifying that you now have an <code>include</code> and <code>lib</code> folder at a minimum, which contains the libraries and header include files.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>All other libraries we will compile and install next will copy their output into these directories as well.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-compiling-the-hdf5-librari">Compiling the HDF5 library</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The steps to compile the hdf5 library are pretty much the same. First, generate the <code>build</code> directory and change into the <code>build</code> directory. Run CMake with <code>cmake -G Ninja ..</code> and wait until this step has finished (the hdf5 library is quite large so this step can take a while). You'll probably encounter a few warnings about a few libraries not being found, that is ok, you can ignore this as we don't need to install all libraries for hdf5 to work.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Next, inspect what possible variables we can set with <code>cmake -LAH</code>. This time I want to set a few more configuration flags, as I need to tell CMake where the zlib library is installed. If you look through the list, you'll find the following variables: <code>ZLIB_INCLUDE_DIR</code> and <code>ZLIB_LIBRARY_RELEASE</code>. These folders essentially specify where to find the header include files, as well as the library itself, respectively. So let's set them correctly, as well as the build type and installation directory as:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=C:\libraries\ -DZLIB_INCLUDE_DIR=C:\libraries\include -DZLIB_LIBRARY_RELEASE=C:\libraries\lib\zlibstatic.lib -G Ninja ..</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Again, ignore any warnings, you know that the configuration was successful if you can see a <code>build.ninja</code> file generated within the <code>build</code> folder. On UNIX, the static library will also not have an ending of <code>*.lib</code> but rather of <code>*.a</code>, and it will also simply be called <code>libz.a</code>. We compile and install the library the same way as the zlib library with:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>cmake --build . --target install --config Release -j 4</code></p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-compiling-the-cgns-library">Compiling the CGNS library</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Well, rinse and repeat. I am not showing you anything new in this section, and hopefully, this will bring home the point that using a build system is a good idea. We use CMake here to compile and install our libraries and regardless of the library we are using, we are always working with the same commands (interface). Very convenient for the end user (us). So head into your CGNS directory, create a <code>build</code> folder, change into it, and then execute <code>cmake -G Ninja ..</code> to preconfigure the project. Check against he options with <code>cmake -LAH</code> and then make the following changes:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=C:\libraries\ -DHDF5_C_INCLUDE_DIR=C:\libraries\include -DHDF5_hdf5_LIBRARY_RELEASE=C:\libraries\lib\hdf5.lib -G Ninja ..</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>One interesting point to note is that when running <code>cmake -LAH</code>, there is one variable called <code>CGNS_BUILD_SHARED:BOOL=ON</code>, which indicates whether we want to build a static or dynamic library. So we have control over this here and you see that the default is set to dynamic (it used to be static).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If the <code>build.ninja</code> file is present, then, well, you guessed it, we type:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>cmake --build . --target install --config Release -j 4</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>You should now have the CGNS library installed. You can use the same workflow for pretty much any other library, as these days most will support CMake as their build system.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-using-autotools-and-make">Using Autotools and Make</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>A few things you should note before proceeding. If you are working on Windows and you are using WSL for development, then extract all downloaded zip (or archive files) through WSL using the <code>tar</code> command. Say you have downloaded <code>hdf5-1.14.3.tar.gz</code> and you want to extract that into <code>/home/&lt;username&gt;/temp/hdf5</code> (make sure this directory exists before attempting to extract into it, i.e. using <code>mkdir -p /home/<code>&lt;username&gt;</code>/temp/hdf5</code>, replace <code><code>&lt;username&gt;</code></code> here for your actual username), then you can extract the files (assuming you are in the same directory as the <code>hdf5-1.14.3.tar.gz</code> file) using:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>tar -xvf hdf5-1.14.3.tar.gz -C /home/<code>&lt;username&gt;</code>/temp/hdf5</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>This step may not be necessary but you can get nasty configuration errors if you extract on Windows and then attempt to compile on UNIX as Windows and UNIX use different characters to end lines, which can confuse compilers. To be safe, use the command above for all three libraries when extracting them.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Ok, so let's assume we have our libraries extracted into <code>/home/<code>&lt;username&gt;</code>/temp/zlib</code>, <code>/home/<code>&lt;username&gt;</code>/temp/hdf5</code>, and <code>/home/<code>&lt;username&gt;</code>/temp/cgns</code>. All of these libraries do have a <code>configure</code> file, meaning we can use Autotools to compile all three libraries. Let's start with zlib.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-compiling-the-cgns-library">Compiling the ZLib library</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>As we alluded to earlier, Autotools produces builds in two separate passes. The first is the configuration, the second is the build step (we have a third step for installing targets, i.e. copying the compiled libraries and generated headers into a permanent directory). To get an idea of what configuration options are available, we can run the configure script with the <code>-h</code> flag, i.e. <code>./configure -h</code>. The flag that we pretty much always want to set is the <code>--prefix=&lt;DIR&gt;</code> flag, which indicates where we want to install the library to. On Windows, we used the <code>C:/libraries/</code> directory, so let's say we want to store our libraries on UNIX in <code>/home/<code>&lt;username&gt;</code>/libraries</code>. Then, we can configure zlib with</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>./configure --prefix=/home/&lt;username&gt;/libraries</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>This will configure the project which should not take too long. This step will generate a Makefile as we saw earlier, which we can use to compile the project with:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>make -j 4</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Remember, the <code>-j 4</code> here indicates how many cores we want to use for building the project, use as many as you have available. Once the compilation is done, install the library with</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>make install</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>You should now have a few new folders within <code>/home/&lt;username&gt;/libraries</code> directory (namely <code>include/</code> and <code>lib/</code>) and you should see the zlib library, both a static (<code>libz.a</code>) and dynamic (<code>libz.so</code>) file within the <code>lib/</code> folder, as well as a header include file (<code>zlib.h</code> and <code>zconf.h</code>) in the <code>include/</code> directory.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If you don't specify the <code>--prefix</code> flag, as mentioned earlier, your build will go into the <code>/usr/local/lib</code> and <code>/usr/local/include</code> directories. You need admin rights to copy files into these system directories and so need to run <code>sudo make install</code> to have the necessary privileges to copy these files into this directory.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-compiling-the-cgns-library">Compiling the HDF5 library</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The steps are always the same, e.g. first we run <code>./configure</code>, then <code>make</code>, then <code>make install</code>. The only difference between libraries is the first (configuration) command, where we can configure the library to suit our needs. For the hdf5 library, for example, we want to specify the path to the zlib directory.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Note that if you did not specify the <code>--prefix</code> flag when you compiled zlib, hdf5 should be able to find zlib in the default <code>/usr/local/</code> directory (where it would then get installed). But good software engineering practices tell us we should not pollute our <code>/usr/local/</code> directory, because we may update a library in the future and then break existing code that depends on the now older library version. Changes may have been introduced to interfaces that are not backwards compatible (this happens all the time!), so keep all your libraries in separate directories. It is just good practice, and that is what we want to learn.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If we run the <code>./configure -h</code> command within the hdf5 directory, then we will see a bunch of options. We are only interested, for the moment, in configurations specific to the zlib library. We can filter the output using <code>grep</code>, which allows us to only print lines that contain a keyword. To do this, run</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>./configure -h | grep zlib</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We have used the pipe symbol (<code>|</code>) here, which states that we should run the command on its left (<code>./configure -h</code>) and pass that output to the command on its right (<code>grep zlib</code>). <code>grep</code> will then only display lines that contain the word <code>zlib</code>. We see the option <code>--with-zlib=DIR</code>, which is what we were looking for. This option lets the hdf5 library know where we installed the zlib library. Thus, our configure command becomes:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>./configure --prefix=/home/&lt;username&gt;/libraries --with-zlib=/home/&lt;username&gt;/libraries</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>This step will take, again, a while. Once completed, compile the code with as many cores as available (about 3000 files to compile):</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>make -j 4</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Finally, install the library</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>make install</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>That's it. The folder <code>/home/&lt;username&gt;/libraries</code> should now have all the hdf5 libraries and header include files, as well as a few more executables within the <code>/home/&lt;username&gt;/libraries/bin</code> folder. We are finally ready for the CGNS library.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-compiling-the-cgns-library">Compiling the CGNS library</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>This should now be more of the same, really. The only hiccup you may face is if you go into the CGNS directory, you'll notice that there is no <code>configure</code> file! CGNS uses a non-standard library structure (annoyingly), but you can locate it within the <code>src/</code> directory. So once you are inside the <code>CGNS/src</code> directory, do the usual steps, i.e. first we have to figure out what options to set with the <code>./configure -h</code> command.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>In general, if you want to tell during the configure step where to find a library, the syntax is usually <code>--with-LIBNAME=DIR</code>, and it is no different for the CGNS library (verify that by running <code>./configure -h | grep hdf5</code>). Thus, we need to specify the location of where to find the hdf5 library (the root folder containing the <code>lib/</code> and <code>include/</code> directory). The configuration command becomes:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>./configure --prefix=/home/&lt;username&gt;/libraries --with-hdf5=/home/&lt;username&gt;/libraries</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If you run just <code>./configure -h</code>, you'll notice the option <code>--enable-shared=all</code>, which you can set to <code>--enable-shared=yes</code>, which will also build a shared object (<code>*.so</code>), or dynamic library as we have come to know it, as part of the build. The Autotools files will build, by default, only the static library (<code>libcgns.a</code>).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Now compile the library as per usual:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>make -j 4</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>and finally, install it with:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>make install</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Congratulations, you now know how to use Autotools. It's not something to be proud of, but sometimes we have to exercise that knowledge when working with libraries that still cling to <em>ye good ol' days</em> ...</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-summary">Summary</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Let's recap what we have looked at in this article. We now know that there are a plethora of build systems out there. We have looked at a few of them, the ones you most commonly will find when building libraries yourself form source.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If you have a choice, you should always be using CMake to build libraries. Most libraries will support CMake, even if they use a different tool to build their library internally for development. The best example I can come up with is <a href="https://github.com/google/googletest" target="_blank" rel="noopener" title="">google-test</a>, a tool that allows you to automatically test your software. Google uses a build system called Bazel for all of its internal build requirements, yet this library features both a Bazel and CMake file to build the library. We also saw that other libraries, such as the CGNS and hdf5 library provide support for both CMake and Autotools, so CMake seems to be the common denominator.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Avoid using Autotools in the 21st century; we have come a long way when it comes to build systems and Autotools is no longer fit for purpose. It was always going to be a Unix-first (or only?) tool and while it is not impossible to get it to work on Windows, it is definitely not intended to be used that way. Cross-platform compilation should be our goal, for every software we write, and Autotools has no place in this space.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>You now should have the required knowledge to build any third-party library you want to use from source. Regardless of which library you'll end up using (or wanting to use), always check the documentation, especially the installing steps, as they may contain some additional information on how the library ought to be built. The steps outlined in this article provide a structure or framework, which may need some adjustments based on the documentation.  </p>
<!-- /wp:paragraph -->