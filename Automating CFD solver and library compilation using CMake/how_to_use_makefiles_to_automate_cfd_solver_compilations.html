<!-- How to use Makefiles to automate CFD solver compilations -->
<!-- https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/how-to-use-makefiles-to-automate-cfd-solver-compilations/ -->

<!-- wp:paragraph -->
<p>In this article, we take a look at automating the software build stage using build and systems. We look at what options are available to us and why CMake, in particular, stands out as the most suitable choice for build automation. It enjoys the largest user base among all build systems, and chances are that if you use CFD libraries in your projects, you will come across CMake eventually.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>But before jumping straight into CMake, we take a deeper look at Make, which at its core is an automation tool which works particularily well for developing and compiling software. CMake produces Makefiles which can then be processed by Make, and so having a working understand of Make will give you better chances troubleshooting issues later that will arise during compilation using CMake.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Bu the end of this article, you will have gained sufficient knowledge on Makefiles to write your own ones that are generic enough that you can drop them into your project and get the compilation going with minimal changes to the Makefiles. You will also gain a balanced view of what the strengths are of Make and where it has lost ground to other, more cross-platform friendly solutions by looking at how you have to write different Makefiles for UNIX and Windows.</p>
<!-- /wp:paragraph -->

<!-- wp:block {"ref":2490} /-->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li><strong>Download</strong>: <a href="https://cfd.university/download/build-systems-part-1-2/?tmstv=1717482863&amp;v=3674" title="">Build-Systems-Part-1</a></li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><strong>Download</strong>: <a href="https://cfd.university/download/hello-world/?tmstv=1718342950&amp;v=3676" title="">Hello World</a></li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:heading -->
<h2 class="wp-block-heading">In this series</h2>
<!-- /wp:heading -->

<!-- wp:shortcode -->
[custom_category_posts_list category_slug="automating-cfd-solver-and-library-compilation-using-cmake"]
<!-- /wp:shortcode -->

<!-- wp:heading -->
<h2 class="wp-block-heading">In this article</h2>
<!-- /wp:heading -->

<!-- wp:aioseo/table-of-contents {"headings":[{"id":9,"blockClientId":"f0e5e47f-f707-4979-89d0-1fa15fd64110","content":"Introduction to Build Systems","level":2,"anchor":"aioseo-introduction-to-build-systems","order":0,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":21,"blockClientId":"3ca1c4f7-9b2a-4cfb-92f6-11acf9398293","content":"What are Makefiles (and why should I care)?","level":2,"anchor":"aioseo-what-are-makefiles","order":1,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":30,"blockClientId":"5f15d727-0dd7-4aec-8c62-8f8ab3188a80","content":"Writing our first Makefile","level":3,"anchor":"aioseo-a-hello-world-example","order":2,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":40,"blockClientId":"fdd96900-61fc-4968-9f74-1f543b84ffd1","content":"Adding additional targets","level":3,"anchor":"aioseo-adding-additional-targets","order":3,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":45,"blockClientId":"b83a84ae-c5d5-4c13-8ae1-5c4f6da52f22","content":"Adding variables to avoid copy-and-paste","level":3,"anchor":"aioseo-adding-variables-to-avoid-copy-and-paste","order":4,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":56,"blockClientId":"fd2c6b1c-371f-45ea-925b-10ba368526be","content":"Adding generic targets for specific file types","level":3,"anchor":"aioseo-adding-generic-targets-for-specific-file-types","order":5,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":81,"blockClientId":"34569d52-8967-40fa-840b-8b357550fd45","content":"Chaining targets and providing a default target","level":3,"anchor":"aioseo-chaining-targets-and-providing-a-default-target","order":6,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":98,"blockClientId":"c2bc7046-7cec-4895-84ab-40e317f7531a","content":"What other magic can Make do for me?","level":3,"anchor":"aioseo-what-other-magic-can-make-do-for-me","order":7,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]},{"id":106,"blockClientId":"3211c6d8-63fd-46fb-b342-489db8400785","content":"Creating a Makefile for a realistic project: Revisiting the complex number example","level":2,"anchor":"aioseo-creating-a-makefile-for-a-dummy-project","order":8,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":110,"blockClientId":"11e64375-b012-47b8-9830-14a1d28c0679","content":"Project structure","level":3,"anchor":"aioseo-project-structure","order":9,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":114,"blockClientId":"ab8e576e-3e36-405a-8431-ab5d53dd9240","content":"Writing a Makefile for UNIX (ah, the joy ...)","level":3,"anchor":"aioseo-a-quest-to-combine-both","order":10,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":132,"blockClientId":"a4072e19-ddc7-4416-8ae5-211aaaaedbcc","content":"Writing a Makefile for freaking Windows (oh no ...)","level":3,"anchor":"aioseo-writing-a-makefile-for-freaking-windows-oh-no","order":11,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]},{"id":159,"blockClientId":"8aac7b9e-83b4-4654-87cd-b87d040f3e1e","content":"The death of Makefiles","level":2,"anchor":"aioseo-the-demise-of-makefiles","order":12,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":165,"blockClientId":"c7fa99f1-4b27-4828-8523-1233528af90f","content":"Summary","level":2,"anchor":"aioseo-summary","order":13,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]} -->
<div class="wp-block-aioseo-table-of-contents"><ul><li><a href="#aioseo-introduction-to-build-systems">Introduction to Build Systems</a></li><li><a href="#aioseo-what-are-makefiles">What are Makefiles (and why should I care)?</a><ul><li><a href="#aioseo-a-hello-world-example">Writing our first Makefile</a></li><li><a href="#aioseo-adding-additional-targets">Adding additional targets</a></li><li><a href="#aioseo-adding-variables-to-avoid-copy-and-paste">Adding variables to avoid copy-and-paste</a></li><li><a href="#aioseo-adding-generic-targets-for-specific-file-types">Adding generic targets for specific file types</a></li><li><a href="#aioseo-chaining-targets-and-providing-a-default-target">Chaining targets and providing a default target</a></li><li><a href="#aioseo-what-other-magic-can-make-do-for-me">What other magic can Make do for me?</a></li></ul></li><li><a href="#aioseo-creating-a-makefile-for-a-dummy-project">Creating a Makefile for a realistic project: Revisiting the complex number example</a><ul><li><a href="#aioseo-project-structure">Project structure</a></li><li><a href="#aioseo-a-quest-to-combine-both">Writing a Makefile for UNIX (ah, the joy ...)</a></li><li><a href="#aioseo-writing-a-makefile-for-freaking-windows-oh-no">Writing a Makefile for freaking Windows (oh no ...)</a></li></ul></li><li><a href="#aioseo-the-demise-of-makefiles">The death of Makefiles</a></li><li><a href="#aioseo-summary">Summary</a></li></ul></div>
<!-- /wp:aioseo/table-of-contents -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-introduction-to-build-systems">Introduction to Build Systems</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>If you have been an astute reader on this website, and followed all series in order, or, you have heard me rambling on in my weekly newsletter, then it will come as no surprise to you that we are finally looking at build systems. Building software is such a fundamental step in developing any code that it is too important a topic to overlook.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Granted, if all you ever do is write a single source code application, you can just type out the compilation right into your terminal. You don't need an entire build system behind you (though I will make my case for why I think you should still learn one over this series). Or, you may have stumbled across a different part of the internet and wondered, why am I here? I am using Python/Matlab/Julia/etc., it's all interpreted, I don't need a build system (while laughing at your screen). Oh yes, you do, read on, and I'll tell you why.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Build systems are, at their core, automation powerhouses; they take an input and transform it into a desired output. The bread and butter of every build system is compilation, they take a set of source files, transform them into object files, and then link all of them together into an executable, or static/dynamic library.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>But build systems do so much more than just compiling and linking your files; they can prepare the build by copying files into the right location (think test data you need during unit testing), they can automatically download and build dependencies/libraries your project depend on, they can execute external scripts (python/bash/etc.) to perform any number of tasks that are important and bespoke to your project, they can create files dynamically required for compilation and we can even create an installer so that users can easily install our software!</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If you are using a compiled language such as C++, then knowing a build system will become vital. Even if you don't plan to use it in your own project, you will need to have an awareness of the build systems that are available so that you can build external dependencies/libraries which you require within your own project (e.g. <a href="https://cfd.university/learn/the-complete-guide-to-structured-and-unstructured-mesh-reading-using-cgns" target="_blank" rel="noopener" title="">integrate the CGNS library to support mesh reading in your solver</a>).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><a href="https://cfd.university/learn/how-to-compile-write-and-use-cfd-libraries-in-c/how-to-integrate-external-cfd-libraries-in-your-code/" target="_blank" rel="noopener" title="">We have already looked at build systems</a> a while back (and of course, you are an astute reader after all, so I don't need to tell you!). In that article, we developed a sense of what the most important build systems are, and we even wrote some instructions to compile our linear algebra solver library. So I won't go through all of them again in detail. Instead, let me give you a high-level overview of the most popular build systems; if you want to see how they look in code, then click through to the article linked at the beginning of this paragraph.</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li><a href="https://www.gnu.org/software/make/manual/make.html" target="_blank" rel="noopener" title="">Make</a>: Make is probably the oldest build system around. You specify variables (a list of source files or compiler flags, for example), and then put these together to build up a compilation command. These can be used in so-called targets, which define different actions you can perform, such as compiling your code, creating files, cleaning up build files, and even running your executable.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><a href="https://learn.microsoft.com/en-gb/visualstudio/msbuild/msbuild?view=vs-2022" target="_blank" rel="noopener" title="">MSBuild</a>: Microsoft doesn't like to take someone else's code and use it on their pristine platform (you can't litter that with free and open-source software) and so of course they have developed their own build software that works with only Windows machines. It looks horrible (think XML galore), but it gets the job done. You wouldn't write it by hand (<a href="https://cfd.university/learn/how-to-compile-write-and-use-cfd-libraries-in-c/how-to-integrate-external-cfd-libraries-in-your-code/#aioseo-msbuild" target="_blank" rel="noopener" title="">though I have done that</a>) but rather let a generator create it for you (which we will look at below).</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><a href="https://en.wikipedia.org/wiki/GNU_Autotools" target="_blank" rel="noopener" title="">Autotools</a>: A collection of tools that create Makefiles (for Make) based on some user-specific configurations. In that respect, it doesn't build any software but rather spits out instructions that Make can understand to build your software. It claims to be cross-platform (it is not), and I hate it in every fibre of my being. In this day and age, you should not use it, but you will still find lots of CFD projects that do, so I need to mention it.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><a href="https://ninja-build.org/" target="_blank" rel="noopener" title="">Ninja</a>: Very similar to Make but much newer. You define targets that you can execute that mainly build your source files into an executable or library. By design, it is much more limited than Make to favour speed over complexity/generality. The designers are clear about their mission: We don't care about readability; we care about compilation speed. Though, <a href="https://cfd.university/learn/how-to-compile-write-and-use-cfd-libraries-in-c/how-to-integrate-external-cfd-libraries-in-your-code/#aioseo-ninja" target="_blank" rel="noopener" title="">I find it not that difficult to read</a>, especially if you know Make.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><a href="https://cmake.org/" target="_blank" rel="noopener" title="">CMake</a>: Similar to Autotools, CMake is a meta-build system that takes inputs such as the source files and required targets (should we build an executable or a static/dynamic library?) and then provides us with the required build files such as Make or Ninja (or MSBuild, if you are so inclined). Why is it exponentially better than Autotools, I hear you cry? Unlike Autotools, it works (that's always a bonus in my books!), and it is the most used build system, so knowing it means you will be able to compile pretty much any other C++ project.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><a href="https://mesonbuild.com/" target="_blank" rel="noopener" title="">Meson</a>: Meson will always hold a special place in my (software engineering) heart as one of the great build systems that should have been but never was. Well, it is actually used by some people, but it has never grabbed the attention that it possibly deserved. It is essentially a CMake clone, let's face it, and it addressed all of the issues CMake had at the time Meson was created. Since then, CMake has seen the issues themselves (and the threat of Meson grabbing their users?) and has changed significantly as a result. The fact that Meson fixed CMake is reason enough to fall in love with the project (and the lead developer, especially after exchanging a few fan emails back and forth!). Here is a picture and he is entering into my hall of fame of software engineers together with <a href="https://cfd.university/learn/the-complete-guide-to-software-testing-for-cfd-applications/how-to-get-started-with-gtest-in-c-for-cfd-development/#aioseo-kent-beck-the-man" target="_blank" rel="noopener" title="">Kent Beck</a> (and proof that software engineers should be part-time models):</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:image {"id":3609,"sizeSlug":"large","linkDestination":"none"} -->
<figure class="wp-block-image size-large"><img src="https://cfd.university/wp-content/uploads/2024/05/Jussi_Pakkanen-1024x576.jpg" alt="" class="wp-image-3609"/></figure>
<!-- /wp:image -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li><a href="https://bazel.build/" target="_blank" rel="noopener" title="">Bazel</a>: Developed by Google, and driven by the same mantra as Microsoft (don't use someone else's code), Bazel was developed to build software. Period. It uses some advanced features to really make the build as fast as possible, and it doesn't depend on build tools like Make or Ninja to do the actual build, i.e. Bazel will compile your source files for you (and not delegate that task like CMake). Every time I look at Bazel, I have to say that I am intrigued. I'll probably give it a closer look in the near future, but it is unlikely to replace my CMake toolchain.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>SCons: Another build system that, full disclaimer, I have never used but always pops up when looking through a list of frequently used build systems for C++. It has around 18k downloads per month, so it must be in active use (though these numbers can be deceiving as most of these downloads are likely from automated software tests in the cloud). Either way, judging by its syntax, it feels like a weird combination of Make and Python, which just doesn't look right. Let's put it this way: I have included it on this list for completeness, not to give my endorsement (I haven't seen any serious CFD project using SCons).</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><a href="https://waf.io/" target="_blank" rel="noopener" title="">Waf</a>: Finally, there is Waf. I have used it extensively, and I am still not sure what to think of it. It is either absolute genius or insanity; it sits right at the border, and I guess it depends on your views that will decide which side it is on. There are some pretty neat features (that you will find in other build systems as well), but it feels more like writing Python code than working with a build system. Perhaps this is why I like it (as a converted Python lover), but its documentation is bad, so I probably never really got to the point of it. Still, it is a great tool, and if you are looking for a kick of madness for your project, why not choose Waf?</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>With a rundown of the most used build systems (for C++-based projects, there are loads more for mobile and web), what I want to do in the rest of this article is to go through Make in much greater detail. I really like Make from an educational perspective because you need to understand how compilation works to get your Makefiles to work. Once you are able to write Makefiles, you will have the skills required to debug any compilation issues with other build software, and so for that fact alone, it is worth spending some time on it.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>There is, of course, a reason why we don't use Make anymore for serious development (I should be careful here; most academic CFD solvers still use Make; even OpenFOAM is essentially using Make for compilation, making it so difficult to port it to Windows). By the end of this article, you will see the value of understanding Make for your own learning process, but you will also see the limitations, especially when it comes to cross-platform support. Without further ado, let's jump straight into Make.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-what-are-makefiles">What are Makefiles (and why should I care)?</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The year is 2014. I just left my last research assistant position and had some time to kill, with Wi-Fi access and a lot of free time. <a href="https://amath.washington.edu/people/randy-leveque" target="_blank" rel="noopener" title="">Randy LeVeque</a> was giving away his lecture on <a href="https://www.classcentral.com/course/scicomp-764" target="_blank" rel="noopener" title="">high-performance scientific computing</a> for free on <a href="https://www.coursera.org/">Coursera</a> (unfortunately, it seems to have since been removed), and towards the end of the lectures, Makefiles were introduced. I had used them before, but only from other people's projects, and never really bothered to look up the syntax, but in that lecture, I learned what I needed and fell in love with Make. Let's see if I can convey the same passion here; let's make Randy proud.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Let's start by how we have dealt with the build stage thus far. If we look back at our <a href="https://cfd.university/learn/the-complete-guide-to-software-testing-for-cfd-applications/how-to-get-started-with-gtest-in-c-for-cfd-development/#aioseo-using" target="_blank" rel="noopener" title="">complex number example</a>, that we developed as part of our <a href="https://cfd.university/learn/the-complete-guide-to-software-testing-for-cfd-applications/" target="_blank" rel="noopener" title="">software testing series</a>, we can see that we have bespoke build scripts for Windows (<code>runTests.ps1</code>) and UNIX (<code>runTests.sh</code>). If we look at the UNIX build script for the moment, we have the following file:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"#!/bin/bash\n\n# clean up before building\nrm -rf build\nmkdir -p build\n\n# compile source files into object files\ng++ -std=c++20 -I. -I ~/libs/include/ -c -g ./tests/unit/testComplexNumbers.cpp -o ./build/testComplexNumbers.o\n\n# create test executable\ng++ -std=c++20 ./build/testComplexNumbers.o -o ./build/testComplexNumbers -L ~/libs/lib -lgtest\n\n# run tests\n./build/testComplexNumbers","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e#!/bin/bash\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# clean up before building\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erm\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-rf\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emkdir\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-p\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# compile source files into object files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eg++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-std=c++20\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-I.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-I\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e~/libs/include/\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-c\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-g\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e./tests/unit/testComplexNumbers.cpp\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e./build/testComplexNumbers.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# create test executable\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eg++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-std=c++20\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e./build/testComplexNumbers.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e./build/testComplexNumbers\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-L\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e~/libs/lib\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-lgtest\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# run tests\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e./build/testComplexNumbers\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":14,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="#!/bin/bash

# clean up before building
rm -rf build
mkdir -p build

# compile source files into object files
g++ -std=c++20 -I. -I ~/libs/include/ -c -g ./tests/unit/testComplexNumbers.cpp -o ./build/testComplexNumbers.o

# create test executable
g++ -std=c++20 ./build/testComplexNumbers.o -o ./build/testComplexNumbers -L ~/libs/lib -lgtest

# run tests
./build/testComplexNumbers" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># clean up before building</span></span>
<span class="line"><span style="color: #DCDCAA">rm</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-rf</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build</span></span>
<span class="line"><span style="color: #DCDCAA">mkdir</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-p</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># compile source files into object files</span></span>
<span class="line"><span style="color: #DCDCAA">g++</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-std=c++20</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-I.</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-I</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">~/libs/include/</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-c</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-g</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">./tests/unit/testComplexNumbers.cpp</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">./build/testComplexNumbers.o</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># create test executable</span></span>
<span class="line"><span style="color: #DCDCAA">g++</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-std=c++20</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">./build/testComplexNumbers.o</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">./build/testComplexNumbers</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-L</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">~/libs/lib</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-lgtest</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># run tests</span></span>
<span class="line"><span style="color: #DCDCAA">./build/testComplexNumbers</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>This works great, it encodes all steps that we need, so why bother learning a new tool such as Make to replace our shell scripts? Well, the answer is complexity. As our software grows, so will our bash script. It is easy to see that if we add 1000 files to our project, we now need to add 1000 lines to our bash script to compile each file individually. That is a lot of copy and pasting (error-prone, especially if we decide to change the compiler and thus compiler flags) and in general, the shell script will grow linearly with the size of the project.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Furthermore, we remove the build folder each time before we compile the code. This is fine for a single source file, but will already be painful after having 10 files or so. If you have 100 files, you will go mad. You don't want to compile everything from scratch, but only those files that change. Clearly we want to have a solution that only recompiles files that have been modified.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>What if I want to only build the executable, but I don't want to run it (like we do on line 14)? I could remove the line and then add it back later if I change my mind again, or I could have different versions of this shell script. Both options are bad and will most likely lead to unexpected behaviour later.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So, if we spend just a bit more time trying to make these shell scripts more general, then we customise our build process to only execute the parts we are interested in (e.g. removing the build folder, compiling the code, running the executable). Additionally, we would like to simply add additional source files and leave the rest of the script untouched. This is where Make comes in and provides us with the tools we need.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Make is not necessarily a tool just dedicated to programming (although it is most commonly used here); at its core, it defines targets that you want to achieve (e.g. creating an executable), and then it lists all dependencies to create that target (e.g. you need compiled source files before you can link them into a single executable). These dependencies may need to be targets themselves; for example, to create compiled source files, you need a list of source files. In this way, you can specify how to transform source files into object files and object files into an executable.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-a-hello-world-example">Writing our first Makefile</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The above paragraph sounds overly convoluted, so let's start with the simplest form, a hello world project. Our C++ source code for this is just</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"// hello.cpp\n#include \u0026lt;iostream\u003e\n\nint main() {\n  std::cout \u0026lt;\u0026lt; \u0022Hello cfd.university\u0022 \u0026lt;\u0026lt; std::endl;\n  return 0;\n}","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e// hello.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003e#include\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eint\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emain\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::cout \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Hello cfd.university\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::endl;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003ereturn\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":7,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="// hello.cpp
#include &lt;iostream&gt;

int main() {
  std::cout &lt;&lt; &quot;Hello cfd.university&quot; &lt;&lt; std::endl;
  return 0;
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955">// hello.cpp</span></span>
<span class="line"><span style="color: #C586C0">#include</span><span style="color: #569CD6"> </span><span style="color: #CE9178">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">main</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::cout &lt;&lt; </span><span style="color: #CE9178">&quot;Hello cfd.university&quot;</span><span style="color: #D4D4D4"> &lt;&lt; </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::endl;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>The corresponding Make file, in its simplest form, would be</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"hello: hello.o\n  g++ hello.o -o hello\n\nhello.o: hello.cpp\n  g++ -c hello.cpp -o hello.o","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ehello\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  g++ hello.o -o hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ehello.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  g++ -c hello.cpp -o hello.o\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":5,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="hello: hello.o
  g++ hello.o -o hello

hello.o: hello.cpp
  g++ -c hello.cpp -o hello.o" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">hello</span><span style="color: #D4D4D4">: hello.o</span></span>
<span class="line"><span style="color: #D4D4D4">  g++ hello.o -o hello</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">hello.o</span><span style="color: #D4D4D4">: hello.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">  g++ -c hello.cpp -o hello.o</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Here, we define the target <code>hello</code> on line 1, i.e. the executable that we want to create, which requires a single object file called <code>hello.o</code>. If that file is not available, Make will look for a rule to create this object file. We have provided that on line 4, where, in order to create hello.o (the target now), we can see that we need to first <code>hello.cpp</code>, which is available in our project. One important detail is that the instructions to for each target (here lines 2 and 5) need to be indented by the tab key, not with spaces. Otherwise Make may not work correctly.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So first, Make will execute line 5 to compile the source file into an object file, and then, after the object file is available, we can execute line 2 to create an executable from the object file. It may seem a bit convoluted at first, but if you understand the example above, then there is really not much else to it. Everything else in Make is just <a href="https://en.wikipedia.org/wiki/Syntactic_sugar">syntactic sugar</a>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If you have both the <code>hellp.cpp</code> and Makefile in one directory, open a terminal and type</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"make hello","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ehello\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="make hello" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">make</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">hello</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>This will look for a target called <code>hello</code>, which is specified on line 1. Incidentally, if Make is not installed, you'll need to do that first. In this case, I am working on UNIX (for simplicity, as you will see later) and you can obtain Make through your package manager (e.g. <code>sudo apt install -y make</code> on Ubuntu and <code>brew install make</code> on macOS). If you are on Windows, hold on for just a second; we'll get into the messy bits of writing Makefiles for Windows in just a second (they are mostly similar, but there are differences).</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-adding-additional-targets">Adding additional targets</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>At the moment, we have specified only a single target for the user to use, which is <code>hello</code>. The second target was used by Make to build all dependencies in order to complete the <code>hello</code> target. From our bash script that we saw above, we see that there are additional things we may want to do, like creating a directory or deleting files. We can instruct Make to do that as well. However, if we think about a target that deletes files, for example, we don't have any dependencies and for that Make has so-called phony targets. Let's add targets for creating a build folder, deleting object files, and running the executable:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"hello: hello.o\n\tg++ build/hello.o -o build/hello\n\nhello.o: hello.cpp\n\tg++ -c hello.cpp -o build/hello.o\n\n.PHONY: init\ninit:\n\tmkdir -p build\n\n.PHONY: clean\nclean:\n\trm -rf build/\n\n.PHONY: run\nrun: hello\n\t./build/hello","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ehello\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tg++ build/hello.o -o build/hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ehello.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tg++ -c hello.cpp -o build/hello.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: init\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003einit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tmkdir -p build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: clean\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eclean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\trm -rf build/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: run\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erun\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t./build/hello\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":17,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="hello: hello.o
	g++ build/hello.o -o build/hello

hello.o: hello.cpp
	g++ -c hello.cpp -o build/hello.o

.PHONY: init
init:
	mkdir -p build

.PHONY: clean
clean:
	rm -rf build/

.PHONY: run
run: hello
	./build/hello" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">hello</span><span style="color: #D4D4D4">: hello.o</span></span>
<span class="line"><span style="color: #D4D4D4">	g++ build/hello.o -o build/hello</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">hello.o</span><span style="color: #D4D4D4">: hello.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">	g++ -c hello.cpp -o build/hello.o</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: init</span></span>
<span class="line"><span style="color: #DCDCAA">init</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	mkdir -p build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: clean</span></span>
<span class="line"><span style="color: #DCDCAA">clean</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	rm -rf build/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: run</span></span>
<span class="line"><span style="color: #DCDCAA">run</span><span style="color: #D4D4D4">: hello</span></span>
<span class="line"><span style="color: #D4D4D4">	./build/hello</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We see from the last three targets that phony targets are first declared as such (see lines 7, 11, and 15), and then we just proceed to define the targets without any dependencies on lines 8, 12, and 16. The first of these phony targets on lines 7-9 allows us to create a build folder. So if we typed <code>make init</code> into our console, we would create a folder called <code>build</code> in the current directory, and since we want to store all of our build artifacts here (object files and executable), we have to change line 2 and 5 as well, to say that we want to to store these files in the build folder now.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Then we have the other phony targets, <code>clean</code> on lines 11-13, which removes the build folder containing all build artefacts, while <code>run</code> on line 15 allows us to run the executable itself. From a readability point of view, this Makefile is (hopefully) quiet easy to read. From a software engineering perspective, though, it is suboptimal. Say we want to change the name of the build folder to bin (another common choice), then we would have to make changes in 6 different places. That's not great.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-adding-variables-to-avoid-copy-and-paste">Adding variables to avoid copy-and-paste</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>This is where variables come in. We can define any variables at the top and then use them in the rest of the Makefile, Make will then substitute them where they are used in the file. Let's create a variable called <code>BUILD_DIR</code> and use that in all targets. The convention typically is to use capitalised letters with underscores for variable names, though it is not required. The updated Makefile now reads</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"BUILD_DIR = build\n\nhello: hello.o\n\tg++ $(BUILD_DIR)/hello.o -o $(BUILD_DIR)/hello\n\nhello.o: hello.cpp\n\tg++ -c hello.cpp -o $(BUILD_DIR)/hello.o\n\n.PHONY: init\ninit:\n\tmkdir -p $(BUILD_DIR)\n\n.PHONY: clean\nclean:\n\trm -rf $(BUILD_DIR)/\n\n.PHONY: run\nrun: hello\n\t./$(BUILD_DIR)/hello\n","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ehello\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tg++ \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello.o -o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ehello.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tg++ -c hello.cpp -o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: init\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003einit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tmkdir -p \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: clean\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eclean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\trm -rf \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: run\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erun\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t./\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":20,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="BUILD_DIR = build

hello: hello.o
	g++ $(BUILD_DIR)/hello.o -o $(BUILD_DIR)/hello

hello.o: hello.cpp
	g++ -c hello.cpp -o $(BUILD_DIR)/hello.o

.PHONY: init
init:
	mkdir -p $(BUILD_DIR)

.PHONY: clean
clean:
	rm -rf $(BUILD_DIR)/

.PHONY: run
run: hello
	./$(BUILD_DIR)/hello
" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #D4D4D4"> = build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">hello</span><span style="color: #D4D4D4">: hello.o</span></span>
<span class="line"><span style="color: #D4D4D4">	g++ </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello.o -o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">hello.o</span><span style="color: #D4D4D4">: hello.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">	g++ -c hello.cpp -o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello.o</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: init</span></span>
<span class="line"><span style="color: #DCDCAA">init</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	mkdir -p </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: clean</span></span>
<span class="line"><span style="color: #DCDCAA">clean</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	rm -rf </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: run</span></span>
<span class="line"><span style="color: #DCDCAA">run</span><span style="color: #D4D4D4">: hello</span></span>
<span class="line"><span style="color: #D4D4D4">	./</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello</span></span>
<span class="line"></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Ok, this looks already slightly better, but there are still a few things we may want to change. For example, a common choice is to replace the compiler with a variable so that it can be later changed if required (both within the Makefile or while calling <code>make</code>). And while we are at it, let's also add some compiler and linker flags:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# specify the build directory\nBUILD_DIR = build\n\n# specify the default compiler\nCXX = g++\n\n# compiler flags\nCXXFLAGS = -c\n\n# linker flags\nLXXFLAGS = \n\nhello: hello.o\n\t$(CXX) $(BUILD_DIR)/hello.o $(LXXFLAGS) -o $(BUILD_DIR)/hello\n\nhello.o: hello.cpp\n\t$(CXX) $(CXXFLAGS) hello.cpp -o $(BUILD_DIR)/hello.o\n\n.PHONY: init\ninit:\n\tmkdir -p $(BUILD_DIR)\n\n.PHONY: clean\nclean:\n\trm -rf $(BUILD_DIR)/\n\n.PHONY: run\nrun: hello\n\t./$(BUILD_DIR)/hello\n","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# specify the build directory\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# specify the default compiler\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = g++\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# compiler flags\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = -c\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# linker flags\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ehello\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello.o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ehello.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e hello.cpp -o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: init\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003einit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tmkdir -p \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: clean\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eclean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\trm -rf \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: run\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erun\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t./\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":30,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# specify the build directory
BUILD_DIR = build

# specify the default compiler
CXX = g++

# compiler flags
CXXFLAGS = -c

# linker flags
LXXFLAGS = 

hello: hello.o
	$(CXX) $(BUILD_DIR)/hello.o $(LXXFLAGS) -o $(BUILD_DIR)/hello

hello.o: hello.cpp
	$(CXX) $(CXXFLAGS) hello.cpp -o $(BUILD_DIR)/hello.o

.PHONY: init
init:
	mkdir -p $(BUILD_DIR)

.PHONY: clean
clean:
	rm -rf $(BUILD_DIR)/

.PHONY: run
run: hello
	./$(BUILD_DIR)/hello
" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># specify the build directory</span></span>
<span class="line"><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #D4D4D4"> = build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># specify the default compiler</span></span>
<span class="line"><span style="color: #9CDCFE">CXX</span><span style="color: #D4D4D4"> = g++</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># compiler flags</span></span>
<span class="line"><span style="color: #9CDCFE">CXXFLAGS</span><span style="color: #D4D4D4"> = -c</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># linker flags</span></span>
<span class="line"><span style="color: #9CDCFE">LXXFLAGS</span><span style="color: #D4D4D4"> = </span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">hello</span><span style="color: #D4D4D4">: hello.o</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello.o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">LXXFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> -o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">hello.o</span><span style="color: #D4D4D4">: hello.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXXFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> hello.cpp -o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello.o</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: init</span></span>
<span class="line"><span style="color: #DCDCAA">init</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	mkdir -p </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: clean</span></span>
<span class="line"><span style="color: #DCDCAA">clean</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	rm -rf </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: run</span></span>
<span class="line"><span style="color: #DCDCAA">run</span><span style="color: #D4D4D4">: hello</span></span>
<span class="line"><span style="color: #D4D4D4">	./</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello</span></span>
<span class="line"></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>If we look now at the targets on lines 13 (<code>hello</code>) and 16 (<code>hello.o</code>), we see that we have now replaced the compiler and its compilation and linking flags with variables. At the moment, we don't have any linking flags specified on line 11, but if we want to add some later (for example, link against libraries), we can insert them on line 11 and don't have to worry about changing the target later. The same goes for the compiler flags.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>One nice thing of having variables defined is that we can change them when we invoke Make itself. Say, for example, we want to use the <code>clang</code> compiler instead of <code>g++</code>, we don't have to change the Makefile, but instead can simply pass an additional command to our <code>make</code> command as</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"make hello CXX=clang++","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ehello\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eCXX=clang++\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="make hello CXX=clang++" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">make</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">hello</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">CXX=clang++</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Make will now substitute <code>clang++</code> for <code>g++</code> and if you execute the command above, you can verify that, indeed <code>clang++</code> was used:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"clang++ -c hello.cpp -o build/hello.o\nclang++ build/hello.o  -o build/hello","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eclang++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-c\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ehello.cpp\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/hello.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eclang++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/hello.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/hello\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":2,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="clang++ -c hello.cpp -o build/hello.o
clang++ build/hello.o  -o build/hello" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">clang++</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-c</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">hello.cpp</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/hello.o</span></span>
<span class="line"><span style="color: #DCDCAA">clang++</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/hello.o</span><span style="color: #D4D4D4">  </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/hello</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>There is one issue, though, that still requires some attention, in my view. And that is the targets to build and compile the object files and final executable. At the moment, we have hard-coded that the executable <code>hello</code> depends on <code>hello.o</code>, which in turn depends on <code>hello.cpp</code>. As long as our project consists of only a single source file, this works great, but once we add a new file, Make won't have a clue how to work with it. So, we want to write generic compilation and linking targets that work for different files of the same file type.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-adding-generic-targets-for-specific-file-types">Adding generic targets for specific file types </h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>A common generic target is to say that in order to build any object file, you will need a corresponding source file. We can achieve that relatively quickly on line 16 in the previous example by replacing this target, i.e.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"hello.o: hello.cpp\n\t$(CXX) $(CXXFLAGS) hello.cpp -o $(BUILD_DIR)/hello.o","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ehello.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e hello.cpp -o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello.o\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":2,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="hello.o: hello.cpp
	$(CXX) $(CXXFLAGS) hello.cpp -o $(BUILD_DIR)/hello.o" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">hello.o</span><span style="color: #D4D4D4">: hello.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXXFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> hello.cpp -o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello.o</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>With the following generic version:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"%.o: %.cpp\n\t$(CXX) $(CXXFLAGS) $\u0026lt; -o $(BUILD_DIR)/$@","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e%\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e%\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$@\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":2,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="%.o: %.cpp
	$(CXX) $(CXXFLAGS) $&lt; -o $(BUILD_DIR)/$@" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #9CDCFE">%</span><span style="color: #DCDCAA">.o</span><span style="color: #D4D4D4">: </span><span style="color: #9CDCFE">%</span><span style="color: #D4D4D4">.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXXFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">$&lt;</span><span style="color: #D4D4D4"> -o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/</span><span style="color: #569CD6">$@</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Here, we say that any object file (denoted by the special character <code>%</code>) can be compiled from a corresponding source file. So, if we added a file called <code>cfdSolver.cpp</code> to our project, this could be compiled into <code>cfdSolver.o</code> with this rule, and we wouldn't have to change anything about this target.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Since we are working with generic targets, we need to now refer to the target and its dependencies differently, i.e. we can no longer hard-code the source file like <code>hellp.cpp</code> and the output, i.e. <code>hello.o</code>. To do that, we use <code>$&lt;</code> which represents the dependency (in our example, hello.cpp), while $@ represents the target (which, again, in our case, there is only one, i.e. <code>hello.o</code>). We could have used that with the previous build rule as well, i.e.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"hello.o: hello.cpp\n\t$(CXX) $(CXXFLAGS) $\u0026lt; -o $(BUILD_DIR)/$@","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ehello.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$@\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":2,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="hello.o: hello.cpp
	$(CXX) $(CXXFLAGS) $&lt; -o $(BUILD_DIR)/$@" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">hello.o</span><span style="color: #D4D4D4">: hello.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXXFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">$&lt;</span><span style="color: #D4D4D4"> -o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/</span><span style="color: #569CD6">$@</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>would have been valid code as well. Here it is more verbose, i.e. we can see the target and its dependency written out clearly, and should bring home the point that $&lt; essentially just refers to what is on the right-hand side of the colon of the rule and <code>$@</code> to what is to the left-hand side of the colon.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We still haven't touched the linking stage, though, and here, we need to think a bit more. Currently, we have</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"hello: hello.o\n\t$(CXX) $(BUILD_DIR)/hello.o $(LXXFLAGS) -o $(BUILD_DIR)/hello","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ehello\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello.o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":2,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="hello: hello.o
	$(CXX) $(BUILD_DIR)/hello.o $(LXXFLAGS) -o $(BUILD_DIR)/hello" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">hello</span><span style="color: #D4D4D4">: hello.o</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello.o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">LXXFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> -o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>In this case, it is a bit different to the generic target we specified before. What we did in the previous example, is to construct any object file from a given source file. Each object file has exactly one dependency (i.e. the source file that is to be compiled), and if we wanted to get properly nerdy, we could say that there is a one-to-one relationship.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>For the executable, though, we have a one-to-many relationship, i.e. we are building a single executable, but that may depend on any number of object files. So, we can't use the same generic target we used before. Instead, we have to go back one step and first define all source files as a variable. Then, we can create a variable that will hold all object file names, which we can then pass to the <code>hello</code> target. Again, this sounds convoluted, so let's put this into code and see how it works:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# source files\nSRC = hello.cpp\n\n# object files\nOBJ = $(subst .cpp,.o,$(SRC))\n\nhello: $(OBJ)\n\t$(CXX) $(BUILD_DIR)/hello.o $(LXXFLAGS) -o $(BUILD_DIR)/hello","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# source files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = hello.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# object files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eOBJ\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003esubst\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e .cpp,.o,$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ehello\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eOBJ\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello.o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":8,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# source files
SRC = hello.cpp

# object files
OBJ = $(subst .cpp,.o,$(SRC))

hello: $(OBJ)
	$(CXX) $(BUILD_DIR)/hello.o $(LXXFLAGS) -o $(BUILD_DIR)/hello" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># source files</span></span>
<span class="line"><span style="color: #9CDCFE">SRC</span><span style="color: #D4D4D4"> = hello.cpp</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># object files</span></span>
<span class="line"><span style="color: #9CDCFE">OBJ</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">$(</span><span style="color: #DCDCAA">subst</span><span style="color: #CE9178"> .cpp,.o,$(</span><span style="color: #9CDCFE">SRC</span><span style="color: #CE9178">))</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">hello</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">OBJ</span><span style="color: #CE9178">)</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello.o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">LXXFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> -o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Line 2 here specifies all source files, of which we have exactly one, and then the trick is to create all object files on line 5 using a Make function called <code>subst</code>, i.e. it will substitute a specific combination of characters (first argument) with a given set of characters (second argument) within a specific string (third argument). So, in this case, <code>hello.cpp</code> will be transformed into <code>hello.o</code>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If we had more than one source file, we would simply add this to the <code>SRC</code> variable, either as a list with spaces separating file names or using backslashes and new lines, i.e.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# specify files on a single line\nSRC_SINGLE_LINE = file1.cpp file2.cpp file3.cpp\n\n# specifying files on new lines\nSRC_NEW_LINE = \\\n  file1.cpp \\\n  file2.cpp \\\n  file3.cpp\n\n# or, use a combination of the two\nSRC_HYBRID = file1.cpp file2.cpp \\\n  file3.cpp ","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# specify files on a single line\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC_SINGLE_LINE\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = file1.cpp file2.cpp file3.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# specifying files on new lines\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC_NEW_LINE\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  file1.cpp \u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  file2.cpp \u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  file3.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# or, use a combination of the two\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC_HYBRID\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = file1.cpp file2.cpp \u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  file3.cpp \u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":12,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# specify files on a single line
SRC_SINGLE_LINE = file1.cpp file2.cpp file3.cpp

# specifying files on new lines
SRC_NEW_LINE = \
  file1.cpp \
  file2.cpp \
  file3.cpp

# or, use a combination of the two
SRC_HYBRID = file1.cpp file2.cpp \
  file3.cpp " style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># specify files on a single line</span></span>
<span class="line"><span style="color: #9CDCFE">SRC_SINGLE_LINE</span><span style="color: #D4D4D4"> = file1.cpp file2.cpp file3.cpp</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># specifying files on new lines</span></span>
<span class="line"><span style="color: #9CDCFE">SRC_NEW_LINE</span><span style="color: #D4D4D4"> = </span><span style="color: #D7BA7D">\</span></span>
<span class="line"><span style="color: #D4D4D4">  file1.cpp </span><span style="color: #D7BA7D">\</span></span>
<span class="line"><span style="color: #D4D4D4">  file2.cpp </span><span style="color: #D7BA7D">\</span></span>
<span class="line"><span style="color: #D4D4D4">  file3.cpp</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># or, use a combination of the two</span></span>
<span class="line"><span style="color: #9CDCFE">SRC_HYBRID</span><span style="color: #D4D4D4"> = file1.cpp file2.cpp </span><span style="color: #D7BA7D">\</span></span>
<span class="line"><span style="color: #D4D4D4">  file3.cpp </span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>If you feel particularly lazy and say you don' want to constantly add new source files to your Makefile, this is possible as well using the wildcard feature. So, instead of writing out all source files directly, let Make discover them dynamically:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# source files\nSRC = $(wildcard *.cpp)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# source files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ewildcard\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e*\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e.cpp)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":2,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# source files
SRC = $(wildcard *.cpp)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># source files</span></span>
<span class="line"><span style="color: #9CDCFE">SRC</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">$(</span><span style="color: #DCDCAA">wildcard</span><span style="color: #CE9178"> </span><span style="color: #9CDCFE">*</span><span style="color: #CE9178">.cpp)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>It will look in the current directory for any files (indicated by the <code>*</code>) that end with <code>.cpp</code>, i.e. our source files. It will only work for files that are in the current directory, though we can replace the <code>wildcard</code> function with a more powerful <code>find</code> function that can discover files in subdirectories as well (though this is not a Make function but instead provided by your shell). If you are using a <code>bash</code> shell (default on most Linux distributions but not macOS), you can replace this line by</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# source files\nSRC = $(shell find . -type f -regex \u0022.*\\.cpp\u0022)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# source files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eshell\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e find . -type f -regex \u0026quot;.\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e*\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\\.cpp\u0026quot;)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":2,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# source files
SRC = $(shell find . -type f -regex &quot;.*\.cpp&quot;)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># source files</span></span>
<span class="line"><span style="color: #9CDCFE">SRC</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">$(</span><span style="color: #DCDCAA">shell</span><span style="color: #CE9178"> find . -type f -regex &quot;.</span><span style="color: #9CDCFE">*</span><span style="color: #CE9178">\.cpp&quot;)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Here, we are telling Make to use the <code>shell</code>, i.e. in my case my <code>bash</code> shell on Ubuntu, and within the shell, Make should execute the <code>find</code> command with the given parameters. We are searching the current directory (indicated by the dot after <code>find</code>) but replace this with a source directory as well if that is our project structure (e.g. <code>find src/ ...</code>). Then, we say that we want to find only files (<code>type -f</code>) and use a <a href="https://www.regular-expressions.info/" target="_blank" rel="noopener" title="">regular expression</a> (regex) syntax to find only files ending in <code>.cpp</code>. If you are new to regex, <a href="https://www.youtube.com/playlist?list=PL4cUxeGkcC9g6m_6Sld9Q4jzqdqHd2HiD" target="_blank" rel="noopener" title="">this is a great place to start</a>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>I should mention, though, that the usage of wildcards (or file globbing, as it is generally referred to in other build systems), is generally discouraged. There is a good write-up on <a href="https://embeddedartistry.com/fieldatlas/problems-with-globbing-in-build-systems/" target="_blank" rel="noopener" title="">embedded artistry</a>, but in essence, file globbing (using wildcards) is great when it works, but it can introduce subtle problems that may result in compilation issues that are difficult to debug. Using wildcards (or the <code>find</code> command) is also slower than explicitly stating all files, which can make a difference for large projects. But to show that this is possible, we use it for now (and ignore it later).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If you have made all of the modifications discussed above, then you should have a fairly generic Makefile that should look like the following:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# specify the build directory\nBUILD_DIR = build\n\n# specify the default compiler\nCXX = g++\n\n# compiler flags\nCXXFLAGS = -c\n\n# linker flags\nLXXFLAGS =\n\n# source files\nSRC = $(wildcard *.cpp)\n# or, use the following if you have source files in subdirectories\n# SRC = $(shell find . -type f -regex \u0022.*\\.cpp\u0022)\n\n# object files\nOBJ = $(subst .cpp,.o,$(SRC))\n\nhello: $(OBJ)\n\t$(CXX) $(BUILD_DIR)/hello.o $(LXXFLAGS) -o $(BUILD_DIR)/hello\n\n%.o: %.cpp\n\t$(CXX) $(CXXFLAGS) $\u0026lt; -o $(BUILD_DIR)/$@\n\n.PHONY: init\ninit:\n\tmkdir -p $(BUILD_DIR)\n\n.PHONY: clean\nclean:\n\trm -rf $(BUILD_DIR)/\n\n.PHONY: run\nrun: hello\n\t./$(BUILD_DIR)/hello\n","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# specify the build directory\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# specify the default compiler\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = g++\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# compiler flags\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = -c\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# linker flags\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e =\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# source files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ewildcard\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e*\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e.cpp)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# or, use the following if you have source files in subdirectories\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# SRC = $(shell find . -type f -regex \u0026quot;.*\\.cpp\u0026quot;)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# object files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eOBJ\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003esubst\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e .cpp,.o,$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ehello\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eOBJ\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello.o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e%\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e%\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$@\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: init\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003einit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tmkdir -p \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: clean\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eclean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\trm -rf \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: run\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erun\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t./\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":38,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# specify the build directory
BUILD_DIR = build

# specify the default compiler
CXX = g++

# compiler flags
CXXFLAGS = -c

# linker flags
LXXFLAGS =

# source files
SRC = $(wildcard *.cpp)
# or, use the following if you have source files in subdirectories
# SRC = $(shell find . -type f -regex &quot;.*\.cpp&quot;)

# object files
OBJ = $(subst .cpp,.o,$(SRC))

hello: $(OBJ)
	$(CXX) $(BUILD_DIR)/hello.o $(LXXFLAGS) -o $(BUILD_DIR)/hello

%.o: %.cpp
	$(CXX) $(CXXFLAGS) $&lt; -o $(BUILD_DIR)/$@

.PHONY: init
init:
	mkdir -p $(BUILD_DIR)

.PHONY: clean
clean:
	rm -rf $(BUILD_DIR)/

.PHONY: run
run: hello
	./$(BUILD_DIR)/hello
" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># specify the build directory</span></span>
<span class="line"><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #D4D4D4"> = build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># specify the default compiler</span></span>
<span class="line"><span style="color: #9CDCFE">CXX</span><span style="color: #D4D4D4"> = g++</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># compiler flags</span></span>
<span class="line"><span style="color: #9CDCFE">CXXFLAGS</span><span style="color: #D4D4D4"> = -c</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># linker flags</span></span>
<span class="line"><span style="color: #9CDCFE">LXXFLAGS</span><span style="color: #D4D4D4"> =</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># source files</span></span>
<span class="line"><span style="color: #9CDCFE">SRC</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">$(</span><span style="color: #DCDCAA">wildcard</span><span style="color: #CE9178"> </span><span style="color: #9CDCFE">*</span><span style="color: #CE9178">.cpp)</span></span>
<span class="line"><span style="color: #6A9955"># or, use the following if you have source files in subdirectories</span></span>
<span class="line"><span style="color: #6A9955"># SRC = $(shell find . -type f -regex &quot;.*\.cpp&quot;)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># object files</span></span>
<span class="line"><span style="color: #9CDCFE">OBJ</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">$(</span><span style="color: #DCDCAA">subst</span><span style="color: #CE9178"> .cpp,.o,$(</span><span style="color: #9CDCFE">SRC</span><span style="color: #CE9178">))</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">hello</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">OBJ</span><span style="color: #CE9178">)</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello.o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">LXXFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> -o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello</span></span>
<span class="line"></span>
<span class="line"><span style="color: #9CDCFE">%</span><span style="color: #DCDCAA">.o</span><span style="color: #D4D4D4">: </span><span style="color: #9CDCFE">%</span><span style="color: #D4D4D4">.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXXFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">$&lt;</span><span style="color: #D4D4D4"> -o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/</span><span style="color: #569CD6">$@</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: init</span></span>
<span class="line"><span style="color: #DCDCAA">init</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	mkdir -p </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: clean</span></span>
<span class="line"><span style="color: #DCDCAA">clean</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	rm -rf </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: run</span></span>
<span class="line"><span style="color: #DCDCAA">run</span><span style="color: #D4D4D4">: hello</span></span>
<span class="line"><span style="color: #D4D4D4">	./</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello</span></span>
<span class="line"></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-chaining-targets-and-providing-a-default-target">Chaining targets and providing a default target</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Thus far, we have only looked at the creation of the Makefile, but we haven't really discussed how to use this now more complex (and generic) file. So let's do that now.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Say we want to start with a clean project. We would want to invoke the <code>clean</code> target first and then initialise the project (create the build folder) with the <code>init</code> target. Of course, we could do that in two steps, i.e.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"make clean\nmake init","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eclean\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003einit\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":2,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="make clean
make init" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">make</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">clean</span></span>
<span class="line"><span style="color: #DCDCAA">make</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">init</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>but Make can chain targets together and we can just provide them in the order we want them to be executed. If we want to clean, initialise, compile, and run our project, we can do that by simply typing</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"make clean init hello run","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eclean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003einit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ehello\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003erun\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="make clean init hello run" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">make</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">clean</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">init</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">hello</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">run</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>This will print the following to the console:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"rm -rf build/\nmkdir -p build\ng++ -c hello.cpp -o build/hello.o\ng++ build/hello.o  -o build/hello\n./build/hello\nHello cfd.university","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erm\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-rf\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emkdir\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-p\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eg++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-c\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ehello.cpp\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/hello.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eg++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/hello.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e./build/hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eHello\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ecfd.university\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":6,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="rm -rf build/
mkdir -p build
g++ -c hello.cpp -o build/hello.o
g++ build/hello.o  -o build/hello
./build/hello
Hello cfd.university" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">rm</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-rf</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/</span></span>
<span class="line"><span style="color: #DCDCAA">mkdir</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-p</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build</span></span>
<span class="line"><span style="color: #DCDCAA">g++</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-c</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">hello.cpp</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/hello.o</span></span>
<span class="line"><span style="color: #DCDCAA">g++</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/hello.o</span><span style="color: #D4D4D4">  </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/hello</span></span>
<span class="line"><span style="color: #DCDCAA">./build/hello</span></span>
<span class="line"><span style="color: #DCDCAA">Hello</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">cfd.university</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>On line 6, we see the output of our source file so things have worked. But now we need to remember the 4 targets and also the order, which may become cumbersome. Make provides us with a default target called <code>all</code>. If we simply type <code>make</code> into our console, it will then look for a target called <code>all</code> in our Makefile and execute that for us. We can use this to our advantage here to create a new target called <code>all</code> that will execute all of the other targets for us.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"all: clean init hello run ","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: clean init hello run \u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="all: clean init hello run " style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">all</span><span style="color: #D4D4D4">: clean init hello run </span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>For completeness, here is the full Makefile:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# specify the build directory\nBUILD_DIR = build\n\n# specify the default compiler\nCXX = g++\n\n# compiler flags\nCXXFLAGS = -c\n\n# linker flags\nLXXFLAGS =\n\n# source files\nSRC = $(wildcard *.cpp)\n# or, use the following if you have source files in subdirectories\n# SRC = $(shell find . -type f -regex \u0022.*\\.cpp\u0022)\n\n# object files\nOBJ = $(subst .cpp,.o,$(SRC))\n\n# default target\nall: clean init hello run \n\nhello: $(OBJ)\n\t$(CXX) $(BUILD_DIR)/hello.o $(LXXFLAGS) -o $(BUILD_DIR)/hello\n\n%.o: %.cpp\n\t$(CXX) $(CXXFLAGS) $\u0026lt; -o $(BUILD_DIR)/$@\n\n.PHONY: init\ninit:\n\tmkdir -p $(BUILD_DIR)\n\n.PHONY: clean\nclean:\n\trm -rf $(BUILD_DIR)/\n\n.PHONY: run\nrun: hello\n\t./$(BUILD_DIR)/hello\n","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# specify the build directory\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# specify the default compiler\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = g++\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# compiler flags\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = -c\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# linker flags\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e =\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# source files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ewildcard\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e*\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e.cpp)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# or, use the following if you have source files in subdirectories\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# SRC = $(shell find . -type f -regex \u0026quot;.*\\.cpp\u0026quot;)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# object files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eOBJ\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003esubst\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e .cpp,.o,$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# default target\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: clean init hello run \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ehello\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eOBJ\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello.o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e%\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e%\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -o \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$@\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: init\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003einit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tmkdir -p \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: clean\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eclean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\trm -rf \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: run\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erun\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t./\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eBUILD_DIR\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":41,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# specify the build directory
BUILD_DIR = build

# specify the default compiler
CXX = g++

# compiler flags
CXXFLAGS = -c

# linker flags
LXXFLAGS =

# source files
SRC = $(wildcard *.cpp)
# or, use the following if you have source files in subdirectories
# SRC = $(shell find . -type f -regex &quot;.*\.cpp&quot;)

# object files
OBJ = $(subst .cpp,.o,$(SRC))

# default target
all: clean init hello run 

hello: $(OBJ)
	$(CXX) $(BUILD_DIR)/hello.o $(LXXFLAGS) -o $(BUILD_DIR)/hello

%.o: %.cpp
	$(CXX) $(CXXFLAGS) $&lt; -o $(BUILD_DIR)/$@

.PHONY: init
init:
	mkdir -p $(BUILD_DIR)

.PHONY: clean
clean:
	rm -rf $(BUILD_DIR)/

.PHONY: run
run: hello
	./$(BUILD_DIR)/hello
" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># specify the build directory</span></span>
<span class="line"><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #D4D4D4"> = build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># specify the default compiler</span></span>
<span class="line"><span style="color: #9CDCFE">CXX</span><span style="color: #D4D4D4"> = g++</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># compiler flags</span></span>
<span class="line"><span style="color: #9CDCFE">CXXFLAGS</span><span style="color: #D4D4D4"> = -c</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># linker flags</span></span>
<span class="line"><span style="color: #9CDCFE">LXXFLAGS</span><span style="color: #D4D4D4"> =</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># source files</span></span>
<span class="line"><span style="color: #9CDCFE">SRC</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">$(</span><span style="color: #DCDCAA">wildcard</span><span style="color: #CE9178"> </span><span style="color: #9CDCFE">*</span><span style="color: #CE9178">.cpp)</span></span>
<span class="line"><span style="color: #6A9955"># or, use the following if you have source files in subdirectories</span></span>
<span class="line"><span style="color: #6A9955"># SRC = $(shell find . -type f -regex &quot;.*\.cpp&quot;)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># object files</span></span>
<span class="line"><span style="color: #9CDCFE">OBJ</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">$(</span><span style="color: #DCDCAA">subst</span><span style="color: #CE9178"> .cpp,.o,$(</span><span style="color: #9CDCFE">SRC</span><span style="color: #CE9178">))</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># default target</span></span>
<span class="line"><span style="color: #DCDCAA">all</span><span style="color: #D4D4D4">: clean init hello run </span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">hello</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">OBJ</span><span style="color: #CE9178">)</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello.o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">LXXFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> -o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello</span></span>
<span class="line"></span>
<span class="line"><span style="color: #9CDCFE">%</span><span style="color: #DCDCAA">.o</span><span style="color: #D4D4D4">: </span><span style="color: #9CDCFE">%</span><span style="color: #D4D4D4">.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXXFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">$&lt;</span><span style="color: #D4D4D4"> -o </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/</span><span style="color: #569CD6">$@</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: init</span></span>
<span class="line"><span style="color: #DCDCAA">init</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	mkdir -p </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: clean</span></span>
<span class="line"><span style="color: #DCDCAA">clean</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	rm -rf </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: run</span></span>
<span class="line"><span style="color: #DCDCAA">run</span><span style="color: #D4D4D4">: hello</span></span>
<span class="line"><span style="color: #D4D4D4">	./</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">BUILD_DIR</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">/hello</span></span>
<span class="line"></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Try it out (if you are on a UNIX distribution with a <code>bash</code> shell, for all other users, just hold your horses, we will get to you in a second). If you now type</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"make","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emake\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="make" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">make</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>you will get the same output as before, i.e.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"rm -rf build/\nmkdir -p build\ng++ -c hello.cpp -o build/hello.o\ng++ build/hello.o  -o build/hello\n./build/hello\nHello cfd.university","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erm\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-rf\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emkdir\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-p\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eg++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-c\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ehello.cpp\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/hello.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eg++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/hello.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e./build/hello\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eHello\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ecfd.university\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":6,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="rm -rf build/
mkdir -p build
g++ -c hello.cpp -o build/hello.o
g++ build/hello.o  -o build/hello
./build/hello
Hello cfd.university" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">rm</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-rf</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/</span></span>
<span class="line"><span style="color: #DCDCAA">mkdir</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-p</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build</span></span>
<span class="line"><span style="color: #DCDCAA">g++</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-c</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">hello.cpp</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/hello.o</span></span>
<span class="line"><span style="color: #DCDCAA">g++</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/hello.o</span><span style="color: #D4D4D4">  </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/hello</span></span>
<span class="line"><span style="color: #DCDCAA">./build/hello</span></span>
<span class="line"><span style="color: #DCDCAA">Hello</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">cfd.university</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>You may be stuck on the multiple-dependency situation in the <code>all</code> target, but keep in mind that we can have a one-to-many dependency relation for our target (as we saw for the hello target as well, though we didn't write out all object files (and in this case, there was just a single object file to begin with)). So in order to complete the <code>all</code> target, we simply have to go through the dependencies, and Make will look for how to fulfil these dependencies in order.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-what-other-magic-can-make-do-for-me">What other magic can Make do for me?</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>One nice feature we can use in Make is a parallel compilation of source files. If we invoke Make with the <code>-j N</code> command line argument, where <code>N</code> is the number of processors we want to use, then Make will use the specified number of processors and compile all source files in parallel. For completeness, our command could be (using 4 processors):</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"make -j 4\nmake all -j 4","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-j\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e4\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-j\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e4\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":2,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="make -j 4
make all -j 4" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">make</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-j</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">4</span></span>
<span class="line"><span style="color: #DCDCAA">make</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">all</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-j</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">4</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>If you try to do that, you'll most likely get an error message, as you need to have at least as many source files as you have processors. So for a small project, you probably don't need it. But once you add more and more files, or you compile open-source projects with thousands of files, compilation in parallel is a very convenient feature.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Another nice feature is that you can use pretty much any shell scripting that you want in your Makefile. For example, if you want to use a certain library, why not have that downloaded, extracted, and compiled as part of your project initialisation step? Here is a phony target called <code>build_dependencies</code> which will download <code>gtest</code> and compile it for us. This will require <code>wget</code>, <code>tar</code>, and <code>cmake</code> to be available on your machine:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":".PHONY: build_dependencies\nbuild_dependencies:\n\tmkdir -p thirdParty\n\twget -nc -P thirdParty/ https://github.com/google/googletest/archive/refs/tags/release-1.11.0.tar.gz -O thirdParty/gtest-1.11.0.tar.gz || true\n\ttar -zxvf thirdParty/gtest-1.11.0.tar.gz -C thirdParty\n\tmkdir -p thirdParty/googletest-release-1.11.0/build\n\tcmake -S thirdParty/googletest-release-1.11.0/ -B thirdParty/googletest-release-1.11.0/build -DCMAKE_BUILD_TYPE=Release\n\tcmake \u002d\u002dbuild thirdParty/googletest-release-1.11.0/build \u002d\u002dconfig Release","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: build_dependencies\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ebuild_dependencies\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tmkdir -p thirdParty\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\twget -nc -P thirdParty/ https://github.com/google/googletest/archive/refs/tags/release-1.11.0.tar.gz -O thirdParty/gtest-1.11.0.tar.gz || true\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\ttar -zxvf thirdParty/gtest-1.11.0.tar.gz -C thirdParty\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tmkdir -p thirdParty/googletest-release-1.11.0/build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tcmake -S thirdParty/googletest-release-1.11.0/ -B thirdParty/googletest-release-1.11.0/build -DCMAKE_BUILD_TYPE=Release\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tcmake \u002d\u002dbuild thirdParty/googletest-release-1.11.0/build \u002d\u002dconfig Release\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":8,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code=".PHONY: build_dependencies
build_dependencies:
	mkdir -p thirdParty
	wget -nc -P thirdParty/ https://github.com/google/googletest/archive/refs/tags/release-1.11.0.tar.gz -O thirdParty/gtest-1.11.0.tar.gz || true
	tar -zxvf thirdParty/gtest-1.11.0.tar.gz -C thirdParty
	mkdir -p thirdParty/googletest-release-1.11.0/build
	cmake -S thirdParty/googletest-release-1.11.0/ -B thirdParty/googletest-release-1.11.0/build -DCMAKE_BUILD_TYPE=Release
	cmake --build thirdParty/googletest-release-1.11.0/build --config Release" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: build_dependencies</span></span>
<span class="line"><span style="color: #DCDCAA">build_dependencies</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	mkdir -p thirdParty</span></span>
<span class="line"><span style="color: #D4D4D4">	wget -nc -P thirdParty/ https://github.com/google/googletest/archive/refs/tags/release-1.11.0.tar.gz -O thirdParty/gtest-1.11.0.tar.gz || true</span></span>
<span class="line"><span style="color: #D4D4D4">	tar -zxvf thirdParty/gtest-1.11.0.tar.gz -C thirdParty</span></span>
<span class="line"><span style="color: #D4D4D4">	mkdir -p thirdParty/googletest-release-1.11.0/build</span></span>
<span class="line"><span style="color: #D4D4D4">	cmake -S thirdParty/googletest-release-1.11.0/ -B thirdParty/googletest-release-1.11.0/build -DCMAKE_BUILD_TYPE=Release</span></span>
<span class="line"><span style="color: #D4D4D4">	cmake --build thirdParty/googletest-release-1.11.0/build --config Release</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>So no more manual building of dependencies, inject the instruction in here. Or, if you have downloaded the corresponding shell script for <a href="https://cfd.university/learn/the-complete-guide-to-software-testing-for-cfd-applications/how-to-get-started-with-gtest-in-c-for-cfd-development/" target="_blank" rel="noopener" title="">downloading and installing gtest</a>, then you could also simply execute that file as part of the <code>build_dependencies</code> target.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>You see, Makefiles are very versatile and you can inject a lot of custom-made scripts and code, which can help you to automate not jsut the compilation of your project, but think about other tasks like building the dependencies as seen above, copying files around that you need to executing tests, pushing and pulling changes to a remote git repository (like GitHub), running tests, or <a href="https://what.thedailywtf.com/topic/17997/now-that-s-what-i-call-hacker" target="_blank" rel="noopener" title="">simply brew a cup of coffee</a>.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-creating-a-makefile-for-a-dummy-project">Creating a Makefile for a realistic project: Revisiting the complex number example</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>When we looked at <a href="https://cfd.university/learn/the-complete-guide-to-software-testing-for-cfd-applications/the-test-driven-development-for-writing-bug-free-cfd-code/" target="_blank" rel="noopener" title="">how to write code using the test-driven development method</a> and, subsequently, <a href="https://cfd.university/learn/the-complete-guide-to-software-testing-for-cfd-applications/how-to-get-started-with-gtest-in-c-for-cfd-development/" target="_blank" rel="noopener" title="">how to get started with gtest</a> (Google's unit testing framework), we developed a simple example project to add, subtract, multiply and divide complex numbers. It serves as a good example as it is quick to code and easy to verify, yet it is doing something of use (this could be a building block for writing a tool to do the Fast Fourier Transformation (FFT), for example).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We will pick use this example codebase here as well, so that we can concentrate on writing the Makefile, while we don't have to develop the codebase from scratch again. Let's review some of the basics of the project, before we jump into writing the Makefile itself. This time, both for UNIX and Windows users.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If you want to follow along, you can download the code at the top of this article.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-project-structure">Project structure</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The project structure will now slightly change to what we saw in the above-linked articles, as we are going to add two Makefiles to the project.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"root\n src\n    complexNumber.hpp\n tests\n    unit\n        testComplexNumbers.cpp\n runTests.ps1\n runTests.sh\n Makefile.bash\n Makefile.win","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eroot\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e src\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    complexNumber.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e tests\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    unit\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e        testComplexNumbers.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e runTests.ps1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e runTests.sh\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e Makefile.bash\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e Makefile.win\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"plaintext","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":10,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="root
 src
    complexNumber.hpp
 tests
    unit
        testComplexNumbers.cpp
 runTests.ps1
 runTests.sh
 Makefile.bash
 Makefile.win" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">root</span></span>
<span class="line"><span style="color: #D4D4D4"> src</span></span>
<span class="line"><span style="color: #D4D4D4">    complexNumber.hpp</span></span>
<span class="line"><span style="color: #D4D4D4"> tests</span></span>
<span class="line"><span style="color: #D4D4D4">    unit</span></span>
<span class="line"><span style="color: #D4D4D4">        testComplexNumbers.cpp</span></span>
<span class="line"><span style="color: #D4D4D4"> runTests.ps1</span></span>
<span class="line"><span style="color: #D4D4D4"> runTests.sh</span></span>
<span class="line"><span style="color: #D4D4D4"> Makefile.bash</span></span>
<span class="line"><span style="color: #D4D4D4"> Makefile.win</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We have added the <code>Makefile.bash</code> and <code>Makefile.win</code> on lines 9 and 10, and will see how to populate them in the next sections. Suffice it to say that the src/complexNumber.hpp file contains the implementation of the complex number class that allows us to create and use our complex numbers, while the tests/unit/testComplexNumbers.cpp files implement some <a href="https://cfd.university/learn/the-complete-guide-to-software-testing-for-cfd-applications/how-to-get-started-with-software-testing-for-cfd-codes/#aioseo-unit-tests" target="_blank" rel="noopener" title="">unit tests</a> to check that we have implemented the complex number class correctly. Let's now switch to creating the Makefiles for both UNIX and Windows.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-a-quest-to-combine-both">Writing a Makefile for UNIX (ah, the joy ...)</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>First, let's review the build script that we have available, i.e. the <code>runTests.sh</code> file. This is given below:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"#!/bin/bash\n\n# clean up before building\nrm -rf build\nmkdir -p build\n\n# compile source files into object files\ng++ -std=c++20 -I. -I ~/libs/include/ -c -g ./tests/unit/testComplexNumbers.cpp -o ./build/testComplexNumbers.o\n\n# create test executable\ng++ -std=c++20 ./build/testComplexNumbers.o -o ./build/testComplexNumbers -L ~/libs/lib -lgtest\n\n# run tests\n./build/testComplexNumbers","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e#!/bin/bash\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# clean up before building\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erm\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-rf\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emkdir\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-p\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# compile source files into object files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eg++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-std=c++20\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-I.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-I\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e~/libs/include/\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-c\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-g\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e./tests/unit/testComplexNumbers.cpp\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e./build/testComplexNumbers.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# create test executable\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eg++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-std=c++20\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e./build/testComplexNumbers.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e./build/testComplexNumbers\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-L\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e~/libs/lib\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-lgtest\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# run tests\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e./build/testComplexNumbers\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":14,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="#!/bin/bash

# clean up before building
rm -rf build
mkdir -p build

# compile source files into object files
g++ -std=c++20 -I. -I ~/libs/include/ -c -g ./tests/unit/testComplexNumbers.cpp -o ./build/testComplexNumbers.o

# create test executable
g++ -std=c++20 ./build/testComplexNumbers.o -o ./build/testComplexNumbers -L ~/libs/lib -lgtest

# run tests
./build/testComplexNumbers" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># clean up before building</span></span>
<span class="line"><span style="color: #DCDCAA">rm</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-rf</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build</span></span>
<span class="line"><span style="color: #DCDCAA">mkdir</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-p</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># compile source files into object files</span></span>
<span class="line"><span style="color: #DCDCAA">g++</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-std=c++20</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-I.</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-I</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">~/libs/include/</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-c</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-g</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">./tests/unit/testComplexNumbers.cpp</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">./build/testComplexNumbers.o</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># create test executable</span></span>
<span class="line"><span style="color: #DCDCAA">g++</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-std=c++20</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">./build/testComplexNumbers.o</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">./build/testComplexNumbers</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-L</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">~/libs/lib</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-lgtest</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># run tests</span></span>
<span class="line"><span style="color: #DCDCAA">./build/testComplexNumbers</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We compile the unit test file on line 8 and then link that against the <code>gtest</code> library on line 11 to get our final executable (which we then execute on line 14). If you need more information, you can <a href="https://cfd.university/learn/the-complete-guide-to-software-testing-for-cfd-applications/how-to-get-started-with-gtest-in-c-for-cfd-development/#aioseo-unix" target="_blank" rel="noopener" title="">look at the original write-up on this bash script</a>. The corresponding Makefile is shown below. Hopefully, most of that will look familiar, but there are a few additional novelties here that we will discuss below.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"### name of application\nAPP_NAME = testComplexNumbers\n\n### Specifying the compiler\nCXX = g++\n\n### Specifying compiler flags\nCXXFLAGS = -c -std=c++20 -I. -I ~/libs/include/\n\n### Specifying linker flags\nLXXFLAGS = -L ~/libs/lib -lgtest\n\n### Specifying all source files\nSRC = tests/unit/testComplexNumbers.cpp\n\n### Create list of object files based on source files\nOBJ = $(subst .cpp,.o,$(SRC))\n\n# Create default target\nall: clean init debug run\n\n# Create release build\nrelease: CXXFLAGS += -Ofast -DNDEBUG\nrelease: init $(APP_NAME)\n\n# Create debug build\ndebug: CXXFLAGS += -g -O0 -Wall -Wextra -Wpedantic\ndebug: init $(APP_NAME)\n\n# Create test executable\n$(APP_NAME): $(OBJ)\n\t$(CXX) $^ $(LXXFLAGS) -o build/$@\n\n%.o: %.cpp\n\t$(CXX) $(CXXFLAGS) $\u0026lt; -o $@\n\n.PHONY: init\ninit:\n\tmkdir -p build\n\n.PHONY: clean\nclean:\n\trm -rf $(OBJ) build/$(APP_NAME)\n\n.PHONY: run\nrun:\n\t./build/$(APP_NAME)\n","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e### name of application\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eAPP_NAME\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = testComplexNumbers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e### Specifying the compiler\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = g++\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e### Specifying compiler flags\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = -c -std=c++20 -I. -I ~/libs/include/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e### Specifying linker flags\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = -L ~/libs/lib -lgtest\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e### Specifying all source files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = tests/unit/testComplexNumbers.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e### Create list of object files based on source files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eOBJ\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003esubst\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e .cpp,.o,$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Create default target\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: clean init debug run\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Create release build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erelease\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: CXXFLAGS += -Ofast -DNDEBUG\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erelease\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: init \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eAPP_NAME\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Create debug build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003edebug\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: CXXFLAGS += -g -O0 -Wall -Wextra -Wpedantic\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003edebug\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: init \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eAPP_NAME\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Create test executable\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eAPP_NAME\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eOBJ\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$^\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -o build/\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$@\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e%\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003e%\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -o \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$@\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: init\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003einit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tmkdir -p build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: clean\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eclean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\trm -rf \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eOBJ\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e build/\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eAPP_NAME\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: run\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erun\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t./build/\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eAPP_NAME\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":48,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="### name of application
APP_NAME = testComplexNumbers

### Specifying the compiler
CXX = g++

### Specifying compiler flags
CXXFLAGS = -c -std=c++20 -I. -I ~/libs/include/

### Specifying linker flags
LXXFLAGS = -L ~/libs/lib -lgtest

### Specifying all source files
SRC = tests/unit/testComplexNumbers.cpp

### Create list of object files based on source files
OBJ = $(subst .cpp,.o,$(SRC))

# Create default target
all: clean init debug run

# Create release build
release: CXXFLAGS += -Ofast -DNDEBUG
release: init $(APP_NAME)

# Create debug build
debug: CXXFLAGS += -g -O0 -Wall -Wextra -Wpedantic
debug: init $(APP_NAME)

# Create test executable
$(APP_NAME): $(OBJ)
	$(CXX) $^ $(LXXFLAGS) -o build/$@

%.o: %.cpp
	$(CXX) $(CXXFLAGS) $&lt; -o $@

.PHONY: init
init:
	mkdir -p build

.PHONY: clean
clean:
	rm -rf $(OBJ) build/$(APP_NAME)

.PHONY: run
run:
	./build/$(APP_NAME)
" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955">### name of application</span></span>
<span class="line"><span style="color: #9CDCFE">APP_NAME</span><span style="color: #D4D4D4"> = testComplexNumbers</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">### Specifying the compiler</span></span>
<span class="line"><span style="color: #9CDCFE">CXX</span><span style="color: #D4D4D4"> = g++</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">### Specifying compiler flags</span></span>
<span class="line"><span style="color: #9CDCFE">CXXFLAGS</span><span style="color: #D4D4D4"> = -c -std=c++20 -I. -I ~/libs/include/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">### Specifying linker flags</span></span>
<span class="line"><span style="color: #9CDCFE">LXXFLAGS</span><span style="color: #D4D4D4"> = -L ~/libs/lib -lgtest</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">### Specifying all source files</span></span>
<span class="line"><span style="color: #9CDCFE">SRC</span><span style="color: #D4D4D4"> = tests/unit/testComplexNumbers.cpp</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">### Create list of object files based on source files</span></span>
<span class="line"><span style="color: #9CDCFE">OBJ</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">$(</span><span style="color: #DCDCAA">subst</span><span style="color: #CE9178"> .cpp,.o,$(</span><span style="color: #9CDCFE">SRC</span><span style="color: #CE9178">))</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Create default target</span></span>
<span class="line"><span style="color: #DCDCAA">all</span><span style="color: #D4D4D4">: clean init debug run</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Create release build</span></span>
<span class="line"><span style="color: #DCDCAA">release</span><span style="color: #D4D4D4">: CXXFLAGS += -Ofast -DNDEBUG</span></span>
<span class="line"><span style="color: #DCDCAA">release</span><span style="color: #D4D4D4">: init </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">APP_NAME</span><span style="color: #CE9178">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Create debug build</span></span>
<span class="line"><span style="color: #DCDCAA">debug</span><span style="color: #D4D4D4">: CXXFLAGS += -g -O0 -Wall -Wextra -Wpedantic</span></span>
<span class="line"><span style="color: #DCDCAA">debug</span><span style="color: #D4D4D4">: init </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">APP_NAME</span><span style="color: #CE9178">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Create test executable</span></span>
<span class="line"><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">APP_NAME</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">OBJ</span><span style="color: #CE9178">)</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">$^</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">LXXFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> -o build/</span><span style="color: #569CD6">$@</span></span>
<span class="line"></span>
<span class="line"><span style="color: #9CDCFE">%</span><span style="color: #DCDCAA">.o</span><span style="color: #D4D4D4">: </span><span style="color: #9CDCFE">%</span><span style="color: #D4D4D4">.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXXFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">$&lt;</span><span style="color: #D4D4D4"> -o </span><span style="color: #569CD6">$@</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: init</span></span>
<span class="line"><span style="color: #DCDCAA">init</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	mkdir -p build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: clean</span></span>
<span class="line"><span style="color: #DCDCAA">clean</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	rm -rf </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">OBJ</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> build/</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">APP_NAME</span><span style="color: #CE9178">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: run</span></span>
<span class="line"><span style="color: #DCDCAA">run</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	./build/</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">APP_NAME</span><span style="color: #CE9178">)</span></span>
<span class="line"></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>First, we specify a variable for the application name. This is fairly standard and while we probably don't plan usually on changing this, it is a good practice as we can see immediately what the executable is called (i.e. it serves as documentation here). Also, notice that we are good software engineers now and specify our source files explicitly (no more file globbing).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Lines 22-28 introduce two additional targets, the <code>debug</code> and <code>release</code> target. We typically want to perform the build in debug mode for testing (i.e. during development) but then switch to a release build for when we actually want to use the code in production (e.g. run CFD simulations). The biggest difference here is that the compiler flags will change. In debug mode, we want to turn on warnings and avoid optimisation, while in release mode, we want the compiler to optimise our executable for speed.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We do this on lines 23 and 27, respectively, where we are adding additional compiler flags to the existing <code>CXXFLAGS</code> variable, which was defined on line 8 (and which only contains some global compiler flags, such as the C++ standard and default file locations to include).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We do provide the default <code>all</code> target as well, which will build and run an executable in debug mode. Technically, we don't need to delete the build folder here and then recreate it, but I just shows again that we can chain targets together.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If you want to run this Makefile now, we have to include an additional flag to Make as it is expecting a file called Makefile. In our case, we gave it a file ending of <code>.bash</code>, so Make won't be able to find this file for us. We do that by specifying the file with the <code>-f</code> flag, and so we could build the executable in debug mode using the <code>all</code> target as</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"make -f Makefile.bash\nmake -f Makefile.bash all\nmake -f Makefile.bash init debug","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-f\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eMakefile.bash\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-f\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eMakefile.bash\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eall\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-f\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eMakefile.bash\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003einit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003edebug\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":3,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="make -f Makefile.bash
make -f Makefile.bash all
make -f Makefile.bash init debug" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">make</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-f</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Makefile.bash</span></span>
<span class="line"><span style="color: #DCDCAA">make</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-f</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Makefile.bash</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">all</span></span>
<span class="line"><span style="color: #DCDCAA">make</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-f</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Makefile.bash</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">init</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">debug</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>All of these targets will build the debug executable, and the first two commands will also run the executable. If we do that, we should see the following output:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"rm -rf tests/unit/testComplexNumbers.o build/testComplexNumbers\nmkdir -p build\ng++ -c -std=c++20 -I. -I ~/libs/include/ -g -O0 -Wall -Wextra -Wpedantic tests/unit/testComplexNumbers.cpp -o tests/unit/testComplexNumbers.o\ng++ tests/unit/testComplexNumbers.o -L ~/libs/lib -lgtest -o build/testComplexNumbers\n./build/testComplexNumbers\n[==========] Running 8 tests from 1 test suite.\n[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] Global test environment set-up.\n[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] 8 tests from ComplexNumberTest\n[ RUN      ] ComplexNumberTest.TestComplexMagnitude\n[       OK ] ComplexNumberTest.TestComplexMagnitude (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexConjugate\n[       OK ] ComplexNumberTest.TestComplexConjugate (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexNumberWithNaN\n[       OK ] ComplexNumberTest.TestComplexNumberWithNaN (1 ms)\n[ RUN      ] ComplexNumberTest.TestComplexAddition\n[       OK ] ComplexNumberTest.TestComplexAddition (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexSubtraction\n[       OK ] ComplexNumberTest.TestComplexSubtraction (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexMultiplication\n[       OK ] ComplexNumberTest.TestComplexMultiplication (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexDivision\n[       OK ] ComplexNumberTest.TestComplexDivision (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexDivisionWithNaN\n[       OK ] ComplexNumberTest.TestComplexDivisionWithNaN (0 ms)\n[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] 8 tests from ComplexNumberTest (1 ms total)\n\n[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] Global test environment tear-down\n[==========] 8 tests from 1 test suite ran. (1 ms total)\n[  PASSED  ] 8 tests.","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erm\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-rf\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etests/unit/testComplexNumbers.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/testComplexNumbers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emkdir\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-p\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eg++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-c\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-std=c++20\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-I.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-I\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e~/libs/include/\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-g\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-O0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-Wall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-Wextra\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-Wpedantic\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etests/unit/testComplexNumbers.cpp\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etests/unit/testComplexNumbers.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eg++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etests/unit/testComplexNumbers.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-L\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e~/libs/lib\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-lgtest\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/testComplexNumbers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e./build/testComplexNumbers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[==========] Running 8 tests from 1 test suite.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] Global test environment set-up.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] 8 tests from ComplexNumberTest\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexMagnitude\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexMagnitude (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexConjugate\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexConjugate (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexNumberWithNaN\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexNumberWithNaN (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexAddition\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexAddition (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexSubtraction\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexSubtraction (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexMultiplication\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexMultiplication (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexDivision\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexDivision (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexDivisionWithNaN\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexDivisionWithNaN (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] 8 tests from ComplexNumberTest (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etotal\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] Global test environment tear-down\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[==========] 8 tests from 1 test suite ran. (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etotal\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[  PASSED  ] 8 tests.\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":29,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="rm -rf tests/unit/testComplexNumbers.o build/testComplexNumbers
mkdir -p build
g++ -c -std=c++20 -I. -I ~/libs/include/ -g -O0 -Wall -Wextra -Wpedantic tests/unit/testComplexNumbers.cpp -o tests/unit/testComplexNumbers.o
g++ tests/unit/testComplexNumbers.o -L ~/libs/lib -lgtest -o build/testComplexNumbers
./build/testComplexNumbers
[==========] Running 8 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 8 tests from ComplexNumberTest
[ RUN      ] ComplexNumberTest.TestComplexMagnitude
[       OK ] ComplexNumberTest.TestComplexMagnitude (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexConjugate
[       OK ] ComplexNumberTest.TestComplexConjugate (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexNumberWithNaN
[       OK ] ComplexNumberTest.TestComplexNumberWithNaN (1 ms)
[ RUN      ] ComplexNumberTest.TestComplexAddition
[       OK ] ComplexNumberTest.TestComplexAddition (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexSubtraction
[       OK ] ComplexNumberTest.TestComplexSubtraction (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexMultiplication
[       OK ] ComplexNumberTest.TestComplexMultiplication (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexDivision
[       OK ] ComplexNumberTest.TestComplexDivision (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexDivisionWithNaN
[       OK ] ComplexNumberTest.TestComplexDivisionWithNaN (0 ms)
[----------] 8 tests from ComplexNumberTest (1 ms total)

[----------] Global test environment tear-down
[==========] 8 tests from 1 test suite ran. (1 ms total)
[  PASSED  ] 8 tests." style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">rm</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-rf</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tests/unit/testComplexNumbers.o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/testComplexNumbers</span></span>
<span class="line"><span style="color: #DCDCAA">mkdir</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-p</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build</span></span>
<span class="line"><span style="color: #DCDCAA">g++</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-c</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-std=c++20</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-I.</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-I</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">~/libs/include/</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-g</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-O0</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-Wall</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-Wextra</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-Wpedantic</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tests/unit/testComplexNumbers.cpp</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tests/unit/testComplexNumbers.o</span></span>
<span class="line"><span style="color: #DCDCAA">g++</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tests/unit/testComplexNumbers.o</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-L</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">~/libs/lib</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-lgtest</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/testComplexNumbers</span></span>
<span class="line"><span style="color: #DCDCAA">./build/testComplexNumbers</span></span>
<span class="line"><span style="color: #D4D4D4">[==========] Running 8 tests from 1 test suite.</span></span>
<span class="line"><span style="color: #D4D4D4">[----------] Global test environment set-up.</span></span>
<span class="line"><span style="color: #D4D4D4">[----------] 8 tests from ComplexNumberTest</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexMagnitude</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexMagnitude (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexConjugate</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexConjugate (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexNumberWithNaN</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexNumberWithNaN (</span><span style="color: #DCDCAA">1</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexAddition</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexAddition (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexSubtraction</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexSubtraction (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexMultiplication</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexMultiplication (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexDivision</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexDivision (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexDivisionWithNaN</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexDivisionWithNaN (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[----------] 8 tests from ComplexNumberTest (</span><span style="color: #DCDCAA">1</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">total</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">[----------] Global test environment tear-down</span></span>
<span class="line"><span style="color: #D4D4D4">[==========] 8 tests from 1 test suite ran. (</span><span style="color: #DCDCAA">1</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">total</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[  PASSED  ] 8 tests.</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>If you want to have some fun (I may have a strange definition of fun), try to create a release build and run it, i.e.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"make -f Makefile.bash clean init release all","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-f\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eMakefile.bash\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eclean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003einit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003erelease\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eall\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="make -f Makefile.bash clean init release all" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">make</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-f</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Makefile.bash</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">clean</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">init</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">release</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">all</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>On my machine, I am getting an error (which is expected). i.e. not all tests finish successfully:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"rm -rf tests/unit/testComplexNumbers.o build/testComplexNumbers\nmkdir -p build\ng++ -c -std=c++20 -I. -I ~/libs/include/ -Ofast -DNDEBUG tests/unit/testComplexNumbers.cpp -o tests/unit/testComplexNumbers.o\ng++ tests/unit/testComplexNumbers.o -L ~/libs/lib -lgtest -o build/testComplexNumbers\n./build/testComplexNumbers\n[==========] Running 8 tests from 1 test suite.\n[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] Global test environment set-up.\n[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] 8 tests from ComplexNumberTest\n[ RUN      ] ComplexNumberTest.TestComplexMagnitude\n[       OK ] ComplexNumberTest.TestComplexMagnitude (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexConjugate\n[       OK ] ComplexNumberTest.TestComplexConjugate (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexNumberWithNaN\ntests/unit/testComplexNumbers.cpp:38: Failure\nExpected: ComplexNumber a(1.2, std::numeric_limits\u0026lt;double\u003e::quiet_NaN()) throws an exception of type std::runtime_error.\n  Actual: it throws nothing.\n\n[  FAILED  ] ComplexNumberTest.TestComplexNumberWithNaN (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexAddition\n[       OK ] ComplexNumberTest.TestComplexAddition (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexSubtraction\n[       OK ] ComplexNumberTest.TestComplexSubtraction (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexMultiplication\n[       OK ] ComplexNumberTest.TestComplexMultiplication (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexDivision\n[       OK ] ComplexNumberTest.TestComplexDivision (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexDivisionWithNaN\n[       OK ] ComplexNumberTest.TestComplexDivisionWithNaN (1 ms)\n[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] 8 tests from ComplexNumberTest (1 ms total)\n\n[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] Global test environment tear-down\n[==========] 8 tests from 1 test suite ran. (1 ms total)\n[  PASSED  ] 7 tests.\n[  FAILED  ] 1 test, listed below:\n[  FAILED  ] ComplexNumberTest.TestComplexNumberWithNaN\n\n 1 FAILED TEST\nmake: *** [Makefile.bash:47: run] Error 1","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erm\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-rf\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etests/unit/testComplexNumbers.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/testComplexNumbers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emkdir\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-p\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eg++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-c\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-std=c++20\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-I.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-I\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e~/libs/include/\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-Ofast\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-DNDEBUG\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etests/unit/testComplexNumbers.cpp\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etests/unit/testComplexNumbers.o\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eg++\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etests/unit/testComplexNumbers.o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-L\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e~/libs/lib\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-lgtest\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-o\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild/testComplexNumbers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e./build/testComplexNumbers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[==========] Running 8 tests from 1 test suite.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] Global test environment set-up.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] 8 tests from ComplexNumberTest\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexMagnitude\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexMagnitude (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexConjugate\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexConjugate (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexNumberWithNaN\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003etests/unit/testComplexNumbers.cpp:38:\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eFailure\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eExpected:\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eComplexNumber\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ea\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e1.2,\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003estd::numeric_limits\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003edoubl\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ee\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e::quiet_NaN\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e()) \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ethrows\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eexception\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eof\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etype\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003estd::runtime_error.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eActual:\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ethrows\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003enothing.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[  FAILED  ] ComplexNumberTest.TestComplexNumberWithNaN (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexAddition\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexAddition (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexSubtraction\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexSubtraction (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexMultiplication\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexMultiplication (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexDivision\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexDivision (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexDivisionWithNaN\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexDivisionWithNaN (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] 8 tests from ComplexNumberTest (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etotal\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] Global test environment tear-down\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[==========] 8 tests from 1 test suite ran. (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etotal\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[  PASSED  ] 7 tests.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[  FAILED  ] 1 test, listed below:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[  FAILED  ] ComplexNumberTest.TestComplexNumberWithNaN\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eFAILED\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eTEST\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emake:\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e***\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e [Makefile.bash:47: \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003erun]\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eError\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":38,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="rm -rf tests/unit/testComplexNumbers.o build/testComplexNumbers
mkdir -p build
g++ -c -std=c++20 -I. -I ~/libs/include/ -Ofast -DNDEBUG tests/unit/testComplexNumbers.cpp -o tests/unit/testComplexNumbers.o
g++ tests/unit/testComplexNumbers.o -L ~/libs/lib -lgtest -o build/testComplexNumbers
./build/testComplexNumbers
[==========] Running 8 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 8 tests from ComplexNumberTest
[ RUN      ] ComplexNumberTest.TestComplexMagnitude
[       OK ] ComplexNumberTest.TestComplexMagnitude (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexConjugate
[       OK ] ComplexNumberTest.TestComplexConjugate (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexNumberWithNaN
tests/unit/testComplexNumbers.cpp:38: Failure
Expected: ComplexNumber a(1.2, std::numeric_limits&lt;double&gt;::quiet_NaN()) throws an exception of type std::runtime_error.
  Actual: it throws nothing.

[  FAILED  ] ComplexNumberTest.TestComplexNumberWithNaN (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexAddition
[       OK ] ComplexNumberTest.TestComplexAddition (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexSubtraction
[       OK ] ComplexNumberTest.TestComplexSubtraction (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexMultiplication
[       OK ] ComplexNumberTest.TestComplexMultiplication (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexDivision
[       OK ] ComplexNumberTest.TestComplexDivision (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexDivisionWithNaN
[       OK ] ComplexNumberTest.TestComplexDivisionWithNaN (1 ms)
[----------] 8 tests from ComplexNumberTest (1 ms total)

[----------] Global test environment tear-down
[==========] 8 tests from 1 test suite ran. (1 ms total)
[  PASSED  ] 7 tests.
[  FAILED  ] 1 test, listed below:
[  FAILED  ] ComplexNumberTest.TestComplexNumberWithNaN

 1 FAILED TEST
make: *** [Makefile.bash:47: run] Error 1" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">rm</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-rf</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tests/unit/testComplexNumbers.o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/testComplexNumbers</span></span>
<span class="line"><span style="color: #DCDCAA">mkdir</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-p</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build</span></span>
<span class="line"><span style="color: #DCDCAA">g++</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-c</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-std=c++20</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-I.</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-I</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">~/libs/include/</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-Ofast</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-DNDEBUG</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tests/unit/testComplexNumbers.cpp</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tests/unit/testComplexNumbers.o</span></span>
<span class="line"><span style="color: #DCDCAA">g++</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tests/unit/testComplexNumbers.o</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-L</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">~/libs/lib</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-lgtest</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-o</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build/testComplexNumbers</span></span>
<span class="line"><span style="color: #DCDCAA">./build/testComplexNumbers</span></span>
<span class="line"><span style="color: #D4D4D4">[==========] Running 8 tests from 1 test suite.</span></span>
<span class="line"><span style="color: #D4D4D4">[----------] Global test environment set-up.</span></span>
<span class="line"><span style="color: #D4D4D4">[----------] 8 tests from ComplexNumberTest</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexMagnitude</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexMagnitude (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexConjugate</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexConjugate (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexNumberWithNaN</span></span>
<span class="line"><span style="color: #DCDCAA">tests/unit/testComplexNumbers.cpp:38:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Failure</span></span>
<span class="line"><span style="color: #DCDCAA">Expected:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ComplexNumber</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">a</span><span style="color: #D4D4D4">(</span><span style="color: #DCDCAA">1.2,</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">std::numeric_limits</span><span style="color: #D4D4D4">&lt;</span><span style="color: #CE9178">doubl</span><span style="color: #D4D4D4">e&gt;</span><span style="color: #CE9178">::quiet_NaN</span><span style="color: #D4D4D4">()) </span><span style="color: #CE9178">throws</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">an</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">exception</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">of</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">type</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">std::runtime_error.</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">Actual:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">it</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">throws</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">nothing.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">[  FAILED  ] ComplexNumberTest.TestComplexNumberWithNaN (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexAddition</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexAddition (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexSubtraction</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexSubtraction (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexMultiplication</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexMultiplication (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexDivision</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexDivision (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexDivisionWithNaN</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexDivisionWithNaN (</span><span style="color: #DCDCAA">1</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[----------] 8 tests from ComplexNumberTest (</span><span style="color: #DCDCAA">1</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">total</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">[----------] Global test environment tear-down</span></span>
<span class="line"><span style="color: #D4D4D4">[==========] 8 tests from 1 test suite ran. (</span><span style="color: #DCDCAA">1</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">total</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[  PASSED  ] 7 tests.</span></span>
<span class="line"><span style="color: #D4D4D4">[  FAILED  ] 1 test, listed below:</span></span>
<span class="line"><span style="color: #D4D4D4">[  FAILED  ] ComplexNumberTest.TestComplexNumberWithNaN</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">1</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">FAILED</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">TEST</span></span>
<span class="line"><span style="color: #DCDCAA">make:</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">***</span><span style="color: #D4D4D4"> [Makefile.bash:47: </span><span style="color: #CE9178">run]</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Error</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">1</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Can you guess why? In release mode (turning on optimisation), the compiler is allowed to remove or ignore code, which can then lead to undefined behaviours. In this case, the exception is not thrown as expected, but that isn't really an issue, as the exception would only be thrown if an issue was encountered, at which point, the code has left the <a href="https://en.wikipedia.org/wiki/Happy_path" target="_blank" rel="noopener" title="">happy path</a> of code execution and will likely terminate anyway.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-writing-a-makefile-for-freaking-windows-oh-no">Writing a Makefile for freaking Windows (oh no ...)</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>My quest for showing how to do things cross-platform has not always provided me with a joyful experience. And so when I tried to port my Makefile onto Windows, I wasn't let down by Microsoft. Would you believe it, you can use Make on Windows, but the Make that we looked above, which is developed by GNU and free and open-source is not good enough for Windows. You can't just give users free and open-source software but make it ever so slightly different while still being able to call it Make.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Well, at least here, Microsoft is being honest, and they call their version NMake, which stands for New Make. Back in the 1980s, Microsoft wrote their own version of Make, but without much care. As a result, the more complicated the build task got, the more luck was involved in getting the build to complete successfully. Believe it or not, even people at Microsoft got so upset that the decision was taken to reimplement Make from the ground up, without looking at the source code but rather only at the specifications. The result was NMake.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>To be fair, Microsoft is not the only entity that is butchering a perfectly fine tool (i.e. Make); many others have joined them to create their own version, inspired by Make (or using it to some extent and simply providing a wrapper around it). There is Sun DevPro Make, BSD Make, dmake, gmake, pmake, bmake, fmake, qmake, wmake (OpenFOAM), Remake, Glenn Fowler's nmake (not the same nmake as Microsoft), Jom (a derivative on nmake), snakemake, Mk, and Kati (a version from Google which translates directly to ninja).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Looking at this list, this situation is reminiscent of the <a href="https://cfd.university/learn/keep-your-users-happy-how-to-document-code-the-right-way/how-to-write-a-1-page-readme-file-to-document-your-code#aioseo-markdown-the-tool-of-choice-for-documentation" target="_blank" rel="noopener" title="">different Markdown flavours</a> that are out there, which constantly causes frustration when things are not rendered as they are supposed to, even when using the same flavour of Markdown. Anyway, I digress.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Let's then have a look at Microsoft's attempt at software engineering. True to their slogan "<em>Think different</em>" (or was it Apple?), everything needs to be reimplemented from scratch. In the original complex number example, the following served as our PowerShell build script:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# clean up before building\nRemove-Item .\\build -Force -Recurse\nNew-Item -Name \u0022build\u0022 -ItemType \u0022directory\u0022\n\n# compile source files into object files\ncl.exe /nologo /EHsc /std:c++20 /Zi /I. /I\u0022C:\\libraries\\include\\\u0022 /c .\\tests\\unit\\testComplexNumbers.cpp /Fo\u0022.\\build\\testComplexNumbers.obj\u0022\n\n# create test executable\ncl.exe /nologo /EHsc /std:c++20 /Zi .\\build\\testComplexNumbers.obj /Fe\u0022.\\build\\testComplexNumbers.exe\u0022 /link /MACHINE:x64 /LIBPATH:\u0022C:\\libraries\\lib\u0022 gtest.lib\n\n# run tests\n.\\build\\testComplexNumbers.exe","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# clean up before building\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eRemove-Item\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e .\\build -Force -Recurse\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eNew-Item\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -Name \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;build\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -ItemType \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;directory\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# compile source files into object files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecl.exe\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e /nologo /EHsc /std:c+\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e+20\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e /Zi /I. /I\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;C:\\libraries\\include\\\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e /c .\\tests\\unit\\testComplexNumbers.cpp /Fo\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;.\\build\\testComplexNumbers.obj\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# create test executable\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecl.exe\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e /nologo /EHsc /std:c+\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e+20\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e /Zi .\\build\\testComplexNumbers.obj /Fe\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;.\\build\\testComplexNumbers.exe\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e /link /MACHINE:x64 /LIBPATH:\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;C:\\libraries\\lib\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e gtest.lib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# run tests\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\\build\\\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003etestComplexNumbers.exe\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"powershell","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":12,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# clean up before building
Remove-Item .\build -Force -Recurse
New-Item -Name &quot;build&quot; -ItemType &quot;directory&quot;

# compile source files into object files
cl.exe /nologo /EHsc /std:c++20 /Zi /I. /I&quot;C:\libraries\include\&quot; /c .\tests\unit\testComplexNumbers.cpp /Fo&quot;.\build\testComplexNumbers.obj&quot;

# create test executable
cl.exe /nologo /EHsc /std:c++20 /Zi .\build\testComplexNumbers.obj /Fe&quot;.\build\testComplexNumbers.exe&quot; /link /MACHINE:x64 /LIBPATH:&quot;C:\libraries\lib&quot; gtest.lib

# run tests
.\build\testComplexNumbers.exe" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># clean up before building</span></span>
<span class="line"><span style="color: #DCDCAA">Remove-Item</span><span style="color: #D4D4D4"> .\build -Force -Recurse</span></span>
<span class="line"><span style="color: #DCDCAA">New-Item</span><span style="color: #D4D4D4"> -Name </span><span style="color: #CE9178">&quot;build&quot;</span><span style="color: #D4D4D4"> -ItemType </span><span style="color: #CE9178">&quot;directory&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># compile source files into object files</span></span>
<span class="line"><span style="color: #DCDCAA">cl.exe</span><span style="color: #D4D4D4"> /nologo /EHsc /std:c+</span><span style="color: #B5CEA8">+20</span><span style="color: #D4D4D4"> /Zi /I. /I</span><span style="color: #CE9178">&quot;C:\libraries\include\&quot;</span><span style="color: #D4D4D4"> /c .\tests\unit\testComplexNumbers.cpp /Fo</span><span style="color: #CE9178">&quot;.\build\testComplexNumbers.obj&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># create test executable</span></span>
<span class="line"><span style="color: #DCDCAA">cl.exe</span><span style="color: #D4D4D4"> /nologo /EHsc /std:c+</span><span style="color: #B5CEA8">+20</span><span style="color: #D4D4D4"> /Zi .\build\testComplexNumbers.obj /Fe</span><span style="color: #CE9178">&quot;.\build\testComplexNumbers.exe&quot;</span><span style="color: #D4D4D4"> /link /MACHINE:x64 /LIBPATH:</span><span style="color: #CE9178">&quot;C:\libraries\lib&quot;</span><span style="color: #D4D4D4"> gtest.lib</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># run tests</span></span>
<span class="line"><span style="color: #D4D4D4">.\build\</span><span style="color: #DCDCAA">testComplexNumbers.exe</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We want to transform this into an NMake file. Let's look at the entire beauty first and then discuss it below. Do you remember playing the game Spot the Differences as a child? You had two seemingly identical images and had to find the 5 differences between them. If you are up for it, see if you can find the differences between the UNIX Makefile provided above and the version given below. I'll walk you through the solution afterwards.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"### name of application\nAPP_NAME = testComplexNumbers\n\n### Specifying the compiler\nCXX = cl \n\n### Specifying compiler flags\nCXXFLAGS = /c /nologo /EHsc /std:c++20 /I. /I C:\\\\libraries\\\\include\n\n### Specifying linker flags\nLXXFLAGS = /link /MACHINE:x64 /LIBPATH:\u0022C:\\libraries\\lib\u0022 gtest.lib\n\n### Specifying all source files\nSRC = tests\\\\unit\\\\testComplexNumbers.cpp\n\n### Create list of object files based on source files\nOBJ = $(subst .cpp,.obj,$(SRC))\n\n# Create default target\nall: clean init debug run\n\n# Create release build\nrelease: init $(APP_NAME)\n\n# Create debug build\ndebug: init $(APP_NAME)\n\n$(APP_NAME): $(OBJ)\n\t$(CXX) /nologo $? /Fe:build/$(APP_NAME).exe $(LXXFLAGS)\n\n{tests\\\\unit\\\\}.cpp{tests\\\\unit\\\\}.obj:\n\t$(CXX) $(CXXFLAGS) $? /Fo:$@\n\n.PHONY: init\ninit:\n\t@if not exist build mkdir build\n\n.PHONY: clean\nclean:\n\tdel /q $(OBJ) build\\\\$(APP_NAME).exe\n\n.PHONY: run\nrun:\n\t.\\\\build\\\\$(APP_NAME).exe\n","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e### name of application\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eAPP_NAME\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = testComplexNumbers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e### Specifying the compiler\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = cl \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e### Specifying compiler flags\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = /c /nologo /EHsc /std:c++20 /I. /I C:\\\\libraries\\\\include\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e### Specifying linker flags\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = /link /MACHINE:x64 /LIBPATH:\u0026quot;C:\\libraries\\lib\u0026quot; gtest.lib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e### Specifying all source files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = tests\\\\unit\\\\testComplexNumbers.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e### Create list of object files based on source files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eOBJ\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003esubst\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e .cpp,.obj,$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eSRC\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Create default target\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: clean init debug run\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Create release build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erelease\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: init \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eAPP_NAME\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Create debug build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003edebug\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: init \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eAPP_NAME\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eAPP_NAME\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eOBJ\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e /nologo \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$?\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e /Fe:build/\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eAPP_NAME\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.exe \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eLXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e{tests\\\\unit\\\\}.cpp{tests\\\\unit\\\\}.obj\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXX\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCXXFLAGS\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$?\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e /Fo:\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e$@\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: init\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003einit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t\u003c/span\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003e@\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eif not exist build mkdir build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: clean\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eclean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\tdel /q \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eOBJ\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e build\\\\\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eAPP_NAME\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.exe\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.PHONY\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e: run\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003erun\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\t.\\\\build\\\\\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e$(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eAPP_NAME\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.exe\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"make","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":45,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="### name of application
APP_NAME = testComplexNumbers

### Specifying the compiler
CXX = cl 

### Specifying compiler flags
CXXFLAGS = /c /nologo /EHsc /std:c++20 /I. /I C:\\libraries\\include

### Specifying linker flags
LXXFLAGS = /link /MACHINE:x64 /LIBPATH:&quot;C:\libraries\lib&quot; gtest.lib

### Specifying all source files
SRC = tests\\unit\\testComplexNumbers.cpp

### Create list of object files based on source files
OBJ = $(subst .cpp,.obj,$(SRC))

# Create default target
all: clean init debug run

# Create release build
release: init $(APP_NAME)

# Create debug build
debug: init $(APP_NAME)

$(APP_NAME): $(OBJ)
	$(CXX) /nologo $? /Fe:build/$(APP_NAME).exe $(LXXFLAGS)

{tests\\unit\\}.cpp{tests\\unit\\}.obj:
	$(CXX) $(CXXFLAGS) $? /Fo:$@

.PHONY: init
init:
	@if not exist build mkdir build

.PHONY: clean
clean:
	del /q $(OBJ) build\\$(APP_NAME).exe

.PHONY: run
run:
	.\\build\\$(APP_NAME).exe
" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955">### name of application</span></span>
<span class="line"><span style="color: #9CDCFE">APP_NAME</span><span style="color: #D4D4D4"> = testComplexNumbers</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">### Specifying the compiler</span></span>
<span class="line"><span style="color: #9CDCFE">CXX</span><span style="color: #D4D4D4"> = cl </span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">### Specifying compiler flags</span></span>
<span class="line"><span style="color: #9CDCFE">CXXFLAGS</span><span style="color: #D4D4D4"> = /c /nologo /EHsc /std:c++20 /I. /I C:\\libraries\\include</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">### Specifying linker flags</span></span>
<span class="line"><span style="color: #9CDCFE">LXXFLAGS</span><span style="color: #D4D4D4"> = /link /MACHINE:x64 /LIBPATH:&quot;C:\libraries\lib&quot; gtest.lib</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">### Specifying all source files</span></span>
<span class="line"><span style="color: #9CDCFE">SRC</span><span style="color: #D4D4D4"> = tests\\unit\\testComplexNumbers.cpp</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">### Create list of object files based on source files</span></span>
<span class="line"><span style="color: #9CDCFE">OBJ</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">$(</span><span style="color: #DCDCAA">subst</span><span style="color: #CE9178"> .cpp,.obj,$(</span><span style="color: #9CDCFE">SRC</span><span style="color: #CE9178">))</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Create default target</span></span>
<span class="line"><span style="color: #DCDCAA">all</span><span style="color: #D4D4D4">: clean init debug run</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Create release build</span></span>
<span class="line"><span style="color: #DCDCAA">release</span><span style="color: #D4D4D4">: init </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">APP_NAME</span><span style="color: #CE9178">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Create debug build</span></span>
<span class="line"><span style="color: #DCDCAA">debug</span><span style="color: #D4D4D4">: init </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">APP_NAME</span><span style="color: #CE9178">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">APP_NAME</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">OBJ</span><span style="color: #CE9178">)</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> /nologo </span><span style="color: #569CD6">$?</span><span style="color: #D4D4D4"> /Fe:build/</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">APP_NAME</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">.exe </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">LXXFLAGS</span><span style="color: #CE9178">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">{tests\\unit\\}.cpp{tests\\unit\\}.obj</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXX</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">CXXFLAGS</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">$?</span><span style="color: #D4D4D4"> /Fo:</span><span style="color: #569CD6">$@</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: init</span></span>
<span class="line"><span style="color: #DCDCAA">init</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #C586C0">@</span><span style="color: #D4D4D4">if not exist build mkdir build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: clean</span></span>
<span class="line"><span style="color: #DCDCAA">clean</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	del /q </span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">OBJ</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4"> build\\</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">APP_NAME</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">.exe</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">.PHONY</span><span style="color: #D4D4D4">: run</span></span>
<span class="line"><span style="color: #DCDCAA">run</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">	.\\build\\</span><span style="color: #CE9178">$(</span><span style="color: #9CDCFE">APP_NAME</span><span style="color: #CE9178">)</span><span style="color: #D4D4D4">.exe</span></span>
<span class="line"></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>There are the obvious differences, from a different compiler to different compilation and linker flags, and the paths have backward slashes, and since the backward slash itself is typically used for special characters like <code>\n</code> for a new line, we have to escape the backward slash with another backward slash. Think different at its best!</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>But let's look at the more subtle differences: the generic target to build object files from source files on line 31 is different. The order is also reversed. Now, we are saying we first need a <code>*.cpp</code> file to build an <code>*.obj</code> file. You'll notice that I have given a path here, as I could not for the life of me figure out how to make this generic and applicable to any potential subdirectory. There probably is a way, but I could not find it.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Line 36 also looks different, and we now have an <code>if</code> statement, saying that if the <code>build</code> folder does not exist, then execute the command <code>mkdir build</code>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>All of these are minor differences, and apart from the loss of generic targets to build object files from source files, there is one major issue that I wasn't able to overcome (and one for which there likely isn't a (clean) solution). Have a look at the debug and release targets on lines 23 and 26, respectively. Then, have a look at the compiler flags defined in line 8. Do you notice that we are not overwriting or appending additional flags to the compiler flags variable? That is because variables in NMake (unlike Make) are global and constant. You can't change them.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So, if we wanted to achieve the same behaviour as with UNIX/GNU Make, then we would be out of luck; this just isn't possible. Believe me, I have tried various ways, and in all of them, there is a flaw that prevents you from doing what I achieved in the Makefile for UNIX shown above. If you were to write out the rules to build each individual source file for different targets (e.g. release or debug), then this isn't really an issue. If you have a meta build system that collects all source files and then spits out the corresponding Makefile, then you get around this issue.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We'll pick this up again in the next section, but suffice it to say that there are limitations to using NMake (and Make, for that matter, as well!). But just for completeness, let's also look at the execution of NMake.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If you are the type of person who enjoys watching Ads on YouTube, then you should use the following command to invoke NMake</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"nmake target","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003enmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etarget\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","seeMoreType":"","seeMoreString":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="nmake target" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">nmake</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">target</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>But if you want to use an adblocker, you should always use</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"nmake /NOLOGO target","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003enmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/NOLOGO\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etarget\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","seeMoreType":"","seeMoreString":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="nmake /NOLOGO target" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">nmake</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/NOLOGO</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">target</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>This is exactly the same as for standard Make. You can chain targets together and specify a different Makefile with the <code>-f</code> flag. In our case, our Makefile is called <code>Makefile.win</code>, so we need to provide this flag. We can either run the <code>all</code> target or specify the targets explicitly. Remember, not specifying any targets will, by default, execute the <code>all</code> target. The following commands all achieve the same output</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"nmake /NOLOGO -f Makefile.win\nnmake /NOLOGO -f Makefile.win all\nnmake /NOLOGO -f Makefile.win clean init debug run","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003enmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/NOLOGO\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-f\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eMakefile.win\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003enmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/NOLOGO\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-f\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eMakefile.win\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eall\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003enmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/NOLOGO\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-f\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eMakefile.win\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eclean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003einit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003edebug\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003erun\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","seeMoreType":"","seeMoreString":"","seeMoreTransition":false,"highestLineNumber":3,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="nmake /NOLOGO -f Makefile.win
nmake /NOLOGO -f Makefile.win all
nmake /NOLOGO -f Makefile.win clean init debug run" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">nmake</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/NOLOGO</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-f</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Makefile.win</span></span>
<span class="line"><span style="color: #DCDCAA">nmake</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/NOLOGO</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-f</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Makefile.win</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">all</span></span>
<span class="line"><span style="color: #DCDCAA">nmake</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/NOLOGO</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-f</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Makefile.win</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">clean</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">init</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">debug</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">run</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Interestingly, building in release or debug mode, i.e.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"nmake /NOLOGO -f Makefile.win clean init debug run\nnmake /NOLOGO -f Makefile.win clean init release run","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003enmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/NOLOGO\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-f\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eMakefile.win\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eclean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003einit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003edebug\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003erun\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003enmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/NOLOGO\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-f\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eMakefile.win\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eclean\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003einit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003erelease\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003erun\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","seeMoreType":"","seeMoreString":"","seeMoreTransition":false,"highestLineNumber":2,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="nmake /NOLOGO -f Makefile.win clean init debug run
nmake /NOLOGO -f Makefile.win clean init release run" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">nmake</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/NOLOGO</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-f</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Makefile.win</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">clean</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">init</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">debug</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">run</span></span>
<span class="line"><span style="color: #DCDCAA">nmake</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/NOLOGO</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-f</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Makefile.win</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">clean</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">init</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">release</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">run</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>both result in the tests executing correctly and we don't get an error thrown at us. Surprising? No, remember, we weren't able to set specific compiler flags for <code>debug</code> or <code>release</code> builds, so there isn't any compiler optimisation done, and as a result, no code gets thrown out or ignored. For completeness, the following gets printed to the console if we run in either debug or release mode:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"del /q tests\\\\unit\\\\testComplexNumbers.obj build\\\\testComplexNumbers.exe\n        cl /c /nologo /EHsc /std:c++20 /I. /I C:\\\\libraries\\\\include tests\\\\unit\\\\testComplexNumbers.cpp /Fo:tests\\\\unit\\\\testComplexNumbers.obj\ntestComplexNumbers.cpp\n        cl /nologo tests\\\\unit\\\\testComplexNumbers.obj /Fe:build/testComplexNumbers.exe /link /MACHINE:x64 /LIBPATH:\u0022C:\\libraries\\lib\u0022 gtest.lib\n        .\\\\build\\\\testComplexNumbers.exe\n[==========] Running 8 tests from 1 test suite.\n[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] Global test environment set-up.\n[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] 8 tests from ComplexNumberTest\n[ RUN      ] ComplexNumberTest.TestComplexMagnitude\n[       OK ] ComplexNumberTest.TestComplexMagnitude (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexConjugate\n[       OK ] ComplexNumberTest.TestComplexConjugate (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexNumberWithNaN\n[       OK ] ComplexNumberTest.TestComplexNumberWithNaN (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexAddition\n[       OK ] ComplexNumberTest.TestComplexAddition (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexSubtraction\n[       OK ] ComplexNumberTest.TestComplexSubtraction (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexMultiplication\n[       OK ] ComplexNumberTest.TestComplexMultiplication (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexDivision\n[       OK ] ComplexNumberTest.TestComplexDivision (0 ms)\n[ RUN      ] ComplexNumberTest.TestComplexDivisionWithNaN\n[       OK ] ComplexNumberTest.TestComplexDivisionWithNaN (0 ms)\n[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] 8 tests from ComplexNumberTest (4 ms total)\n\n[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] Global test environment tear-down\n[==========] 8 tests from 1 test suite ran. (6 ms total)\n[  PASSED  ] 8 tests.","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003edel\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/q\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etests\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\\\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eunit\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\\\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etestComplexNumbers.obj\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ebuild\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\\\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etestComplexNumbers.exe\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecl\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/c\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/nologo\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/EHsc\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/std:c++20\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/I.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/I\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eC:\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\\\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003elibraries\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\\\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etests\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\\\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eunit\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\\\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etestComplexNumbers.cpp\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/Fo:tests\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\\\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eunit\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\\\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etestComplexNumbers.obj\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003etestComplexNumbers.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecl\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/nologo\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etests\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\\\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eunit\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\\\\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etestComplexNumbers.obj\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/Fe:build/testComplexNumbers.exe\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/link\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/MACHINE:x64\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e/LIBPATH:\u0026quot;C:\\libraries\\lib\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003egtest.lib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\\\\build\\\\testComplexNumbers.exe\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[==========] Running 8 tests from 1 test suite.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] Global test environment set-up.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] 8 tests from ComplexNumberTest\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexMagnitude\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexMagnitude (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexConjugate\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexConjugate (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexNumberWithNaN\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexNumberWithNaN (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexAddition\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexAddition (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexSubtraction\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexSubtraction (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexMultiplication\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexMultiplication (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexDivision\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexDivision (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[ RUN      ] ComplexNumberTest.TestComplexDivisionWithNaN\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[       OK ] ComplexNumberTest.TestComplexDivisionWithNaN (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] 8 tests from ComplexNumberTest (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e4\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etotal\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d] Global test environment tear-down\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[==========] 8 tests from 1 test suite ran. (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e6\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003ems\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etotal\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[  PASSED  ] 8 tests.\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","seeMoreType":"","seeMoreString":"","seeMoreTransition":false,"highestLineNumber":29,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="del /q tests\\unit\\testComplexNumbers.obj build\\testComplexNumbers.exe
        cl /c /nologo /EHsc /std:c++20 /I. /I C:\\libraries\\include tests\\unit\\testComplexNumbers.cpp /Fo:tests\\unit\\testComplexNumbers.obj
testComplexNumbers.cpp
        cl /nologo tests\\unit\\testComplexNumbers.obj /Fe:build/testComplexNumbers.exe /link /MACHINE:x64 /LIBPATH:&quot;C:\libraries\lib&quot; gtest.lib
        .\\build\\testComplexNumbers.exe
[==========] Running 8 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 8 tests from ComplexNumberTest
[ RUN      ] ComplexNumberTest.TestComplexMagnitude
[       OK ] ComplexNumberTest.TestComplexMagnitude (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexConjugate
[       OK ] ComplexNumberTest.TestComplexConjugate (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexNumberWithNaN
[       OK ] ComplexNumberTest.TestComplexNumberWithNaN (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexAddition
[       OK ] ComplexNumberTest.TestComplexAddition (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexSubtraction
[       OK ] ComplexNumberTest.TestComplexSubtraction (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexMultiplication
[       OK ] ComplexNumberTest.TestComplexMultiplication (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexDivision
[       OK ] ComplexNumberTest.TestComplexDivision (0 ms)
[ RUN      ] ComplexNumberTest.TestComplexDivisionWithNaN
[       OK ] ComplexNumberTest.TestComplexDivisionWithNaN (0 ms)
[----------] 8 tests from ComplexNumberTest (4 ms total)

[----------] Global test environment tear-down
[==========] 8 tests from 1 test suite ran. (6 ms total)
[  PASSED  ] 8 tests." style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">del</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/q</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tests</span><span style="color: #D7BA7D">\\</span><span style="color: #CE9178">unit</span><span style="color: #D7BA7D">\\</span><span style="color: #CE9178">testComplexNumbers.obj</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">build</span><span style="color: #D7BA7D">\\</span><span style="color: #CE9178">testComplexNumbers.exe</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #DCDCAA">cl</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/c</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/nologo</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/EHsc</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/std:c++20</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/I.</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/I</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">C:</span><span style="color: #D7BA7D">\\</span><span style="color: #CE9178">libraries</span><span style="color: #D7BA7D">\\</span><span style="color: #CE9178">include</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tests</span><span style="color: #D7BA7D">\\</span><span style="color: #CE9178">unit</span><span style="color: #D7BA7D">\\</span><span style="color: #CE9178">testComplexNumbers.cpp</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/Fo:tests</span><span style="color: #D7BA7D">\\</span><span style="color: #CE9178">unit</span><span style="color: #D7BA7D">\\</span><span style="color: #CE9178">testComplexNumbers.obj</span></span>
<span class="line"><span style="color: #DCDCAA">testComplexNumbers.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #DCDCAA">cl</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/nologo</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tests</span><span style="color: #D7BA7D">\\</span><span style="color: #CE9178">unit</span><span style="color: #D7BA7D">\\</span><span style="color: #CE9178">testComplexNumbers.obj</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/Fe:build/testComplexNumbers.exe</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/link</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/MACHINE:x64</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/LIBPATH:&quot;C:\libraries\lib&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">gtest.lib</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #DCDCAA">.</span><span style="color: #D4D4D4">\\build\\testComplexNumbers.exe</span></span>
<span class="line"><span style="color: #D4D4D4">[==========] Running 8 tests from 1 test suite.</span></span>
<span class="line"><span style="color: #D4D4D4">[----------] Global test environment set-up.</span></span>
<span class="line"><span style="color: #D4D4D4">[----------] 8 tests from ComplexNumberTest</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexMagnitude</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexMagnitude (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexConjugate</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexConjugate (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexNumberWithNaN</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexNumberWithNaN (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexAddition</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexAddition (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexSubtraction</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexSubtraction (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexMultiplication</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexMultiplication (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexDivision</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexDivision (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[ RUN      ] ComplexNumberTest.TestComplexDivisionWithNaN</span></span>
<span class="line"><span style="color: #D4D4D4">[       OK ] ComplexNumberTest.TestComplexDivisionWithNaN (</span><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[----------] 8 tests from ComplexNumberTest (</span><span style="color: #DCDCAA">4</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">total</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">[----------] Global test environment tear-down</span></span>
<span class="line"><span style="color: #D4D4D4">[==========] 8 tests from 1 test suite ran. (</span><span style="color: #DCDCAA">6</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">total</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">[  PASSED  ] 8 tests.</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Even adding the <code>/O2 /DNDEBUG</code> compiler flags doesn't change the output, and all tests still complete satisfactory. This goes to show that there are subtle differences between compilers and why some compilers might produce a build that work while others don't. If you want to support cross-platform development and usage, you'll need to develop and test on all of the supported platforms.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So, there are some issues with NMake, but to be fair, certain issues are shared between all derivatives of Make. This has led to the decline of Makefiles in general (although they are still in heavy usage, just in a different form), which we will look at next.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-the-demise-of-makefiles">The death of Makefiles</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>When Make was introduced, it was a bit of magic. At its core, it was a simple automation tool, but one written and dedicated to automating the software build cycle. As a result, there was a lot of uptake among scientists, engineers, and software developers. These days, engineers and software engineers have moved on, while scientists are still busy pushing the boundaries of human knowledge with their research based on tools that have long been outdated.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>I mentioned above that Makefiles are still in heavy use, but just not in the form discussed above, i.e. people are not writing their own Makefile anymore, unless they have a small project and just want to have a quick and dirty working solution (though even then, I'd argue CMake is still a better solution and likely one with fewer lines of code).  </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>In the remaining articles of this series, we will be taking a deep dive into CMake, which is considered to be a meta-build system. This means CMake itself does not get involved in compiling any code. It is a tool to produce some form of build instruction that is specific to the platform you are developing on. If you write a CMake file and then execute it on Windows, you get an MSBuild file, which CMake can then use to build your code. On UNIX, you actually get a Makefile by default.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So CMake and other meta-build systems produce build instructions in the form of Makefiles or other similar alternatives (e.g. MSBuild, Ninja, Xcode, etc.). If you generate Makefiles automatically, you don't have to care about generic build targets or release and debug builds. If the targets change and you add more source files, simply add a new rule to the Makefile upon creation, or write a Makefile that always compiles on debug or release mode. Only once the setting is changed within CMake should the compiler flags change as well.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So the demise of Makefiles is largely attributed to the success of other meta build platforms, and a general drive towards cross-platform development. Choosing Make as your build tool for your project most likely means that you are looking yourself into using a specific platform and you really should change to something more generic like CMake, but other alternatives are available that'll do the job just as well.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-summary">Summary</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>So then, in this opening article, we looked at a high-level overview of build systems and why they are important, and then we took a somewhat deeper dive into Makefiles themselves. At this point, you have seen pretty much all there is to writing your own Makefiles and should you come across one in the wild, hopefully, this knowledge will help you understand what these Makefiles are trying to achieve. Remember that most Makefiles these days are automatically generated, so they may appear more cryptic and convoluted than necessary.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We also looked at why Makefiles have declined in popularity, mainly due to a lack of support for cross-platform development (where other tools have succeeded), but I would still argue knowing how to write a Makefile for at least one platform has enormous educational value as you have to put in the compiler flags yourself, and realise that the order of compiler and linker flags matter. If you feel comfortable writing Makefiles, you'll be able to graduate to the next build system (in our case, CMake), and troubleshooting compiler issues will then become exponentially easier.</p>
<!-- /wp:paragraph -->