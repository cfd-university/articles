<!-- wp:paragraph -->
<p>In this series, we are going to look at software testing, how we can incorporate that into our CFD coding projects and how we can run tests automatically to ensure that we have a bug-free codebase. In this opening article, we will define common terminology and get an intuitive understanding of how tests are structured and written. We will also see how previous tests that we wrote in other series fit into this testing framework.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>By the end of this article, you will know about all the common tests that we employ in automated software testing, how often you should execute which type of test and we will look at a few code snippets to get an understanding of how we can structure automated test codes.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading">In this series</h2>
<!-- /wp:heading -->

<!-- wp:shortcode -->
[custom_category_posts_list category_slug="the-complete-guide-to-software-testing-for-cfd-applications"]
<!-- /wp:shortcode -->

<!-- wp:heading -->
<h2 class="wp-block-heading">In this article</h2>
<!-- /wp:heading -->

<!-- wp:aioseo/table-of-contents {"headings":[{"id":6,"blockClientId":"30425c17-14cd-4c8d-8977-7f6417ff53d1","content":"Introduction","level":2,"anchor":"aioseo-introduction","order":0,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":13,"blockClientId":"336fed4b-874d-46cf-b5cc-edcf9a5b958b","content":"The different testing approaches","level":2,"anchor":"aioseo-types-of","order":1,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":15,"blockClientId":"3eb67abb-99d2-43fa-8b78-363836eae663","content":"Manual testing","level":3,"anchor":"aioseo-manual-testing","order":2,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":34,"blockClientId":"569b79d1-9e1f-4674-a421-f11083897156","content":"Automated testing","level":3,"anchor":"aioseo-automated-testing","order":3,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]},{"id":44,"blockClientId":"d43339b4-3be4-4949-b9ca-0f7965c9f297","content":"Behaviour vs Implementation testing","level":2,"anchor":"aioseo-black-box-and-white-box-testing","order":4,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":46,"blockClientId":"8e42b671-4de3-47f8-a87d-1e5803f1e58c","content":"Black-box testing","level":3,"anchor":"aioseo-black-box-testing","order":5,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":50,"blockClientId":"4bd8b6f7-fe50-4ad8-b9e2-a1e7bb8ea31f","content":"White-box testing","level":3,"anchor":"aioseo-white-box-testing","order":6,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]},{"id":55,"blockClientId":"eb3c93b1-9f33-40a9-800a-fdbe57e3514e","content":"Types of automated tests","level":2,"anchor":"aioseo-types-of-automated-tests","order":7,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":57,"blockClientId":"b3c1e673-5c56-4ad0-aa6d-81c2d3994aa9","content":"Unit tests","level":3,"anchor":"aioseo-unit-tests","order":8,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":69,"blockClientId":"7b73ceb4-1136-4a85-85ef-cdc03841ca73","content":"The anatomy of a unit test","level":4,"anchor":"aioseo-the-anatomy-of-a-unit-test","order":9,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]},{"id":79,"blockClientId":"081bc835-0093-492f-a08d-89f18dc74276","content":"Integration tests","level":3,"anchor":"aioseo-integration-tests","order":10,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":85,"blockClientId":"1f141a0a-f5b0-4395-a456-1d02d3f53906","content":"System or end-to-end tests","level":3,"anchor":"aioseo-system-or-end-to-end-tests","order":11,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":90,"blockClientId":"97f7c3c3-c112-4bd8-8ffd-1009f104f27b","content":"User acceptance testing","level":3,"anchor":"aioseo-user-acceptance-testing","order":12,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":94,"blockClientId":"024c618c-ebab-4248-96be-152fc2c2dcad","content":"Alpha testing","level":4,"anchor":"aioseo-alpha-testing","order":13,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":99,"blockClientId":"1fbd80d4-2212-49ba-b02e-fffb4db6312a","content":"Beta testing","level":4,"anchor":"aioseo-beta-testing","order":14,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]}]},{"id":106,"blockClientId":"47678937-f77b-4c1d-ba36-770843725402","content":"Regression testing and the software testing pyramid","level":2,"anchor":"aioseo-the-software-testing-pyramid","order":15,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":115,"blockClientId":"80ec916c-dd6c-44a3-a2ac-890e045dcd18","content":"Mocking dependencies","level":2,"anchor":"aioseo-","order":16,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":128,"blockClientId":"1de07057-c644-4669-8c31-9df511445de5","content":"Summary","level":2,"anchor":"aioseo-","order":17,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]} -->
<div class="wp-block-aioseo-table-of-contents"><ul><li><a href="#aioseo-introduction">Introduction</a></li><li><a href="#aioseo-types-of">The different testing approaches</a><ul><li><a href="#aioseo-manual-testing">Manual testing</a></li><li><a href="#aioseo-automated-testing">Automated testing</a></li></ul></li><li><a href="#aioseo-black-box-and-white-box-testing">Behaviour vs Implementation testing</a><ul><li><a href="#aioseo-black-box-testing">Black-box testing</a></li><li><a href="#aioseo-white-box-testing">White-box testing</a></li></ul></li><li><a href="#aioseo-types-of-automated-tests">Types of automated tests</a><ul><li><a href="#aioseo-unit-tests">Unit tests</a><ul><li><a href="#aioseo-the-anatomy-of-a-unit-test">The anatomy of a unit test</a></li></ul></li><li><a href="#aioseo-integration-tests">Integration tests</a></li><li><a href="#aioseo-system-or-end-to-end-tests">System or end-to-end tests</a></li><li><a href="#aioseo-user-acceptance-testing">User acceptance testing</a><ul><li><a href="#aioseo-alpha-testing">Alpha testing</a></li><li><a href="#aioseo-beta-testing">Beta testing</a></li></ul></li></ul></li><li><a href="#aioseo-the-software-testing-pyramid">Regression testing and the software testing pyramid</a></li><li><a href="#aioseo-">Mocking dependencies</a></li><li><a href="#aioseo-">Summary</a></li></ul></div>
<!-- /wp:aioseo/table-of-contents -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-introduction">Introduction</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>This series has been a long time coming. If you have followed along in the previous two series, where we developed a linear algebra solver library and a mesh reading library using the CGNS file format. In that case, you will have heard me talking about the importance of software testing. Without realising it, we did follow conventional software testing approaches, albeit not very thoroughly, and we wrote some basic tests to ensure the correctness of the code developed.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>In this series, then, I want to look at software testing more formally. If I had to make a pick and choose what I deem to be the most important aspect of modern software development, software testing would be my first choice. Nothing has as much of an influence on the way we write software. If you have never worked with an automated way to test software, you owe it to yourself to give it at least a try and I promise you that you will look at programming differently once you embrace software testing.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>There are countless sources of information out there on software testing, so why yet another source of strong opinions and more code? CFD applications tend to be written in an old-fashioned console-based application. That makes things a bit easier for testing, but I invite you to do a quick search on software testing and you will see the abundance of sources talking about testing of mobile applications, website testing, graphical user interface testing, user acceptance testing, and the list goes on.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Testing a mobile application is different from testing a website, which is again different from testing a graphical user interface. And, believe it or not, a CFD solver is very different from Google, so you would naturally write different tests for a search engine website than you would for testing an implementation of the Spalart-Allmaras turbulence model. And this is why this series exists.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Using software testing will incur some overhead; you need to write test code and this will take your time and effort away from writing new features in your CFD solver, but spending that additional time will save you time later. It is akin to switching from Windows to Linux or from MS Word to LaTeX, there is time involved in making the switch but once you know your way around, you get fewer headaches in the future and thus save time</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>In today's article, then, I want to introduce software testing and the most important building blocks. We will use this knowledge to formulate a testing strategy in the next article and look at testing frameworks and how to write tests for CFD applications in subsequent articles. Let's get started and see how we can introduce testing into our codebase.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-types-of">The different testing approaches</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Testing software can broadly be categorised into two different areas; using a manual or automated approach. Both have their place in the software development cycle and we will explore both of these below.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-manual-testing">Manual testing</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>When we write code, we have to ensure that it is working as intended. So let's say we want to write an interpolation class for cell centroids to face centroid interpolations. We may derive different subclasses from this class to implement different interpolation (numerical) schemes. This is a common operation in the finite volume context, and we typically use interpolation schemes such as upwind, central, MUSCL, ENO, and WENO schemes, to name but a few.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So let's look then at a function that could implement a central interpolation. The function will accept the value of a quantity [katex]\phi[/katex] of two centroids connected by a face. [katex]\phi[/katex] could be any quantities such as the velocity, density, temperature, etc. We'll name the values for [katex]\phi[/katex] at the cell centroids <code>phiOwner</code> and <code>phiNeighbour</code>. We also receive the distance from centroids to the face centroid, which we call <code>distanceOwner</code> and <code>distanceneighbour</code>. We want to calculate the value of [katex]\phi[/katex] at the face centroid. This is shown below schematically.</p>
<!-- /wp:paragraph -->

<!-- wp:image {"align":"center","id":2756,"width":"400px","sizeSlug":"large","linkDestination":"none"} -->
<figure class="wp-block-image aligncenter size-large is-resized"><img src="https://cfd.university/wp-content/uploads/2024/02/interpolation-1024x678.png" alt="" class="wp-image-2756" style="width:400px"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>To calculate the interpolated face value, we first have to determine the distance between the two centroids and then divide both the <code>distanceOwner</code> and <code>distanceNeighbour</code> variables by that value to get a normalised distance. This means we can multiply each centroid value by this normalised distance, which now essentially acts as a weight; the closer one centroid is to the face, the more weight it will have in the interpolation. The implementation then becomes:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"double getFaceCentroidValue(double phiOwner, double distanceOwner, double phiNeighbour, double distanceNeighbour) {\n  double distanceOwnerNormalised = distanceOwner / (distanceOwner + distanceNeighbour);\n  double distanceNeighbourNormalised = distanceNeighbour / (distanceOwner + distanceNeighbour);\n  return phiOwner * distanceOwnerNormalised + phiNeighbour * distanceNeighbourNormalised;\n}","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ephiOwner\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003edistanceOwner\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ephiNeighbour\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003edistanceNeighbour\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e distanceOwnerNormalised = distanceOwner / (distanceOwner + distanceNeighbour);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e distanceNeighbourNormalised = distanceNeighbour / (distanceOwner + distanceNeighbour);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003ereturn\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e phiOwner * distanceOwnerNormalised + phiNeighbour * distanceNeighbourNormalised;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":5,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="double getFaceCentroidValue(double phiOwner, double distanceOwner, double phiNeighbour, double distanceNeighbour) {
  double distanceOwnerNormalised = distanceOwner / (distanceOwner + distanceNeighbour);
  double distanceNeighbourNormalised = distanceNeighbour / (distanceOwner + distanceNeighbour);
  return phiOwner * distanceOwnerNormalised + phiNeighbour * distanceNeighbourNormalised;
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">phiOwner</span><span style="color: #D4D4D4">, </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">distanceOwner</span><span style="color: #D4D4D4">, </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">phiNeighbour</span><span style="color: #D4D4D4">, </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">distanceNeighbour</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> distanceOwnerNormalised = distanceOwner / (distanceOwner + distanceNeighbour);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> distanceNeighbourNormalised = distanceNeighbour / (distanceOwner + distanceNeighbour);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> phiOwner * distanceOwnerNormalised + phiNeighbour * distanceNeighbourNormalised;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>If we wanted to test that this function is working correctly (spoiler alert, it is not, you can pat yourself on the shoulder if you spotted the mistake), then we may write code like the following:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"#include \u0026lt;iostream\u003e\n\ndouble getFaceCentroidValue(double phiOwner, double distanceOwner, double phiNeighbour, double distanceNeighbour) {\n  double distanceOwnerNormalised = distanceOwner / (distanceOwner + distanceNeighbour);\n  double distanceNeighbourNormalised = distanceNeighbour / (distanceOwner + distanceNeighbour);\n  return phiOwner * distanceOwnerNormalised + phiNeighbour * distanceNeighbourNormalised;\n}\n\nint main() {\n  double distanceOwner = 0.5;\n  double distanceNeighbour = 0.5;\n  double phiOwner = 0.0;\n  double phiNeighbour = 1.0; \n  std::cout \u0026lt;\u0026lt; getFaceCentroidValue(phiOwner, distanceOwner, phiNeighbour, distanceNeighbour) \u0026lt;\u0026lt; std::endl;\n  return 0;\n}","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003e#include\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ephiOwner\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003edistanceOwner\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ephiNeighbour\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003edistanceNeighbour\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e distanceOwnerNormalised = distanceOwner / (distanceOwner + distanceNeighbour);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e distanceNeighbourNormalised = distanceNeighbour / (distanceOwner + distanceNeighbour);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003ereturn\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e phiOwner * distanceOwnerNormalised + phiNeighbour * distanceNeighbourNormalised;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eint\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emain\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e distanceOwner = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.5\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e distanceNeighbour = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.5\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e phiOwner = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e phiNeighbour = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e; \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::cout \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(phiOwner, distanceOwner, phiNeighbour, distanceNeighbour) \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::endl;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003ereturn\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":16,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="#include &lt;iostream&gt;

double getFaceCentroidValue(double phiOwner, double distanceOwner, double phiNeighbour, double distanceNeighbour) {
  double distanceOwnerNormalised = distanceOwner / (distanceOwner + distanceNeighbour);
  double distanceNeighbourNormalised = distanceNeighbour / (distanceOwner + distanceNeighbour);
  return phiOwner * distanceOwnerNormalised + phiNeighbour * distanceNeighbourNormalised;
}

int main() {
  double distanceOwner = 0.5;
  double distanceNeighbour = 0.5;
  double phiOwner = 0.0;
  double phiNeighbour = 1.0; 
  std::cout &lt;&lt; getFaceCentroidValue(phiOwner, distanceOwner, phiNeighbour, distanceNeighbour) &lt;&lt; std::endl;
  return 0;
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #C586C0">#include</span><span style="color: #569CD6"> </span><span style="color: #CE9178">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">phiOwner</span><span style="color: #D4D4D4">, </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">distanceOwner</span><span style="color: #D4D4D4">, </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">phiNeighbour</span><span style="color: #D4D4D4">, </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">distanceNeighbour</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> distanceOwnerNormalised = distanceOwner / (distanceOwner + distanceNeighbour);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> distanceNeighbourNormalised = distanceNeighbour / (distanceOwner + distanceNeighbour);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> phiOwner * distanceOwnerNormalised + phiNeighbour * distanceNeighbourNormalised;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">main</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> distanceOwner = </span><span style="color: #B5CEA8">0.5</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> distanceNeighbour = </span><span style="color: #B5CEA8">0.5</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> phiOwner = </span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> phiNeighbour = </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">; </span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::cout &lt;&lt; </span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(phiOwner, distanceOwner, phiNeighbour, distanceNeighbour) &lt;&lt; </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::endl;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Since both distances are equal, we would expect an interpolated value of <code>0.5</code>, which sits halfway between <code>0</code> and <code>1</code>, i.e. the values of <code>phiOwner</code> and <code>phiNeighbour</code>. We print the value of the interpolation on line 14 and may assert that the code is working correctly, remove the print line and then move on. </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>This type of analysing the code is known as <a href="https://www.oreilly.com/library/view/programming-ios-4/9781449397302/ch09s05.html" target="_blank" rel="noopener" title="">caveman debugging</a> and reflects the fact that we have better ways of testing available. Despite the insulting name, caveman debugging is a pretty legitimate debugging technique. If you need to quickly go through your code and ensure the code is doing what it is supposed to, there is no problem with that. The problem only starts to arise when this is the only technique you rely on for testing and debugging your code.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The problem with this technique is that a critical bug just made it into our production code and we didn't spot it, Had we used different distances, say, <code>distanceOwner = 0.2</code> and <code>distanceNeighbour = 0.8</code>, for which we would have expected a value of <code>0.2</code> now as the interpolated value, then we would have realised that the code is broken, as it would return a value of <code>0.8</code>. It turns out, we need to swap the distances, so instead of having:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"return phiOwner * distanceOwnerNormalised + phiNeighbour * distanceNeighbourNormalised;","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003ereturn\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e phiOwner * distanceOwnerNormalised + phiNeighbour * distanceNeighbourNormalised;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="return phiOwner * distanceOwnerNormalised + phiNeighbour * distanceNeighbourNormalised;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> phiOwner * distanceOwnerNormalised + phiNeighbour * distanceNeighbourNormalised;</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>this ought to be</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"return phiOwner * distanceNeighbourNormalised + phiNeighbour * distanceOwnerNormalised;","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003ereturn\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e phiOwner * distanceNeighbourNormalised + phiNeighbour * distanceOwnerNormalised;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="return phiOwner * distanceNeighbourNormalised + phiNeighbour * distanceOwnerNormalised;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> phiOwner * distanceNeighbourNormalised + phiNeighbour * distanceOwnerNormalised;</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>You can see that for yourself by making one of the distances smaller. Then, the value of [katex]\phi[/katex] at the centroid closest to the face should have the largest influence on the interpolation, and thus it needs to be weighted by the larger distance of the two. You can show this mathematically as well, but the above is using a more intuitive way.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>But let's say we spotted that issue and correctly implemented the interpolation function, then we are all good, right? What if you later decide to rewrite part of your code because you need to restructure it to make room for some additional implementation? For example, we decided to implement the finite difference method as well and now want to have a modified base interpolation class that has to change as a result of the additional discretisation method. In that case, we may have to touch this code again. And as soon as we do, we need to test it again.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So you say, well, then I just never touch old code again, and I don't have any problem with bugs creeping up in old code. That is correct, but you are now shifting the problem to a different area. Code that grows needs to be constantly rewritten, this is a process called <a href="https://refactoring.guru/refactoring/what-is-refactoring" target="_blank" rel="noopener" title="">refactoring</a>. </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Refactoring saves you from incurring <a href="https://refactoring.guru/refactoring/technical-debt" target="_blank" rel="noopener" title="">technical debt</a>, a phrase coined in analogy to a bank loan. With a loan, you can spend more money but have to pay interest to do so. Without refactoring, you get to write new code without touching the old one but eventually, you will have messy code that will slow down your development, as it becomes more complicated to understand even your own code. If you have ever written messy code and needed to look at it again 6 months later, you will know what I mean.  </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So, testing is an essential part but we don't want to waste our time doing it over and over again, this is where automated tests come in.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-automated-testing">Automated testing</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The code we write is not too dissimilar to the code we write when we manually test our code, but the way we organise it is different. Testing now becomes an integral part of your coding workflow and automated tests allow you to run all your tests whenever you want to ensure that changes you made did not break your existing code base, typically before integrating a new feature into your main codebase.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If we stay with the <code>getFaceCentroidValue()</code> function for the moment, if we wanted to provide some form of automated test for this, we would need to write another function that would simply call this function with some values, for example:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"void testGetFaceCentroidValue() {\n  assert(getFaceCentroidValue(0.0, 0.00, 1.0, 1.00) == 0.00);\n  assert(getFaceCentroidValue(0.0, 0.25, 1.0, 0.75) == 0.25);\n  assert(getFaceCentroidValue(0.0, 0.50, 1.0, 0.50) == 0.50);\n  assert(getFaceCentroidValue(0.0, 0.75, 1.0, 0.25) == 0.75);\n  assert(getFaceCentroidValue(0.0, 1.00, 1.0, 0.00) == 1.00);\n}","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003evoid\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003etestGetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eassert\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) == \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eassert\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.25\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.75\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) == \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.25\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eassert\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.50\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.50\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) == \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.50\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eassert\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.75\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.25\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) == \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.75\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eassert\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) == \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":7,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="void testGetFaceCentroidValue() {
  assert(getFaceCentroidValue(0.0, 0.00, 1.0, 1.00) == 0.00);
  assert(getFaceCentroidValue(0.0, 0.25, 1.0, 0.75) == 0.25);
  assert(getFaceCentroidValue(0.0, 0.50, 1.0, 0.50) == 0.50);
  assert(getFaceCentroidValue(0.0, 0.75, 1.0, 0.25) == 0.75);
  assert(getFaceCentroidValue(0.0, 1.00, 1.0, 0.00) == 1.00);
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">testGetFaceCentroidValue</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">assert</span><span style="color: #D4D4D4">(</span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.00</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.00</span><span style="color: #D4D4D4">) == </span><span style="color: #B5CEA8">0.00</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">assert</span><span style="color: #D4D4D4">(</span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.25</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.75</span><span style="color: #D4D4D4">) == </span><span style="color: #B5CEA8">0.25</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">assert</span><span style="color: #D4D4D4">(</span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.50</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.50</span><span style="color: #D4D4D4">) == </span><span style="color: #B5CEA8">0.50</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">assert</span><span style="color: #D4D4D4">(</span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.75</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.25</span><span style="color: #D4D4D4">) == </span><span style="color: #B5CEA8">0.75</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">assert</span><span style="color: #D4D4D4">(</span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.00</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.00</span><span style="color: #D4D4D4">) == </span><span style="color: #B5CEA8">1.00</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>The way that a test code typically works is by executing a function that should be tested (also called the system under test, or <code>sut</code>) and then the value that is returned is compared against an expected value. This is what we are doing with the <code>assert</code> statement and if all the expected values are correct, then the test function will return without stopping execution.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We have already seen the <code>assert</code> keyword in several other places in our previous projects on writing a <a href="https://cfd.university/learn/how-to-compiler-write-and-use-cfd-libraries-in-c" target="_blank" rel="noopener" title="">linear algebra solver</a> and <a href="https://cfd.university/learn/the-complete-guide-to-structured-and-unstructured-mesh-reading-using-cgns" target="_blank" rel="noopener" title="">mesh reading library</a>, which made sure that certain conditions were met before continuing. We learned that this is the <a href="https://www.martinfowler.com/ieeeSoftware/failFast.pdf" target="_blank" rel="noopener" title="">fail-fast approach</a>. Automated tests together with the fail-fast approach give us the best protection against software bugs. If you follow this approach rigorously, you will find it to be very difficult to write code that contains any bugs.  </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So, if we are writing now additional code to the existing one, we need to separate both of these into their own workspaces. We typically do that by providing a separate test folder in our project. The following shows a very common structure of a project with tests.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"project\n├── include/\n├── src/\n└── tests/\n    ├── resources/\n    ├── testType1/\n    ├── testType2/\n    ├── testType3/\n    └── ...","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eproject\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── include/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── src/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e└── tests/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    ├── resources/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    ├── testType1/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    ├── testType2/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    ├── testType3/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    └── ...\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"plaintext","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":9,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="project
├── include/
├── src/
└── tests/
    ├── resources/
    ├── testType1/
    ├── testType2/
    ├── testType3/
    └── ..." style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">project</span></span>
<span class="line"><span style="color: #D4D4D4">├── include/</span></span>
<span class="line"><span style="color: #D4D4D4">├── src/</span></span>
<span class="line"><span style="color: #D4D4D4">└── tests/</span></span>
<span class="line"><span style="color: #D4D4D4">    ├── resources/</span></span>
<span class="line"><span style="color: #D4D4D4">    ├── testType1/</span></span>
<span class="line"><span style="color: #D4D4D4">    ├── testType2/</span></span>
<span class="line"><span style="color: #D4D4D4">    ├── testType3/</span></span>
<span class="line"><span style="color: #D4D4D4">    └── ...</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Within our project, we have our header include files within the <code>include/</code> folder, while all corresponding source files are located in the <code>src/</code> folder. The new <code>tests/</code> folder houses all of our tests. There is a resource folder which you may or may not have, but you may want to put here any files you would need to execute your tests. In our previous series on <a href="https://cfd.university/learn/the-complete-guide-to-structured-and-unstructured-mesh-reading-using-cgns" target="_blank" rel="noopener" title="">mesh reading</a>, we wrote tests for simplified structured and unstructured grids, so these grids may be located in the <code>resource/</code> folder. Anything needed by the tests which are otherwise not used by the code goes into the <code>resource/</code> folder.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Then we see that we can have different types of tests, which are all separated into their own subdirectory. We will discuss the different types of tests later, but for now, it is sufficient to understand that we write code that tests different aspects of our production code (i.e. the code within our <code>src/</code> folder).</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-black-box-and-white-box-testing">Behaviour vs Implementation testing</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>There are now two categories into which we can separate our automated testing efforts. Behaviour and implementation testing. The former is better known as <a href="https://www.guru99.com/black-box-testing.html" target="_blank" rel="noopener" title="">black-box testing</a>, while the latter is known as <a href="https://www.guru99.com/white-box-testing.html" target="_blank" rel="noopener" title="">white-box testing</a>.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-black-box-testing">Black-box testing</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>In black-box testing, we assume we know nothing about the code. For example, a user of a mobile app, a website, or a graphical user interface knows nothing about the code, but they are trying to do something very specific on the app, website, or application.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If we had a CFD solver with a graphical user interface and wanted to set up a simulation and run that, then we have a very specific behaviour that we expect from the software; based on the inputs provided, and given that the inputs are all correct, we expect the solver to produce a set of results which we can validate against reference data.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Behavioural tests formalise this process and try to test that the expected behaviour of the code is correct. If you want to write a behaviour test for your CFD solver, with or without a graphical user interface, you can write a behaviour test by providing a test case for which there is an analytic function available (or high-fidelity reference data) and then perform a simulation on it. You can then say if certain integral quantities or RMS errors are within an acceptable range, that your code is working. It exhibits the correct <em>behaviour</em>. We tested the code without looking at any code. </p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-white-box-testing">White-box testing</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>White box testing is the opposite, and in this case, we don't care about the behaviour of the code overall but rather that the code itself is working as expected. This typically results in us writing test code that captures what we think a function should be doing, and then systematically tests the function for different values.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The test function that we provided above to test that our interpolation function is working correctly is an example of white-box testing. We know about the interpolation function code (and thus can reason about what we expected it to do), and we know its arguments and return type, so based on different inputs we expect it to produce a certain expected output. We used <code>assert</code> statements to ensure the correct working of the function.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If the interpolation function is working correctly, though, that doesn't ensure that the entire code base is working as expected. We can have a well-organised test base that checks that our code is doing what it should, but if we then combine these pieces of code in a way that implements incorrect physics, we end up with non-physical results. </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>As a result, we need both white-box and black-box testing to ensure that our codebase is working as expected. In the next section, we look at the different types of tests we have available and see which ones are white-box and black-box testing approaches.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-types-of-automated-tests">Types of automated tests</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>As alluded to above, we now need to choose how we want to test our code. Different approaches will test different aspects of our code, which can be either classified as implementation (white-box) or behaviour (black-box) testing. The list below contains a list of the most common types of tests, but you may come across more for niche-specific applications. For us, the list below will be sufficient to write our own tests.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-unit-tests">Unit tests</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Unit tests are at the heart of testing and the tests you will write most. They test, as the name suggests, individual units, which simply means testing individual functions or methods within classes. The test that we wrote above for the <code>getFaceCentroidValue()</code> is an example of a unit test, where we explicitly tested a single function and its return value.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>By definition, since we are testing a function and making sure that its inner logic is producing the correct result, we are testing the implementation and thus unit testing is classified as a white-box testing approach. They will also make up the bulk of your testing suite.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Should you test every function with unit tests? The simple answer is no, you shouldn't, only those functions that are critical and contribute to the observed behaviour of the system or functions that are so simple that a test would be overkill. The observed behaviour for us is that our CFD solvers are correctly solving a particular case, a mesh generator is able to produce a mesh, and so on.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>A function that prints the content of a class for debugging purposes (or any operator overloading implementation for <code>operator&lt;&lt;()</code>) is an example of a function that is not critical for the solver to produce correct outputs. A <code>set()</code> or <code>get()</code> function is an example of a function which is so simple, that testing it may be considered overkill. Consider the following example:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"double getCFLNumber() { return _cflNumber; }","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetCFLNumber\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() { \u003c/span\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003ereturn\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e _cflNumber; }\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="double getCFLNumber() { return _cflNumber; }" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">getCFLNumber</span><span style="color: #D4D4D4">() { </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> _cflNumber; }</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We can probably all agree that writing a test for this function is unnecessary, as it is very difficult to introduce a bug here while still being able to compile the code. However, sometimes we want to test a different function for which we may need to use <code>set() </code>or <code>get()</code> functions to get the right information from a class. In this case, we are still not testing these setters and getters, but rather use them to get the information from the other function we want to test.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Be warned. Tools exist that will give you a test coverage metric, i.e. it will count every line of code your tests are covering, and then compare that against the lines of code that are not tested. This metric, typically measured in percent, is good for finding parts of your code that are never tested, for example, checking that all branches of an if/else statement are tested. However, whenever we get a number in percent there is a tendency to get it towards 100%, at which point we start writing tests that are completely pointless and don't serve any purpose other than increasing your test coverage.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Let's look at another example. Imagine we want to write a class to read in an STL file, which contains triangles and their normal vector, which are used to represent geometries. Mesh generators like OpenFOAM's snappyHexMesh will use this CAD format to generate a body-fitted volume mesh around the geometry. We may have the following (simplified) class interface:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"class ProcessSTL {\npublic:\n  ProcessSTL(std::filesystem::path filename);\n  ~ProcessSTL();\n  \n  void readFile();\n  void fillHoles();\n  void mergeFreeEdges(double tolerance);\n  \n  std::vector\u0026lt;std::vector\u0026lt;std::vector\u0026lt;double\u003e\u003e\u003e getTriangles();\n  std::vector\u0026lt;std::vector\u0026lt;double\u003e\u003e getNormalVectors();\n};","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eclass\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eProcessSTL\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003epublic:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eProcessSTL\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003efilesystem\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003epath\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003efilename\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e~ProcessSTL\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003evoid\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ereadFile\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003evoid\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003efillHoles\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003evoid\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emergeFreeEdges\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003etolerance\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt;\u0026gt;\u0026gt; \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetTriangles\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt;\u0026gt; \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetNormalVectors\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":12,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="class ProcessSTL {
public:
  ProcessSTL(std::filesystem::path filename);
  ~ProcessSTL();
  
  void readFile();
  void fillHoles();
  void mergeFreeEdges(double tolerance);
  
  std::vector&lt;std::vector&lt;std::vector&lt;double&gt;&gt;&gt; getTriangles();
  std::vector&lt;std::vector&lt;double&gt;&gt; getNormalVectors();
};" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">ProcessSTL</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #569CD6">public:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">ProcessSTL</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">filesystem</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">path</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">filename</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">~ProcessSTL</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">  </span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">readFile</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">fillHoles</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">mergeFreeEdges</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">tolerance</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">vector</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">vector</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">vector</span><span style="color: #D4D4D4">&lt;</span><span style="color: #569CD6">double</span><span style="color: #D4D4D4">&gt;&gt;&gt; </span><span style="color: #DCDCAA">getTriangles</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">vector</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">vector</span><span style="color: #D4D4D4">&lt;</span><span style="color: #569CD6">double</span><span style="color: #D4D4D4">&gt;&gt; </span><span style="color: #DCDCAA">getNormalVectors</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">};</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Which of these functions need a unit test? The constructor and destructor are automatically called whenever we create an object of a class, so these will be implicitly tested. The <code>readFile()</code> is critical for the observed behaviour and so we want to test it. In this case, we need to use the two get() functions on lines 10-11 within our test to get the triangles and normal vectors. Once we have these available in our test, we can test that each triangle has read the correct vertices (coordinates) and normal vector, which we can manually obtain from the file itself. Thus, we have an expected and actual value and can use an <code>assert</code> to ensure both are the same.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The functions <code>fillHoles()</code> and <code>mergeFreeEdges()</code>, without going into detail what these functions would do, would also need to be unit tested. The getters on lines 10-11 would not need to have their own test, as we saw above, they will be implicitly tested during the other tests in some way. But even if they would not be tested anywhere, a <code>get()</code> function does not need to be tested if it consists of only a single instruction/line of code.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-the-anatomy-of-a-unit-test">The anatomy of a unit test</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Since unit tests are so fundamental, and also since they only test individual functions, their structure is fairly predictive and a variety of methods exists to write a unit test. It is best to stick with one, and I will use here the AAA structure, which is a very common unit testing approach. AAA stands for Arrange, Act, Assert. Thus, we have three sections for each unit test. Let's look at the <code>testGetFaceCentroidValue()</code> unit test again, which I have copied below for convenience.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"void testGetFaceCentroidValue() {\n  assert(getFaceCentroidValue(0.0, 0.00, 1.0, 1.00) == 0.00);\n  assert(getFaceCentroidValue(0.0, 0.25, 1.0, 0.75) == 0.25);\n  assert(getFaceCentroidValue(0.0, 0.50, 1.0, 0.50) == 0.50);\n  assert(getFaceCentroidValue(0.0, 0.75, 1.0, 0.25) == 0.75);\n  assert(getFaceCentroidValue(0.0, 1.00, 1.0, 0.00) == 1.00);\n}","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003evoid\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003etestGetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eassert\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) == \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eassert\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.25\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.75\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) == \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.25\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eassert\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.50\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.50\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) == \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.50\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eassert\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.75\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.25\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) == \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.75\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eassert\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) == \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":7,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="void testGetFaceCentroidValue() {
  assert(getFaceCentroidValue(0.0, 0.00, 1.0, 1.00) == 0.00);
  assert(getFaceCentroidValue(0.0, 0.25, 1.0, 0.75) == 0.25);
  assert(getFaceCentroidValue(0.0, 0.50, 1.0, 0.50) == 0.50);
  assert(getFaceCentroidValue(0.0, 0.75, 1.0, 0.25) == 0.75);
  assert(getFaceCentroidValue(0.0, 1.00, 1.0, 0.00) == 1.00);
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">testGetFaceCentroidValue</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">assert</span><span style="color: #D4D4D4">(</span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.00</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.00</span><span style="color: #D4D4D4">) == </span><span style="color: #B5CEA8">0.00</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">assert</span><span style="color: #D4D4D4">(</span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.25</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.75</span><span style="color: #D4D4D4">) == </span><span style="color: #B5CEA8">0.25</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">assert</span><span style="color: #D4D4D4">(</span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.50</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.50</span><span style="color: #D4D4D4">) == </span><span style="color: #B5CEA8">0.50</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">assert</span><span style="color: #D4D4D4">(</span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.75</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.25</span><span style="color: #D4D4D4">) == </span><span style="color: #B5CEA8">0.75</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">assert</span><span style="color: #D4D4D4">(</span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.00</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.00</span><span style="color: #D4D4D4">) == </span><span style="color: #B5CEA8">1.00</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Currently, this test is doing everything at the same time, which makes it compact, but more difficult to distinguish what inputs are and its expected output. Reformatting that into the AAA style would now look like:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"void testGetFaceCentroidValue() {\n  // Arrange\n  double phiOwner = 0.0;\n  double phiNeighbour = 1.0;\n  std::vector\u0026lt;double\u003e distanceOwner {0.00, 0.25, 0.50, 0.75, 1.00};\n  std::vector\u0026lt;double\u003e distanceNeighbour {1.00, 0.75, 0.50, 0.25, 0.00};\n  std::vector\u0026lt;double\u003e expectedValue {0.00, 0.25, 0.50, 0.75, 1.00};\n  std::vector\u0026lt;double\u003e receivedValue(5);\n  \n  // Act\n  for (i = 0; i \u0026lt; 5; ++i)\n    receivedValue[i] = getFaceCentroidValue(phiOwner , distanceOwner[i], phiNeighbour , distanceNeighbour[i]);\n  \n  // Assert\n  for (i = 0; i \u0026lt; 5; ++i)\n    assert(receivedValue[i] == expectedValue[i]);\n}","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003evoid\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003etestGetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // Arrange\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e phiOwner = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e phiNeighbour = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::vector\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt; distanceOwner {\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.25\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.50\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.75\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::vector\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt; distanceNeighbour {\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.75\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.50\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.25\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::vector\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt; expectedValue {\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.25\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.50\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.75\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.00\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::vector\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt; \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ereceivedValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e5\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // Act\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003efor\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (i = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e; i \u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e5\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e; ++i)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ereceivedValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[i] = \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(phiOwner , \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003edistanceOwner\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[i], phiNeighbour , \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003edistanceNeighbour\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[i]);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // Assert\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003efor\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (i = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e; i \u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e5\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e; ++i)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eassert\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ereceivedValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[i] == \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eexpectedValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[i]);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":17,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="void testGetFaceCentroidValue() {
  // Arrange
  double phiOwner = 0.0;
  double phiNeighbour = 1.0;
  std::vector&lt;double&gt; distanceOwner {0.00, 0.25, 0.50, 0.75, 1.00};
  std::vector&lt;double&gt; distanceNeighbour {1.00, 0.75, 0.50, 0.25, 0.00};
  std::vector&lt;double&gt; expectedValue {0.00, 0.25, 0.50, 0.75, 1.00};
  std::vector&lt;double&gt; receivedValue(5);
  
  // Act
  for (i = 0; i &lt; 5; ++i)
    receivedValue[i] = getFaceCentroidValue(phiOwner , distanceOwner[i], phiNeighbour , distanceNeighbour[i]);
  
  // Assert
  for (i = 0; i &lt; 5; ++i)
    assert(receivedValue[i] == expectedValue[i]);
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">testGetFaceCentroidValue</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #6A9955">  // Arrange</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> phiOwner = </span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> phiNeighbour = </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::vector&lt;</span><span style="color: #569CD6">double</span><span style="color: #D4D4D4">&gt; distanceOwner {</span><span style="color: #B5CEA8">0.00</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.25</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.50</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.75</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.00</span><span style="color: #D4D4D4">};</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::vector&lt;</span><span style="color: #569CD6">double</span><span style="color: #D4D4D4">&gt; distanceNeighbour {</span><span style="color: #B5CEA8">1.00</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.75</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.50</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.25</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.00</span><span style="color: #D4D4D4">};</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::vector&lt;</span><span style="color: #569CD6">double</span><span style="color: #D4D4D4">&gt; expectedValue {</span><span style="color: #B5CEA8">0.00</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.25</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.50</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.75</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.00</span><span style="color: #D4D4D4">};</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::vector&lt;</span><span style="color: #569CD6">double</span><span style="color: #D4D4D4">&gt; </span><span style="color: #DCDCAA">receivedValue</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">5</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span></span>
<span class="line"><span style="color: #6A9955">  // Act</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (i = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; i &lt; </span><span style="color: #B5CEA8">5</span><span style="color: #D4D4D4">; ++i)</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">receivedValue</span><span style="color: #D4D4D4">[i] = </span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(phiOwner , </span><span style="color: #9CDCFE">distanceOwner</span><span style="color: #D4D4D4">[i], phiNeighbour , </span><span style="color: #9CDCFE">distanceNeighbour</span><span style="color: #D4D4D4">[i]);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span></span>
<span class="line"><span style="color: #6A9955">  // Assert</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (i = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; i &lt; </span><span style="color: #B5CEA8">5</span><span style="color: #D4D4D4">; ++i)</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">assert</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">receivedValue</span><span style="color: #D4D4D4">[i] == </span><span style="color: #9CDCFE">expectedValue</span><span style="color: #D4D4D4">[i]);</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We see that we made all the required setups in the Arrange section, followed by calling the function we want to test in the Act section, and then we test that the return values of our function under test are correct in the Assert section. Typically, though, we don't bother with providing a range of inputs and then testing for all of these inputs, a typical unit test would contain just a single value for all inputs, so a simplified version of the above code may look like this:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"void testGetFaceCentroidValue() {\n  // Arrange\n  double phiOwner = 0.0;\n  double phiNeighbour = 1.0;\n  double distanceOwner = 0.25;\n  double distanceNeighbour = 0.75;\n  double expectedValue = 0.25;\n  \n  // Act\n  double receivedValue = getFaceCentroidValue(phiOwner , distanceOwner, phiNeighbour , distanceNeighbour);\n  \n  // Assert\n  assert(receivedValue == expectedValue);\n}","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003evoid\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003etestGetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // Arrange\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e phiOwner = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e phiNeighbour = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e distanceOwner = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.25\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e distanceNeighbour = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.75\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e expectedValue = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.25\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // Act\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e receivedValue = \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetFaceCentroidValue\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(phiOwner , distanceOwner, phiNeighbour , distanceNeighbour);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // Assert\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eassert\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(receivedValue == expectedValue);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":14,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="void testGetFaceCentroidValue() {
  // Arrange
  double phiOwner = 0.0;
  double phiNeighbour = 1.0;
  double distanceOwner = 0.25;
  double distanceNeighbour = 0.75;
  double expectedValue = 0.25;
  
  // Act
  double receivedValue = getFaceCentroidValue(phiOwner , distanceOwner, phiNeighbour , distanceNeighbour);
  
  // Assert
  assert(receivedValue == expectedValue);
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">testGetFaceCentroidValue</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #6A9955">  // Arrange</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> phiOwner = </span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> phiNeighbour = </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> distanceOwner = </span><span style="color: #B5CEA8">0.25</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> distanceNeighbour = </span><span style="color: #B5CEA8">0.75</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> expectedValue = </span><span style="color: #B5CEA8">0.25</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span></span>
<span class="line"><span style="color: #6A9955">  // Act</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> receivedValue = </span><span style="color: #DCDCAA">getFaceCentroidValue</span><span style="color: #D4D4D4">(phiOwner , distanceOwner, phiNeighbour , distanceNeighbour);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span></span>
<span class="line"><span style="color: #6A9955">  // Assert</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">assert</span><span style="color: #D4D4D4">(receivedValue == expectedValue);</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We will use a testing framework later and we will see that these frameworks allow us to inject different values for <code>distanceOwner</code> and <code>distanceNeighbour</code>, so we can keep our unit test code structure simple while still testing all boundary cases.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The above test code also highlights another thing; the golden rule of unit testing is that we should have only a single statement in the <code>Act</code> section. If we have to call more than one statement here, it either means we are testing more than one unit (which is not a unit test anymore, but an integration test, see next section), or we have a poor code design, requiring us to call several functions before we can use the function we want to test.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Say, for example, we introduced another function into our <code>ProcessSTL</code> class we looked at above, and we named the function <code>openSTLFile()</code>. If we now want to test the <code>readFile()</code> function, we have to remember first to call the <code>openSTLFile()</code> function, and thus we would have 2 calls in the <code>Act</code> section. This is poor code design. Opening a file is part of the class setup, and thus this should be implemented in the constructor of the class, and thus, again, would be implicitly tested.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-integration-tests">Integration tests</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>As hinted at above, integration tests are, by definition, tests that involve more than one function. The rules here are not hard and fast, this could mean that we want to test all functions within a class, or it could mean that we want to test only a few functions within a class and a few functions from another class. The approach taken here will depend on the observable behaviour.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Since we are moving towards behaviour testing, but still look at individual components and make sure their implementation is working correctly, integration tests sit somewhere in between the spectrum of black-box and white-box testing.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Let's say we are writing a mesh generator which requires an STL file to generate a body-fitted volume mesh around. We could create a geometry of a box with a bounding box of <code>[-1,-1,-1]</code> and <code>[1,1,1]</code>. An integration test could now check, for example, that there are no vertices in the volume mesh that are within the bounding box. This region is occupied by the geometry and thus no mesh is allowed to penetrate into this region.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We are not yet testing if the mesh is correct, but we are testing that one component of the mesh creation process is correct, and thus we would label this an integration test.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Another typical example is that of a <a href="https://cfd.university/learn/how-to-compiler-write-and-use-cfd-libraries-in-c/how-to-write-a-cfd-library-the-sparse-matrix-class" target="_blank" rel="noopener" title="">linear algebra library</a>, something we looked at already. We have a vector and matrix class and we want to make sure that all operators are working correctly. If we want to test that the vector-matrix multiplication is working correctly, we need to test two separate classes in conjunction, and thus a vector-matrix multiplication test would be, by definition, an integration test.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-system-or-end-to-end-tests">System or end-to-end tests</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The highest level we can achieve with automated testing is system tests, sometimes also referred to as end-to-end tests. These are entirely behaviorally driven and test that the observed behaviour of the code is correct. We have already written one system test, which you may not have realised. When we implemented the linear algebra solver library, we wrote a function to test the <a href="https://cfd.university/learn/how-to-compiler-write-and-use-cfd-libraries-in-c/how-to-write-a-cfd-library-the-conjugate-gradient-class" target="_blank" rel="noopener" title="">conjugate gradient algorithm</a> implementation. Specifically, <a href="https://cfd.university/learn/how-to-compiler-write-and-use-cfd-libraries-in-c/how-to-write-a-cfd-library-basic-library-structure" target="_blank" rel="noopener" title="">we implemented a 1D heat equation code</a>, which we used as a test.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Given the nature of a system test, it does not know anything about the underlying code it is testing, there is an expected behaviour that this code should achieve and thus system tests are classified as black-box testing.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>System tests are small versions of the actual application you are trying to achieve. For example, this may be running a specific test case and ensuring that the output is within acceptable ranges (e.g. lift and drag coefficient for an aerofoil simulation). Since these tests are rather time-consuming to execute, you would only have a few of them, or, run them less frequently than your unit and integration test.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Even if they are time-consuming to run, system tests provide us with the best protection against programming mistakes. We may not be able to pinpoint a problem easily due to its black-box nature, but we can identify quickly if our code is working as expected. We add unit and integration tests to the mix which then allow us to identify the area where our code is producing incorrect results and while bugs still can slip through, we will eliminate most of them. </p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-user-acceptance-testing">User acceptance testing</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>User acceptance tests can be broken down into two phases, though depending on the complexity and size of the application, there may be more steps involved. Even if that is the case, all of these steps can be classified as either <a href="https://www.javatpoint.com/alpha-testing-vs-beta-testing" target="_blank" rel="noopener" title="">alpha or beta testing</a>, and these are discussed below. </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>These types of tests are typically run just before the release of software and are purely manual. Different developers may have different approaches to it and using a checklist, for example, is not uncommon. The reason we run user acceptance testing is to identify any bugs that were not anticipated because of how the software is used. This is typically the case for applications that feature a graphical user interface, which are notoriously difficult to test with either one of the three automated tests discussed above.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Let's have a look at alpha and beta testing in some more detail then.   </p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-alpha-testing">Alpha testing</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Once a software project has reached a point at which a new release is planned, all automated tests are run to ensure that the software is behaving as expected. If no more bugs can be identified, then it is time to start to test it as a user would.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Alpha testing happens in-house, meaning mainly the developers are going through the software testing different use cases that they know exist from users. It is a mixture of white-box and black-box testing and if a bug is found, it is patched immediately. As mentioned before, graphical user interfaces are difficult to test automatically, and so this round of testing will cover, for example, whether the graphical user interface is working as expected.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Take ANSYS Fluent for example, their graphical user interface is quite rich and features a lot of different features. If you want to change the properties of the fluid, you go to the material properties and change them. You can reach the material properties from different points in the graphical user interface. If you have set them, and then later decide to change them, and you do so from the button within the boundary conditions, your graphical user interface will break in a spectacular manner (there may be more steps involved, it has been some time I found this bug).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>This demonstrates that different users may use the software differently. And if that isn't covered in any user acceptance test, then it is not discovered and the bug makes it into production code.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-beta-testing">Beta testing</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>After the developers have given the green light and have found no more bugs in the software, it is being released to typically a small group of core users for beta testing. They will then use it as if it were a fully released software and look at the new features to see if they behave as expected for their use cases.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Users typically won't have access to the source code itself and thus it is a purely black-box testing approach. As a result, once a bug is found, it is documented but not fixed immediately. At the end of the beta testing phase, all bugs are reported back to the developers, which then will be fixed.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>At this point, the software is deemed to have passed all testing, there are two options. Either, the software is released immediately to the general public, or, a release candidate is released to a selected group of people. Unlike beta testing, where the software is specifically tested for use cases that break the software, a release candidate is used by people who just want to use the latest version with the understanding that some bugs may or may not still be in the software. These may then still be reported to the developers.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>There can be any number of release candidates, but typically one or two can be found in different projects. After the release candidate, if indeed used, is found to be working as expected, the final release is done of the software, at which point, everyone with access to the software can use it. This is also shown pictographically below.</p>
<!-- /wp:paragraph -->

<!-- wp:image {"align":"center","id":2749,"width":"600px","sizeSlug":"large","linkDestination":"none"} -->
<figure class="wp-block-image aligncenter size-large is-resized"><img src="https://cfd.university/wp-content/uploads/2024/02/software_release_cycle-1024x207.png" alt="" class="wp-image-2749" style="width:600px"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>After the release of the software, there is no guarantee that there are no bugs in the software, these will continuously be reported back to the developers, who will then start to work on fixes. Fixes and updates will continuously be deployed and integrated into the latest release. At this point, the developers start to work on new features for the next release, and the cycle repeats itself.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-the-software-testing-pyramid">Regression testing and the software testing pyramid</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><a href="https://en.wikipedia.org/wiki/Regression_testing" target="_blank" rel="noopener" title="">Regression testing</a> can probably be best described as a testing philosophy rather than a separate testing approach compared to the above-described automatic and manual tests. Ignoring user acceptance testing for the moment, regression tests tell us at what frequency to run our tests.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>But to have an understanding of that, let's first look at the software testing pyramid, which is shown below. </p>
<!-- /wp:paragraph -->

<!-- wp:image {"align":"center","id":2750,"width":"600px","sizeSlug":"large","linkDestination":"none"} -->
<figure class="wp-block-image aligncenter size-large is-resized"><img src="https://cfd.university/wp-content/uploads/2024/02/software_testing_pyramid-1024x752.png" alt="" class="wp-image-2750" style="width:600px"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>At the top, we have our system tests, which are followed by integration, and then finally, unit tests. The extent on the horizontal axis tells us the number of tests we need to have, relative to the other types of tests. We can see that the majority of our tests should be unit tests, followed by integration tests. The least amount of tests we should have are system tests.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The vertical axis shows us the time it takes to execute these tests. Unit tests must execute in a fraction of a second. We want to have hundreds, thousands, or tens of thousands of these unit tests so execution speed is really key here.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If we think about it, it makes sense. If unit tests are supposed to test each function individually and then integration tests are supposed to test different units (functions) in combination, we will have, by definition, more unit than integration tests. And, if system tests cover the entire code base, there may then be substantially fewer system tests than integration tests.  </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Looking back at regression testing and knowing the time it takes to execute each type of test, it is common to run all unit tests after during the development cycle. Depending on the complexity of the software, we can separate unit tests into separate groups and may choose to run only a subset of the unit tests, specifically those that test the class/classes we are modifying. If one of the tests is failing, it is called a regression (another word for bug), hence the name regression testing.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Once the feature is implemented and the unit tests are no longer failing, integration and system tests may be run. I like to run the integration tests alongside my unit tests as well, and there is no right or wrong here, as long as we run our tests systematically during testing. Once we are happy that the feature we have implemented is finished, we run the system tests to ensure that the observed behaviour of the code has not changed.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-">Mocking dependencies</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>So far, we have assumed that all code can be easily tested, although we also pointed out that graphical user interfaces are notoriously difficult to test (that doesn't mean that they can't be tested). But there are times were we just can't provide a reliable test because we have dependencies that can't be replicated. For console applications like a CFD solver, this is not as much of an issue, but if we look outside our application area, we will find countless examples.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Take for example a weather forecast mobile application. You may want to implement a feature to check if today is the hottest day on record. For that, you need two things; the ability to check the current temperature and a database consisting of all recorded maximum temperatures for the previous decades.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>With what we have learned so far, we would write a test that checks what the temperature currently is (using some form of online request, typically using a <a href="https://www.smashingmagazine.com/2018/01/understanding-using-rest-api/" target="_blank" rel="noopener" title="">REST API</a>) and then check what the hottest day was on record in the database. However, this approach is missing the point and is actually pointless as a test.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The chances that today is the hottest day on record are slim, especially if we are developing this feature in winter. We don't want to wait until summer only for us to be able to run our tests (and even then, it may not be the hottest day). So, whatever part in our code is responsible for updating the database with the new temperature is likely never executed and tested.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p> Even if we are developing in summer and the day we are testing happens to be the hottest day on record, then we still don't want to rely on data that we have to request over the internet. This approach takes time and thus our unit tests will be very slow to execute automatically, especially if we perform a few of these web requests.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The other issue is the database, this is a database used in production, i.e. for our real application, and we don't want to overwrite anything on it based on our tests. We also don't want to use it as it may, again, be a large database and reading and writing data to it may be too slow for our aim of unit test not taking more than a fraction of a second to complete.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>In other words, we have two dependencies in our test and which we don't want to use. This is where mocking comes in. A mocking object will pretend to be whatever you tell it to be, in this case, a response from a web server, or a class that has access to a database which it can read and write to.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>When you make a call to the web service to get the current temperature, you are not passing in the actual web service, but the mocked object that now pretends to be this web service. You tell the mocked object which values to return, for example, whenever we call a function on the web service (or now mocked object) called <code>getTemperature()</code>. Since we can hardcode this value now, we can test different parts of our code, i.e. we can test what happens if today is the hottest day or not. We get to exercise all parts of the code.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>For the database, we may then have a class that has two functions which are <code>getHottestDateOnRecord()</code> and <code>writeHottestDateOnRecord()</code>. We can hardcode what the hottest day on record is and with the mocked web service dependency, we know exactly which part of our code will be executed. We can write the hottest day the the database if we want and mock that part as well.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If we want to apply that now to a more CFD-based solution, we have several possibilities. If we say that any dependency is bad and we want to avoid it, then we can mock every dependency in a unit or integration test. For example, if we want to test our vector-matrix multiplication example from earlier, and we decide that this calculation belongs in the matrix class, then the vector class is a dependency and needs to be mocked. There is no need to do so, as the vector class can be cheaply executed, but it is simply a matter of taste.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>These two types of testing philosophy can be classified into the <em>classical</em> and the <em>London school of unit testing</em>. In the classical school approach, we allow for dependencies and so in the matrix-vector multiplication tests, we would use the real vector class. In the London school approach, we replace all dependencies with mocks, as long as they are <em>mutable</em>. Mutable is another fancy term for <em>can change</em> in computer science, and here simply means that the object itself can change its internal state over time. We may change the values in the vector, and so it is <em>mutable</em>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>I personally favour the classical school of unit testing, because the point of testing is to exercise the code as much as possible, so why would I mock away dependencies that give me additional protection against regressions? This is a personal choice and you may disagree, but if you do follow the same approach as me, you will see that there will be rarely, if ever, the need to use mocks. </p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-">Summary</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>In this article, we looked at the most common tests that we want to execute during any software development cycle. Starting with manual tests and why they are perhaps not the best choice, we looked at automated tests and how we can integrate them into our development workflow. We classified our tests into white-box and black-box testing approaches and showed that a combination of them gives us the best protection against software defects.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Specifically, we looked at unit, integration, and system (or end-to-end) tests, and saw how many of each we need in relation to each other to perform regression testing, an approach to protect us from unwanted bugs that creep in during the software development. We also looked at user acceptance testing and how this requires manual effort but additional protection against regressions that are difficult to capture in automated tests.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p> Finally, we also looked at mocking, a concept less frequently required for pure console-based applications but one that may be important to mock away any dependencies that may exist in the code that should not be used during testing.</p>
<!-- /wp:paragraph -->