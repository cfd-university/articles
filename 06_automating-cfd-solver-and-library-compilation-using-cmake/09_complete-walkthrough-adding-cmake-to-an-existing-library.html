<!-- Complete walkthrough: Adding CMake to an existing library -->
<!-- https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/complete-walkthrough-adding-cmake-to-an-existing-library/ -->

<!-- wp:paragraph -->
<p>In this article, we will explore how we can take two libraries we have developed before on this website (namely the <a href="https://cfd.university/learn/how-to-compile-write-and-use-cfd-libraries-in-c/" target="_blank" rel="noopener" title="">linear algebra solver library</a> and the <a href="https://cfd.university/learn/the-complete-guide-to-structured-and-unstructured-mesh-reading-using-cgns/" target="_blank" rel="noopener" title="">mesh reader library</a>) and add CMake scripts to them to fully automate the compilation and deployment stages from configuring the project to compilation, testing, documentation generation, installation, and packaging.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>By the end of this article, you will have a firm understanding of how to transform any library into a CMake-based project or start writing your own projects from scratch with a CMake build structure in mind. This is a powerful tool and can remove so many headaches when building and deploying software. The time you invest now in reading and learning about how to structure your CMake libraries will save you hours in the future debugging build processes, so see this article as an investment to save yourself time in the future!</p>
<!-- /wp:paragraph -->

<!-- wp:block {"ref":2490} /-->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li><strong>Download</strong>: <a href="https://cfd.university/download/build-systems-part-9-meshreaderlib-2/?tmstv=1720358286&amp;v=4004" title="">Build-Systems-Part-9-meshReaderLib</a></li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><strong>Download</strong>: <a href="https://cfd.university/download/build-systems-part-9-linearalgebrasolverlib-2/?tmstv=1720358287&amp;v=4006" title="">Build-Systems-Part-9-linearAlgebraLib</a></li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><strong>Download</strong>: <a href="https://cfd.university/download/build-systems-part-9-testing/?tmstv=1720154571&amp;v=3991" title="">Build-Systems-Part-9-testing</a></li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:heading -->
<h2 class="wp-block-heading">In this series</h2>
<!-- /wp:heading -->

<!-- wp:shortcode -->
[custom_category_posts_list category_slug="automating-cfd-solver-and-library-compilation-using-cmake"]
<!-- /wp:shortcode -->

<!-- wp:heading -->
<h2 class="wp-block-heading">In this article</h2>
<!-- /wp:heading -->

<!-- wp:aioseo/table-of-contents {"headings":[{"id":8,"blockClientId":"fe4dcda3-a96e-4d36-b6de-9e51f6aa575c","content":"Introduction: Revisiting the mesh reader and linear algebra library","level":2,"anchor":"aioseo-introduction-revisiting-the-mesh-reader-and-linear-algebra-library","order":0,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":16,"blockClientId":"3edbc4e6-7a74-4cf5-acd1-07eb787a53af","content":"Preparing the mesh reader library","level":2,"anchor":"aioseo-preparing-the-mesh-reader-library","order":1,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":18,"blockClientId":"9acb4e96-d38a-442c-ac21-121af4fe26ec","content":"Project structure","level":3,"anchor":"aioseo-project-structure","order":2,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":22,"blockClientId":"07a1767d-a83d-4924-ba16-2d13a5fdd8b2","content":"Changes to source files","level":3,"anchor":"aioseo-changes-to-source-files","order":3,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":35,"blockClientId":"914e0bc5-6273-4409-bd45-f85b0bdf0b11","content":"CMake files","level":3,"anchor":"aioseo-cmake-files","order":4,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":37,"blockClientId":"6d9313e5-887e-47b2-8d32-1e9fd64ed968","content":"Top-level CMakeLists.txt file","level":4,"anchor":"aioseo-top-level","order":5,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":41,"blockClientId":"dff59d4d-a088-42da-97bb-4f043e875f06","content":"CMake build files for the mesh reader library","level":4,"anchor":"aioseo-cmake-build-files-for-the-mesh-reader-library","order":6,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":51,"blockClientId":"1b6d66e2-e594-4eb7-9907-2546278b2a39","content":"Optional build arguments","level":4,"anchor":"aioseo-top-level","order":7,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":55,"blockClientId":"963addd7-89d8-423d-b217-1a31fecd810b","content":"Creating the mesh reader library","level":4,"anchor":"aioseo-creating-the-mesh-reader-library","order":8,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":66,"blockClientId":"7f509b94-1713-4ba3-aa73-4f797d4b9e69","content":"Testing the mesh reader library with GTest and CTest","level":4,"anchor":"aioseo-testing-the-mesh-reader-library-with-gtest-and-ctest","order":9,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":77,"blockClientId":"d7b41113-0324-4dc1-927b-7bd3adab6779","content":"Creating the documentation using Doxygen","level":4,"anchor":"aioseo-creating-the-documentation-using-doxygen","order":10,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":83,"blockClientId":"0cdfd81a-fe85-4c44-ad65-4fc07814e766","content":"Installing the library using CMake","level":4,"anchor":"aioseo-installing-the-library-using-cmake","order":11,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":91,"blockClientId":"b8bada7d-55be-4c83-b9c5-ee713e4de08f","content":"Package and install the library using CPack and the Qt Installer Framework (IFW)","level":4,"anchor":"aioseo-package-and-installing-the-library-using-cpack-and-the-qt-installer-framework-ifw","order":12,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]},{"id":94,"blockClientId":"480a7a74-3cf1-4d7f-b978-9a3adb161032","content":"Command line instructions","level":3,"anchor":"aioseo-command-line-instructions","order":13,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":96,"blockClientId":"41770bbb-3c2b-4f28-b8a4-f1f057834d1b","content":"Bringing in additional dependencies","level":4,"anchor":"aioseo-bringing-in-additional-dependencies","order":14,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":104,"blockClientId":"f67da7f9-37b3-45fd-ad71-323fa89aa06d","content":"Configuring the project","level":4,"anchor":"aioseo-configuring-the-project","order":15,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":108,"blockClientId":"1cf5536c-4d34-4f34-8803-75eca09dc45e","content":"Compiling the library","level":4,"anchor":"aioseo-compiling-the-library","order":16,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":111,"blockClientId":"7357ab18-a547-41c9-8df0-dc7adcf2fedc","content":"Testing that everything works","level":4,"anchor":"aioseo-testing-that-everything-works","order":17,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":119,"blockClientId":"ba62e539-8967-4d18-9a42-5c0733c7d4ab","content":"Installing the mesh reader library through the command line","level":4,"anchor":"aioseo-installing-the-mesh-reader-library-through-the-command-line","order":18,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":122,"blockClientId":"74375805-328d-41f9-8d9c-2b192ca480d0","content":"Package the project for easy distribution","level":4,"anchor":"aioseo-package-the-project-for-easy-distribution","order":19,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]}]},{"id":126,"blockClientId":"d5a4a971-0f3b-4434-a5c4-91054388699f","content":"Comments on how to prepare the linear algebra solver library","level":2,"anchor":"aioseo-comments-on-how-to-prepare-the-linear-algebra-solver-library","order":20,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":133,"blockClientId":"112a796e-a88a-40d3-b7a2-488deb0c186d","content":"Testing our newly created CMake-based libraries","level":2,"anchor":"aioseo-testing-our-newly-created-cmake-based-libraries","order":21,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":135,"blockClientId":"dc0ffe1c-e8e1-418c-8648-d5a4022ccbee","content":"Project structure","level":3,"anchor":"aioseo-project-structure","order":22,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":140,"blockClientId":"1702b274-34fb-4b70-8638-e2b7eae9566a","content":"Writing a simple test program","level":3,"anchor":"aioseo-source-file","order":23,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":147,"blockClientId":"fcd3e42e-186c-4178-a4e1-9d8934442f36","content":"Required CMake files to build the project","level":3,"anchor":"aioseo-required-cmake-files-to-build-the-project","order":24,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":157,"blockClientId":"3f8a695d-285e-4fdf-9249-e485cf0a6a90","content":"Getting dependencies with Conan","level":3,"anchor":"aioseo-getting-dependencies-with-conan","order":25,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":162,"blockClientId":"4a9b4f72-0f86-4078-950a-4cdd04681185","content":"Command line instructions","level":3,"anchor":"aioseo-command-line-instructions","order":26,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":164,"blockClientId":"7b3b80b0-f55d-4bd8-80ac-daaa94cfda24","content":"Getting dependencies through Conan","level":4,"anchor":"aioseo-getting-dependencies-through-conan","order":27,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":167,"blockClientId":"f4e35df0-8527-476e-b5f3-407e41f70860","content":"Configuring the project","level":4,"anchor":"aioseo-configuring-the-project","order":28,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":171,"blockClientId":"7a4469a3-d855-48f3-83f8-f0fd40fc280b","content":"Compiling the executable","level":4,"anchor":"aioseo-compiling-the-executable","order":29,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":174,"blockClientId":"42195a25-90d8-464c-a767-45021a264c88","content":"Testing that the executable could resolve all build dependencies","level":4,"anchor":"aioseo-testing-that-the-executable-could-resolve-all-build-dependencies","order":30,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]}]},{"id":182,"blockClientId":"1ba5d814-68b4-4761-85e5-c1ea94d2af3b","content":"Summary","level":2,"anchor":"aioseo-summary","order":31,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]} -->
<div class="wp-block-aioseo-table-of-contents"><ul><li><a href="#aioseo-introduction-revisiting-the-mesh-reader-and-linear-algebra-library">Introduction: Revisiting the mesh reader and linear algebra library</a></li><li><a href="#aioseo-preparing-the-mesh-reader-library">Preparing the mesh reader library</a><ul><li><a href="#aioseo-project-structure">Project structure</a></li><li><a href="#aioseo-changes-to-source-files">Changes to source files</a></li><li><a href="#aioseo-cmake-files">CMake files</a><ul><li><a href="#aioseo-top-level">Top-level CMakeLists.txt file</a></li><li><a href="#aioseo-cmake-build-files-for-the-mesh-reader-library">CMake build files for the mesh reader library</a></li><li><a href="#aioseo-top-level">Optional build arguments</a></li><li><a href="#aioseo-creating-the-mesh-reader-library">Creating the mesh reader library</a></li><li><a href="#aioseo-testing-the-mesh-reader-library-with-gtest-and-ctest">Testing the mesh reader library with GTest and CTest</a></li><li><a href="#aioseo-creating-the-documentation-using-doxygen">Creating the documentation using Doxygen</a></li><li><a href="#aioseo-installing-the-library-using-cmake">Installing the library using CMake</a></li><li><a href="#aioseo-package-and-installing-the-library-using-cpack-and-the-qt-installer-framework-ifw">Package and install the library using CPack and the Qt Installer Framework (IFW)</a></li></ul></li><li><a href="#aioseo-command-line-instructions">Command line instructions</a><ul><li><a href="#aioseo-bringing-in-additional-dependencies">Bringing in additional dependencies</a></li><li><a href="#aioseo-configuring-the-project">Configuring the project</a></li><li><a href="#aioseo-compiling-the-library">Compiling the library</a></li><li><a href="#aioseo-testing-that-everything-works">Testing that everything works</a></li><li><a href="#aioseo-installing-the-mesh-reader-library-through-the-command-line">Installing the mesh reader library through the command line</a></li><li><a href="#aioseo-package-the-project-for-easy-distribution">Package the project for easy distribution</a></li></ul></li></ul></li><li><a href="#aioseo-comments-on-how-to-prepare-the-linear-algebra-solver-library">Comments on how to prepare the linear algebra solver library</a></li><li><a href="#aioseo-testing-our-newly-created-cmake-based-libraries">Testing our newly created CMake-based libraries</a><ul><li><a href="#aioseo-project-structure">Project structure</a></li><li><a href="#aioseo-source-file">Writing a simple test program</a></li><li><a href="#aioseo-required-cmake-files-to-build-the-project">Required CMake files to build the project</a></li><li><a href="#aioseo-getting-dependencies-with-conan">Getting dependencies with Conan</a></li><li><a href="#aioseo-command-line-instructions">Command line instructions</a><ul><li><a href="#aioseo-getting-dependencies-through-conan">Getting dependencies through Conan</a></li><li><a href="#aioseo-configuring-the-project">Configuring the project</a></li><li><a href="#aioseo-compiling-the-executable">Compiling the executable</a></li><li><a href="#aioseo-testing-that-the-executable-could-resolve-all-build-dependencies">Testing that the executable could resolve all build dependencies</a></li></ul></li></ul></li><li><a href="#aioseo-summary">Summary</a></li></ul></div>
<!-- /wp:aioseo/table-of-contents -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-introduction-revisiting-the-mesh-reader-and-linear-algebra-library">Introduction: Revisiting the mesh reader and linear algebra library</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Some time ago, we were looking at developing two separate libraries; <a href="https://cfd.university/learn/how-to-compile-write-and-use-cfd-libraries-in-c/" target="_blank" rel="noopener" title="">one to work with a linear system of equations</a> to solve a vector matrix equation of the form [katex]\mathbf{Ax}=\mathbf{b}[/katex], and <a href="https://cfd.university/learn/the-complete-guide-to-structured-and-unstructured-mesh-reading-using-cgns/" target="_blank" rel="noopener" title="">one for reading structured and unstructured grids</a> using the CGNS file format.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Back then, I did not assume any knowledge of CMake, and so we were writing simple bash scripts for UNIX platforms and PowerShell scripts for Windows to get our libraries compiled. This is working well in a vacuum, i.e. if you only want to show how to implement such a library but have no interest in using it afterwards. However, that goes against the ethos I have for this website; I do want you to be able to work with the solutions we are developing on this site. This means we need to be able to install our libraries and make them available to other users (including yourself).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We didn't look at the installation stage in great depth, but this is what I want to look at in today's article. We will revisit our mesh reading library, as well as the linear algebra solver library, and equip it with CMake files that will steer and automate the entire process from finding dependencies and configuring the project, to building, testing, installing, and packaginf our library.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The steps that we follow in this article are very closely linked to what we have done previously, i.e. where we looked at creating a <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/never-worry-about-docs-again-automate-it-with-cmake-instead" target="_blank" rel="noopener" title="">CMake-based project for our complex number library</a>, which was then extended also to include a <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/how-to-use-cmake-cpack-to-create-beautiful-gui-installers" target="_blank" rel="noopener" title="">packaging stage to create a graphical user interface</a> for our installer. I recommend going through these two first if you have not already done so, as the structure of this project is mirrored here, and there are more in-depth discussions about some of the files found in the project.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The <a href="https://cfd.university/learn/keep-your-users-happy-how-to-document-code-the-right-way/how-to-annotate-c-code-for-automatic-code-documentation" target="_blank" rel="noopener" title="">starting point for both libraries</a> is the ones we have developed during the <a href="https://cfd.university/learn/keep-your-users-happy-how-to-document-code-the-right-way/" target="_blank" rel="noopener" title="">documentation series</a>, i.e. where we have equipped both the mesh reading and linear algebra solver library with <a href="https://www.doxygen.nl/" target="_blank" rel="noopener" title="">Doxygen</a>-based documentation. This means we can also automate the documentation process with CMake as well as we have <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/never-worry-about-docs-again-automate-it-with-cmake-instead" target="_blank" rel="noopener" title="">previously seen</a>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We will start with the mesh reader library, and I will show you how to change the existing library into a structure that CMake can easily use. As alluded to above, we will mirror the <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/how-to-use-cmake-cpack-to-create-beautiful-gui-installers#aioseo-project-structure" target="_blank" rel="noopener" title="">project structure for our complex number library</a>. I'll make some comments on how to extend this for the linear algebra solver library as well, but we won't look through all the files again as there aren't that many differences.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Let's get started then and bring both our previously developed libraries into the 21<sup>st</sup> century!</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-preparing-the-mesh-reader-library">Preparing the mesh reader library</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>In this section, we will go through in detail what changes we have to make to our library. These will be mainly looking at the CMake-based files we have to create, but we will also look at some changes to the source code (not because it is required but because I discovered some bugs along the way that were lingering in our originally developed library!).</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-project-structure">Project structure</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Let's start with our project structure. As mentioned above, this is pretty much exactly the same as the complex number library. The <code>build/</code> folder will contain all of our build artefacts, the <code>cmake/</code> folder contains all relevant CMake scripts to steer various parts of the build process, <code>docs/</code> contains all required input, styling, and user guide files to build our documentation within <code>mesh/</code> we have our test grids (that we will use in the various tests found in the <code>tests/</code> folder), and, finally, <code>meshReaderLib/</code> contains the mesh reading library itself.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"root\n├── build/\n├── cmake/\n│   ├── resources/\n│   │   ├── logo.icns\n│   │   ├── logo.ico\n│   │   └── logo.png\n│   ├── docs.cmake\n│   ├── install.cmake\n│   ├── makeLibrary.cmake\n│   ├── meshReaderLibConfig.cmake.in\n│   ├── options.cmake\n│   ├── packaging.cmake\n│   └── tests.cmake\n├── docs/\n│   ├── doxygen-awesome-css-2.3.2/\n│   │   └── ...\n│   ├── figures/\n│   │   └── logo.png\n│   ├── userGuide/\n│   │   ├── index.md\n│   │   ├── installation.md\n│   │   ├── introduction.md\n│   │   └── usage.md\n│   └── Doxyfile.in\n├── mesh/\n│   ├── structured2D.cgns\n│   ├── structured2DNoFamily.cgns\n│   ├── unstructured2D.cgns\n│   └── unstructured2DNoFamily.cgns\n├── meshReaderLib/\n│   ├── include/\n│   │   ├── CMakeLists.txt\n│   │   ├── readMeshBase.hpp\n│   │   ├── readStructuredMesh.hpp\n│   │   ├── readUnstructuredMesh.hpp\n│   │   └── types.hpp\n│   ├── src/\n│   │   ├── CMakeLists.txt\n│   │   ├── readMeshBase.cpp\n│   │   ├── readStructuredMesh.cpp\n│   │   └── readUnstructuredMesh.cpp\n│   ├── CMakeLists.txt\n│   └── meshReader.hpp\n├── tests/\n│   ├── unit/\n│   │   ├── CMakeLists.txt\n│   │   ├── testStructuredMesh.cpp\n│   │   └── testUnstructuredMesh.cpp\n│   └── CMakeLists.txt\n├── CMakeLists.txt\n├── conanfile.txt\n├── LICENSE\n└── README.md","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eroot\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── build/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── cmake/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── resources/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── logo.icns\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── logo.ico\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   └── logo.png\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── docs.cmake\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── install.cmake\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── makeLibrary.cmake\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── meshReaderLibConfig.cmake.in\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── options.cmake\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── packaging.cmake\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   └── tests.cmake\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── docs/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── doxygen-awesome-css-2.3.2/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   └── ...\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── figures/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   └── logo.png\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── userGuide/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── index.md\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── installation.md\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── introduction.md\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   └── usage.md\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   └── Doxyfile.in\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── mesh/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── structured2D.cgns\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── structured2DNoFamily.cgns\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── unstructured2D.cgns\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   └── unstructured2DNoFamily.cgns\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── meshReaderLib/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── include/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── CMakeLists.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── readMeshBase.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── readStructuredMesh.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── readUnstructuredMesh.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   └── types.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── src/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── CMakeLists.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── readMeshBase.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── readStructuredMesh.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   └── readUnstructuredMesh.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── CMakeLists.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   └── meshReader.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── tests/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   ├── unit/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── CMakeLists.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   ├── testStructuredMesh.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   │   └── testUnstructuredMesh.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   └── CMakeLists.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── CMakeLists.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── conanfile.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── LICENSE\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e└── README.md\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"plaintext","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":54,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="root
├── build/
├── cmake/
│   ├── resources/
│   │   ├── logo.icns
│   │   ├── logo.ico
│   │   └── logo.png
│   ├── docs.cmake
│   ├── install.cmake
│   ├── makeLibrary.cmake
│   ├── meshReaderLibConfig.cmake.in
│   ├── options.cmake
│   ├── packaging.cmake
│   └── tests.cmake
├── docs/
│   ├── doxygen-awesome-css-2.3.2/
│   │   └── ...
│   ├── figures/
│   │   └── logo.png
│   ├── userGuide/
│   │   ├── index.md
│   │   ├── installation.md
│   │   ├── introduction.md
│   │   └── usage.md
│   └── Doxyfile.in
├── mesh/
│   ├── structured2D.cgns
│   ├── structured2DNoFamily.cgns
│   ├── unstructured2D.cgns
│   └── unstructured2DNoFamily.cgns
├── meshReaderLib/
│   ├── include/
│   │   ├── CMakeLists.txt
│   │   ├── readMeshBase.hpp
│   │   ├── readStructuredMesh.hpp
│   │   ├── readUnstructuredMesh.hpp
│   │   └── types.hpp
│   ├── src/
│   │   ├── CMakeLists.txt
│   │   ├── readMeshBase.cpp
│   │   ├── readStructuredMesh.cpp
│   │   └── readUnstructuredMesh.cpp
│   ├── CMakeLists.txt
│   └── meshReader.hpp
├── tests/
│   ├── unit/
│   │   ├── CMakeLists.txt
│   │   ├── testStructuredMesh.cpp
│   │   └── testUnstructuredMesh.cpp
│   └── CMakeLists.txt
├── CMakeLists.txt
├── conanfile.txt
├── LICENSE
└── README.md" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">root</span></span>
<span class="line"><span style="color: #D4D4D4">├── build/</span></span>
<span class="line"><span style="color: #D4D4D4">├── cmake/</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── resources/</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── logo.icns</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── logo.ico</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   └── logo.png</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── docs.cmake</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── install.cmake</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── makeLibrary.cmake</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── meshReaderLibConfig.cmake.in</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── options.cmake</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── packaging.cmake</span></span>
<span class="line"><span style="color: #D4D4D4">│   └── tests.cmake</span></span>
<span class="line"><span style="color: #D4D4D4">├── docs/</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── doxygen-awesome-css-2.3.2/</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   └── ...</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── figures/</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   └── logo.png</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── userGuide/</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── index.md</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── installation.md</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── introduction.md</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   └── usage.md</span></span>
<span class="line"><span style="color: #D4D4D4">│   └── Doxyfile.in</span></span>
<span class="line"><span style="color: #D4D4D4">├── mesh/</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── structured2D.cgns</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── structured2DNoFamily.cgns</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── unstructured2D.cgns</span></span>
<span class="line"><span style="color: #D4D4D4">│   └── unstructured2DNoFamily.cgns</span></span>
<span class="line"><span style="color: #D4D4D4">├── meshReaderLib/</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── include/</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── CMakeLists.txt</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── readMeshBase.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── readStructuredMesh.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── readUnstructuredMesh.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   └── types.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── src/</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── CMakeLists.txt</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── readMeshBase.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── readStructuredMesh.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   └── readUnstructuredMesh.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── CMakeLists.txt</span></span>
<span class="line"><span style="color: #D4D4D4">│   └── meshReader.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">├── tests/</span></span>
<span class="line"><span style="color: #D4D4D4">│   ├── unit/</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── CMakeLists.txt</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   ├── testStructuredMesh.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">│   │   └── testUnstructuredMesh.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">│   └── CMakeLists.txt</span></span>
<span class="line"><span style="color: #D4D4D4">├── CMakeLists.txt</span></span>
<span class="line"><span style="color: #D4D4D4">├── conanfile.txt</span></span>
<span class="line"><span style="color: #D4D4D4">├── LICENSE</span></span>
<span class="line"><span style="color: #D4D4D4">└── README.md</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We have a top-level <code>CMakeLists.txt</code> file that we will look at in a second, the <code>conanfile.txt</code> so that we can bring all dependencies (not the mesh reader lib, but the dependencies it depends on, i.e. here, the CGNS library), as well as the <code>LICENSE</code> and <code>README.md</code> file.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-changes-to-source-files">Changes to source files</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Within the <code>meshReaderLib/</code> folder, we store all of our source and header files. We are going to leave them as they are, and I am not going anywhere near trying to explain their content; for that, we have <a href="https://cfd.university/learn/the-complete-guide-to-structured-and-unstructured-mesh-reading-using-cgns/" target="_blank" rel="noopener" title="">a dedicated series that explains each file</a> line-by-line. If you haven't already gone through this series but want to know how to read a structured and unstructured grid, then this series is for you!</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>I want to talk about a few minor changes I made, though, as I was going through the development of this project, as it is common to discover some bugs here and there despite all the tests we wrote before. In particular, I am looking at the <code>getStartLocationForElementConnectivity</code>() function in the <code>ReadUnstructuredMesh</code> class. Without going into much detail, all elements within the internal mesh, the boundaries, and any interfaces, are all written into the same array, and so we need to separate them.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We do this by determining the start location of each element type (internal, boundary, or interface element) and storing that in different arrays. We may have more than one interface or boundary, or we may have different element types for the internal mesh (i.e. triangles and quads). Thus, we need to record the start location of each element within an array. For more details, please see the <a href="https://cfd.university/learn/the-complete-guide-to-structured-and-unstructured-mesh-reading-using-cgns/how-to-read-a-multi-block-unstructured-mesh-from-a-cgns-file/#aioseo-getting-start-location-for-elements-in-connectivity-array" target="_blank" rel="noopener" title="">original write-up for the unstructured mesh reading class</a>, where I talk about the necessity of this function and how it works.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>At some point, we have code like the one shown below:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cgsize_t donorData, points;\n\nif (cg_conn_read(_fileIndex, 1, zone + 1, interface + 1, \u0026amp;points, donorDataType, \u0026amp;donorData)) cg_error_exit();\n\ninterfaceElementStart[zone].push_back(points);","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003ecgsize_t\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e donorData, points;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecg_conn_read\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(_fileIndex, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, zone + \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, interface + \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u0026amp;points, donorDataType, \u0026amp;donorData)) \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecg_error_exit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003einterfaceElementStart\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[zone].\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003epush_back\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(points);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":5,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cgsize_t donorData, points;

if (cg_conn_read(_fileIndex, 1, zone + 1, interface + 1, &amp;points, donorDataType, &amp;donorData)) cg_error_exit();

interfaceElementStart[zone].push_back(points);" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #4EC9B0">cgsize_t</span><span style="color: #D4D4D4"> donorData, points;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (</span><span style="color: #DCDCAA">cg_conn_read</span><span style="color: #D4D4D4">(_fileIndex, </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, zone + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, interface + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, &amp;points, donorDataType, &amp;donorData)) </span><span style="color: #DCDCAA">cg_error_exit</span><span style="color: #D4D4D4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #9CDCFE">interfaceElementStart</span><span style="color: #D4D4D4">[zone].</span><span style="color: #DCDCAA">push_back</span><span style="color: #D4D4D4">(points);</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Here, we read the points (vertices) that are located within a given <code>zone</code> and <code>interface</code>. We see that the <code>points</code> variable is of size <code>cgsize_t</code>, which wraps around <code>size_t</code>, which in turn is a <code>long int</code> on my system. Do you see the problem? We define a single variable to hold a number of points. This means that the <code>cg_conn_read()</code> function is asking for an address to write these points to, which we do provide by providing the address of points, i.e. <code>&amp;points</code>, but it can only hold a single value and <code>cg_conn_read()</code> may write more than one point if we have several in our interface.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Since we are essentially dealing with pointers here (technically, we don't have pointers, but we are working with memory addresses here, which is what pointers are doing), the code will compiled. It will even run without causing any issues, but on certain platforms, under certain conditions, you will get a runtime error (which you can ignore, and the code works fine again; at least, this is my observed behaviour during testing).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>When I say certain platforms, Windows is the only one pointing out this issue. I did not receive any warning on UNIX when testing this code. Well done Bill Gates, sometimes Windows is surprising me with a glimpse of competency. <a href="https://formula1news.co.uk/airline-mocks-lance-stroll-for-being-a-pay-driver/" target="_blank" rel="noopener" title="">Just like Lance Stroll</a>, but let's not go there.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So, the fix is rather straightforward: we have to declare a <code>std::vector</code> and let the <code>points</code> array (as well as the <code>donorData</code> array, which we aren't using, though) be of a certain length (which we obtain by a call to <code>cg_conn_info()</code> which is not shown here). This is shown below:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"std::vector\u0026lt;cgsize_t\u003e points(numberOfPoints);\nstd::vector\u0026lt;cgsize_t\u003e donorData(numberOfDonorCells);\n\nif (cg_conn_read(_fileIndex, 1, zone + 1, interface + 1, \u0026amp;points[0], donorDataType, \u0026amp;donorData[0]))\n  cg_error_exit();\n  \ninterfaceElementStart[zone].push_back(points[0]);","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003ecgsize_t\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt; \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003epoints\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003enumberOfPoints\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003ecgsize_t\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt; \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003edonorData\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003enumberOfDonorCells\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecg_conn_read\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(_fileIndex, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, zone + \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, interface + \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u0026amp;\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003epoints\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e], donorDataType, \u0026amp;\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003edonorData\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e]))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecg_error_exit\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003einterfaceElementStart\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[zone].\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003epush_back\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003epoints\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e]);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":7,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="std::vector&lt;cgsize_t&gt; points(numberOfPoints);
std::vector&lt;cgsize_t&gt; donorData(numberOfDonorCells);

if (cg_conn_read(_fileIndex, 1, zone + 1, interface + 1, &amp;points[0], donorDataType, &amp;donorData[0]))
  cg_error_exit();
  
interfaceElementStart[zone].push_back(points[0]);" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">vector</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">cgsize_t</span><span style="color: #D4D4D4">&gt; </span><span style="color: #DCDCAA">points</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">numberOfPoints</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">vector</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">cgsize_t</span><span style="color: #D4D4D4">&gt; </span><span style="color: #DCDCAA">donorData</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">numberOfDonorCells</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (</span><span style="color: #DCDCAA">cg_conn_read</span><span style="color: #D4D4D4">(_fileIndex, </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, zone + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, interface + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, &amp;</span><span style="color: #9CDCFE">points</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">], donorDataType, &amp;</span><span style="color: #9CDCFE">donorData</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">]))</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">cg_error_exit</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">  </span></span>
<span class="line"><span style="color: #9CDCFE">interfaceElementStart</span><span style="color: #D4D4D4">[zone].</span><span style="color: #DCDCAA">push_back</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">points</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">]);</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Since we are now working with an array structure, it is not sufficient to pass the address of the array, but we need to specify the first element we want to write to. In this case, we want to write to the first location, so we specify <code>&amp;points[0]</code>. Then, instead of pushing just <code>points</code> to the <code>interfaceElementStart</code> <code>std::vector</code> on line 7, we specifically request only the first point, as this will be the start location, to be inserted into the <code>std::vector</code>. Quick fix!</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>There were a few more places (three or four) where I did a very similar fix; the nature of the runtime error is the same, as is the fix, so there is no need to dwell on them. The code that you can download at the beginning of this article contains all these bug fixes.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-cmake-files">CMake files</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The CMake files are essentially a copy and paste of the complex number library example. which was first discussed at length during the <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/never-worry-about-docs-again-automate-it-with-cmake-instead#aioseo-cmake-build-scripts" target="_blank" rel="noopener" title="">documentation automation article</a> and  then enhanced by the <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/how-to-use-cmake-cpack-to-create-beautiful-gui-installers#aioseo-cmake-build-scripts" target="_blank" rel="noopener" title="">article on packaging</a> using a graphical installer. For completeness, all files are listed here, but there won't be as much detail here, please feel free to read the previous two articles first (at least the part on the CMake scripts) and then return here.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-top-level">Top-level CMakeLists.txt file</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The top-level <code>CMakeLists.txt</code> file follows a predictable pattern; first, we require at least CMake version 3.23 to work with the <code>FILE_SET</code> header functionality, which is the latest introduced feature that we use throughout our CMake build scripts, and a call to the <code>project()</code> command, which sets some essential meta description. We also require at least a C++ standard of 2017, as we are using the <code>filesystem</code> header in this project, which was not available before the 2017 standard. Seriously, until 2017 we weren't able to deal with files in a sensible way in C++ ...</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cmake_minimum_required(VERSION 3.23)\n\nproject(meshReaderLib\n  LANGUAGES CXX\n  VERSION 1.0.0\n  DESCRIPTION \u0022A C++ library to read structured and unstructured grids for CFD applications\u0022\n)\n\n# Set the C++ standard to at least C++17\nset(CMAKE_CXX_STANDARD 17)\nset(CMAKE_CXX_STANDARD_REQUIRED ON)\n\n# include custom options\ninclude(cmake/options.cmake)\n\n# create mesh reader library target\ninclude(cmake/makeLibrary.cmake)\n\n# go through the meshReaderLib/ subdirectory and add any files to the library as needed\nadd_subdirectory(meshReaderLib)\n\n# add tests if requested\ninclude(cmake/tests.cmake)\n\n# create the documentation if requested\ninclude(cmake/docs.cmake)\n\n# install the library and its headers\ninclude(cmake/install.cmake)\n\n# package the project with a cross-platform GUI installer\ninclude(cmake/packaging.cmake)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ecmake_minimum_required\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(VERSION 3.23)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eproject\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(meshReaderLib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  LANGUAGES CXX\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  VERSION 1.0.0\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  DESCRIPTION \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;A C++ library to read structured and unstructured grids for CFD applications\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Set the C++ standard to at least C++17\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CMAKE_CXX_STANDARD 17)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CMAKE_CXX_STANDARD_REQUIRED \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eON\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# include custom options\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(cmake/options.cmake)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# create mesh reader library target\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(cmake/makeLibrary.cmake)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# go through the meshReaderLib/ subdirectory and add any files to the library as needed\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eadd_subdirectory\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(meshReaderLib)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# add tests if requested\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(cmake/tests.cmake)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# create the documentation if requested\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(cmake/docs.cmake)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# install the library and its headers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(cmake/install.cmake)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# package the project with a cross-platform GUI installer\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(cmake/packaging.cmake)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":32,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cmake_minimum_required(VERSION 3.23)

project(meshReaderLib
  LANGUAGES CXX
  VERSION 1.0.0
  DESCRIPTION &quot;A C++ library to read structured and unstructured grids for CFD applications&quot;
)

# Set the C++ standard to at least C++17
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# include custom options
include(cmake/options.cmake)

# create mesh reader library target
include(cmake/makeLibrary.cmake)

# go through the meshReaderLib/ subdirectory and add any files to the library as needed
add_subdirectory(meshReaderLib)

# add tests if requested
include(cmake/tests.cmake)

# create the documentation if requested
include(cmake/docs.cmake)

# install the library and its headers
include(cmake/install.cmake)

# package the project with a cross-platform GUI installer
include(cmake/packaging.cmake)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">cmake_minimum_required</span><span style="color: #D4D4D4">(VERSION 3.23)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">project</span><span style="color: #D4D4D4">(meshReaderLib</span></span>
<span class="line"><span style="color: #D4D4D4">  LANGUAGES CXX</span></span>
<span class="line"><span style="color: #D4D4D4">  VERSION 1.0.0</span></span>
<span class="line"><span style="color: #D4D4D4">  DESCRIPTION </span><span style="color: #CE9178">&quot;A C++ library to read structured and unstructured grids for CFD applications&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Set the C++ standard to at least C++17</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CMAKE_CXX_STANDARD 17)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CMAKE_CXX_STANDARD_REQUIRED </span><span style="color: #569CD6">ON</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># include custom options</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(cmake/options.cmake)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># create mesh reader library target</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(cmake/makeLibrary.cmake)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># go through the meshReaderLib/ subdirectory and add any files to the library as needed</span></span>
<span class="line"><span style="color: #569CD6">add_subdirectory</span><span style="color: #D4D4D4">(meshReaderLib)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># add tests if requested</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(cmake/tests.cmake)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># create the documentation if requested</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(cmake/docs.cmake)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># install the library and its headers</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(cmake/install.cmake)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># package the project with a cross-platform GUI installer</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(cmake/packaging.cmake)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We then delegate various tasks of the build process to various scripts, which we include here, just as we did in the complex number library example. One difference here is the CMake files within the <code>meshReaderLib/</code> directory, although we are still using the same calls, just adapted to a different folder structure. This is explored in the next section.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-cmake-build-files-for-the-mesh-reader-library">CMake build files for the mesh reader library</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Within the <code>meshReaderLib/</code> folder, we have three <code>CMakeLists.txt</code> files. One within the folder itself, and then one each within the <code>include/</code> and <code>src/</code> folder. The CMake file in the <code>meshReaderLib/</code> folder is given below:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"add_subdirectory(include)\nadd_subdirectory(src)\n\ntarget_sources(${CMAKE_PROJECT_NAME}\n  PUBLIC FILE_SET HEADERS\n  BASE_DIRS ${PROJECT_SOURCE_DIR}\n  FILES ${CMAKE_CURRENT_SOURCE_DIR}/meshReader.hpp\n)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eadd_subdirectory\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(include)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eadd_subdirectory\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(src)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003etarget_sources\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  PUBLIC FILE_SET HEADERS\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  BASE_DIRS \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${PROJECT_SOURCE_DIR}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  FILES \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/meshReader.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":8,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="add_subdirectory(include)
add_subdirectory(src)

target_sources(${CMAKE_PROJECT_NAME}
  PUBLIC FILE_SET HEADERS
  BASE_DIRS ${PROJECT_SOURCE_DIR}
  FILES ${CMAKE_CURRENT_SOURCE_DIR}/meshReader.hpp
)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">add_subdirectory</span><span style="color: #D4D4D4">(include)</span></span>
<span class="line"><span style="color: #569CD6">add_subdirectory</span><span style="color: #D4D4D4">(src)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">target_sources</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span></span>
<span class="line"><span style="color: #D4D4D4">  PUBLIC FILE_SET HEADERS</span></span>
<span class="line"><span style="color: #D4D4D4">  BASE_DIRS </span><span style="color: #569CD6">${PROJECT_SOURCE_DIR}</span></span>
<span class="line"><span style="color: #D4D4D4">  FILES </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/meshReader.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We say that we want to include the <code>CMakeLists.txt</code> files within the <code>include/</code> and <code>src/</code> directory on lines 1-2, and then we add the main header include file, i.e. <code>meshReaderLib/meshReader.hpp</code> on lines 4-8. This is the file we need to include later in our project so that we can use this library. We designate this file to be within the <code>HEADERS</code> group of the <code>FILE_SET</code> command, which will ensure that this file will get installed as part of the installation step.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Within the <code>meshReaderLib/include/CMakeLists.txt</code> file, we have the following content: </p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"target_sources(${CMAKE_PROJECT_NAME}\n  PUBLIC FILE_SET HEADERS\n  BASE_DIRS ${PROJECT_SOURCE_DIR}\n  FILES\n    ${CMAKE_CURRENT_SOURCE_DIR}/readMeshBase.hpp\n    ${CMAKE_CURRENT_SOURCE_DIR}/readStructuredMesh.hpp\n    ${CMAKE_CURRENT_SOURCE_DIR}/readUnstructuredMesh.hpp\n    ${CMAKE_CURRENT_SOURCE_DIR}/types.hpp\n)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003etarget_sources\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  PUBLIC FILE_SET HEADERS\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  BASE_DIRS \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${PROJECT_SOURCE_DIR}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  FILES\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/readMeshBase.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/readStructuredMesh.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/readUnstructuredMesh.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/types.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":9,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="target_sources(${CMAKE_PROJECT_NAME}
  PUBLIC FILE_SET HEADERS
  BASE_DIRS ${PROJECT_SOURCE_DIR}
  FILES
    ${CMAKE_CURRENT_SOURCE_DIR}/readMeshBase.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/readStructuredMesh.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/readUnstructuredMesh.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/types.hpp
)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">target_sources</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span></span>
<span class="line"><span style="color: #D4D4D4">  PUBLIC FILE_SET HEADERS</span></span>
<span class="line"><span style="color: #D4D4D4">  BASE_DIRS </span><span style="color: #569CD6">${PROJECT_SOURCE_DIR}</span></span>
<span class="line"><span style="color: #D4D4D4">  FILES</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/readMeshBase.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/readStructuredMesh.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/readUnstructuredMesh.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/types.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>This is again the same call to <code>target_sources()</code>, where we include all header files using the <code>FILE_SET</code> command for the current target (here <code>${CMAKE_PROJECT_NAME}</code>, which evaluates to <code>meshReaderLib</code>). We list all header files so that we can ensure they are available after installation.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Finally, within the <code>meshReaderLib/srx/CMakeLists.txt</code> file, we have the following lines:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"target_sources(${CMAKE_PROJECT_NAME}\n  PRIVATE\n    ${CMAKE_CURRENT_SOURCE_DIR}/readMeshBase.cpp\n    ${CMAKE_CURRENT_SOURCE_DIR}/readStructuredMesh.cpp\n    ${CMAKE_CURRENT_SOURCE_DIR}/readUnstructuredMesh.cpp\n)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003etarget_sources\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  PRIVATE\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/readMeshBase.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/readStructuredMesh.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/readUnstructuredMesh.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":6,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="target_sources(${CMAKE_PROJECT_NAME}
  PRIVATE
    ${CMAKE_CURRENT_SOURCE_DIR}/readMeshBase.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/readStructuredMesh.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/readUnstructuredMesh.cpp
)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">target_sources</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span></span>
<span class="line"><span style="color: #D4D4D4">  PRIVATE</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/readMeshBase.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/readStructuredMesh.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/readUnstructuredMesh.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We add all source files to the current target (<code>meshReaderLib</code>), and mark them as <code>PRIVATE</code>. Thus, after the files are compiled, they will not be exported, and any other library making use of <code>meshReaderLib</code> can compile their code and link against this library without having to compile the source files again. This is in contrast to the headers declared above, which are <code>PUBLIC</code>, as we need to know about the header files as we will include them in projects that consume the <code>meshReaderLib</code> library. Thus, <code>PUBLIC</code> header files will get installed, <code>PRIVATE</code> source files won't.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-top-level">Optional build arguments</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The build arguments are located in <code>cmake/options.cmake</code> are the same as we saw before for the complex number library and given below:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"option(ENABLE_SHARED \u0022Build shared (dynamic) library? If set to off, a static library will be built\u0022 OFF)\noption(BUILD_DOCS \u0022Build the documentation. This requires doxygen to be available\u0022 OFF)\noption(ENABLE_TESTS \u0022Build the tests. This requires googletest to be available\u0022 OFF)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eoption\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(ENABLE_SHARED \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Build shared (dynamic) library? If set to off, a static library will be built\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eOFF\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eoption\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(BUILD_DOCS \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Build the documentation. This requires doxygen to be available\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eOFF\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eoption\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(ENABLE_TESTS \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Build the tests. This requires googletest to be available\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eOFF\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":3,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="option(ENABLE_SHARED &quot;Build shared (dynamic) library? If set to off, a static library will be built&quot; OFF)
option(BUILD_DOCS &quot;Build the documentation. This requires doxygen to be available&quot; OFF)
option(ENABLE_TESTS &quot;Build the tests. This requires googletest to be available&quot; OFF)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">option</span><span style="color: #D4D4D4">(ENABLE_SHARED </span><span style="color: #CE9178">&quot;Build shared (dynamic) library? If set to off, a static library will be built&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">OFF</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">option</span><span style="color: #D4D4D4">(BUILD_DOCS </span><span style="color: #CE9178">&quot;Build the documentation. This requires doxygen to be available&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">OFF</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">option</span><span style="color: #D4D4D4">(ENABLE_TESTS </span><span style="color: #CE9178">&quot;Build the tests. This requires googletest to be available&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">OFF</span><span style="color: #D4D4D4">)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We offer to build either a static or dynamic (shared) library, turn on documentation if required, and allow for tests to be build during the development stage. All are set to off by default and we can steer their behaviour through command line settings when we call CMake later.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-creating-the-mesh-reader-library">Creating the mesh reader library</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The mesh reading library is created within the <code>cmake/makeLibrary.cmake</code> file. It is just slightly different to the complex number library example we have worked on, which I will go into below the script.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# Add a postfix for debug library builds to avoid name clashes with release builds\nif(WIN32)\n  set(CMAKE_DEBUG_POSTFIX d)\nendif()\n\n# we require the CGNS library to be available, so check for it first\nfind_package(CGNS REQUIRED)\n\nif(${ENABLE_SHARED})\n  # Create a shared (dynamic) library for the mesh reader library\n  add_library(${CMAKE_PROJECT_NAME} SHARED)\n  \n  # add correct compiler flags so that we can correctly import/export symbols\n  if (MSVC)\n    target_compile_definitions(${CMAKE_PROJECT_NAME} PUBLIC COMPILEDLL)\n  endif()\nelse()\n  # Create a static library for the mesh reader library\n  add_library(${CMAKE_PROJECT_NAME} STATIC)\n\n  # add correct compiler flags so that we can correctly import/export symbols\n  if (MSVC)\n    target_compile_definitions(${CMAKE_PROJECT_NAME} PUBLIC COMPILELIB)\n  endif()\nendif()\n\n# link our library to the CGNS library\ntarget_link_libraries(${CMAKE_PROJECT_NAME} PUBLIC CGNS::CGNS)\n\n# include directories of our current project\ntarget_include_directories(${CMAKE_PROJECT_NAME}\n  PUBLIC\n    $\u0026lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}\u003e\n    $\u0026lt;INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}\u003e\n)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Add a postfix for debug library builds to avoid name clashes with release builds\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(WIN32)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  set\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003eCMAKE_DEBUG_POSTFIX\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e d)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eendif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# we require the CGNS library to be available, so check for it first\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003efind_package\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CGNS REQUIRED)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${ENABLE_SHARED}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Create a shared (dynamic) library for the mesh reader library\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  add_library\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e SHARED)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# add correct compiler flags so that we can correctly import/export symbols\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  if\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (MSVC)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e    target_compile_definitions\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e PUBLIC COMPILEDLL)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  endif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eelse\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# Create a static library for the mesh reader library\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  add_library\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e STATIC)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# add correct compiler flags so that we can correctly import/export symbols\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  if\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (MSVC)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e    target_compile_definitions\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e PUBLIC COMPILELIB)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  endif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eendif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# link our library to the CGNS library\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003etarget_link_libraries\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e PUBLIC CGNS::CGNS)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# include directories of our current project\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003etarget_include_directories\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  PUBLIC\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    $\u0026lt;BUILD_INTERFACE:\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    $\u0026lt;INSTALL_INTERFACE:\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_INSTALL_INCLUDEDIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":35,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# Add a postfix for debug library builds to avoid name clashes with release builds
if(WIN32)
  set(CMAKE_DEBUG_POSTFIX d)
endif()

# we require the CGNS library to be available, so check for it first
find_package(CGNS REQUIRED)

if(${ENABLE_SHARED})
  # Create a shared (dynamic) library for the mesh reader library
  add_library(${CMAKE_PROJECT_NAME} SHARED)
  
  # add correct compiler flags so that we can correctly import/export symbols
  if (MSVC)
    target_compile_definitions(${CMAKE_PROJECT_NAME} PUBLIC COMPILEDLL)
  endif()
else()
  # Create a static library for the mesh reader library
  add_library(${CMAKE_PROJECT_NAME} STATIC)

  # add correct compiler flags so that we can correctly import/export symbols
  if (MSVC)
    target_compile_definitions(${CMAKE_PROJECT_NAME} PUBLIC COMPILELIB)
  endif()
endif()

# link our library to the CGNS library
target_link_libraries(${CMAKE_PROJECT_NAME} PUBLIC CGNS::CGNS)

# include directories of our current project
target_include_directories(${CMAKE_PROJECT_NAME}
  PUBLIC
    $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}&gt;
    $&lt;INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}&gt;
)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># Add a postfix for debug library builds to avoid name clashes with release builds</span></span>
<span class="line"><span style="color: #569CD6">if</span><span style="color: #D4D4D4">(WIN32)</span></span>
<span class="line"><span style="color: #569CD6">  set</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">CMAKE_DEBUG_POSTFIX</span><span style="color: #D4D4D4"> d)</span></span>
<span class="line"><span style="color: #569CD6">endif</span><span style="color: #D4D4D4">()</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># we require the CGNS library to be available, so check for it first</span></span>
<span class="line"><span style="color: #569CD6">find_package</span><span style="color: #D4D4D4">(CGNS REQUIRED)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">if</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${ENABLE_SHARED}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #6A9955"># Create a shared (dynamic) library for the mesh reader library</span></span>
<span class="line"><span style="color: #569CD6">  add_library</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span><span style="color: #D4D4D4"> SHARED)</span></span>
<span class="line"><span style="color: #D4D4D4">  </span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #6A9955"># add correct compiler flags so that we can correctly import/export symbols</span></span>
<span class="line"><span style="color: #569CD6">  if</span><span style="color: #D4D4D4"> (MSVC)</span></span>
<span class="line"><span style="color: #569CD6">    target_compile_definitions</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span><span style="color: #D4D4D4"> PUBLIC COMPILEDLL)</span></span>
<span class="line"><span style="color: #569CD6">  endif</span><span style="color: #D4D4D4">()</span></span>
<span class="line"><span style="color: #569CD6">else</span><span style="color: #D4D4D4">()</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #6A9955"># Create a static library for the mesh reader library</span></span>
<span class="line"><span style="color: #569CD6">  add_library</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span><span style="color: #D4D4D4"> STATIC)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #6A9955"># add correct compiler flags so that we can correctly import/export symbols</span></span>
<span class="line"><span style="color: #569CD6">  if</span><span style="color: #D4D4D4"> (MSVC)</span></span>
<span class="line"><span style="color: #569CD6">    target_compile_definitions</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span><span style="color: #D4D4D4"> PUBLIC COMPILELIB)</span></span>
<span class="line"><span style="color: #569CD6">  endif</span><span style="color: #D4D4D4">()</span></span>
<span class="line"><span style="color: #569CD6">endif</span><span style="color: #D4D4D4">()</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># link our library to the CGNS library</span></span>
<span class="line"><span style="color: #569CD6">target_link_libraries</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span><span style="color: #D4D4D4"> PUBLIC CGNS::CGNS)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># include directories of our current project</span></span>
<span class="line"><span style="color: #569CD6">target_include_directories</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span></span>
<span class="line"><span style="color: #D4D4D4">  PUBLIC</span></span>
<span class="line"><span style="color: #D4D4D4">    $&lt;BUILD_INTERFACE:</span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    $&lt;INSTALL_INTERFACE:</span><span style="color: #569CD6">${CMAKE_INSTALL_INCLUDEDIR}</span><span style="color: #D4D4D4">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>First, we satisfy the overlords at Microsoft and append the letter <code>d</code> to our debug libraries, otherwise we'll break Windows if we need debug. and release builds at the same time. Then, we request that the <code>CGNS</code> library must be found before we continue on line 7. Then, we follow pretty much the same structure as we saw before, i.e. we check if we want to build a static or dynamic (shared) library and then create the library with a call to <code>add_library()</code> accordingly.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>On Windows, we'll also have to add a pre-processor directive to tell the library what type it is, i.e. we pass either <code>COMPILEDLL</code> or <code>COMPILELIB</code> to the compiler. This will be used in the mesh reading library to set the correct <code>__declspec()</code> directives, and if that means nothing to you, don't fret, <a href="https://cfd.university/learn/how-to-compile-write-and-use-cfd-libraries-in-c/how-to-write-a-cfd-library-compiling-and-testing/#aioseo-dynamic-library-build-script" target="_blank" rel="noopener" title="">I have a write-up discussing the need for</a> <code>__declspec()</code>ing your code. There is also <a href="https://cfd.university/learn/the-complete-guide-to-software-testing-for-cfd-applications/how-to-test-a-linear-algebra-solver-library-using-gtest/#aioseo-fixing-windows-broken-c" target="_blank" rel="noopener" title="">part 2</a> of this if you want to get lost in this rabbit hole (you don't, but it is there if you need it).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Compared to the complex number library, I have defined each pre-processor directive as <code>PUBLIC</code>, so we set them here and then never have to worry about them again (i.e. projects that consume our library will get the same pre-processor directives and the users are none the wiser about <code>__declspec()</code>s). What a service we are providing, 5 out 5 stars!</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>On line 28, we link against the <code>CGNS</code> library for our current library (regardless of its type, i.e. it can be either a static or dynamic (shared) library). Finally, we include the top-level project directory so that we can make relative includes in our code, i.e. we want to be able to have include statements such as:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"#include \u0022meshReaderLib/meshReader.hpp\u0022","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003e#include\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;meshReaderLib/meshReader.hpp\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="#include &quot;meshReaderLib/meshReader.hpp&quot;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #C586C0">#include</span><span style="color: #569CD6"> </span><span style="color: #CE9178">&quot;meshReaderLib/meshReader.hpp&quot;</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>In order for this to work, we need to know where the <code>meshReaderLib/</code> folder is located. This is what we do with the call to <code>target_directory_include()</code> on lines 31-35. It will be different when we install the project compared to if we just build the project locally, i.e. the absolute path will be different, and hence we use <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/advanced-cmake-features-to-power-up-your-cfd-development#aioseo-generator-expressions" target="_blank" rel="noopener" title="">generator expressions</a> which determine if we are compiling or installing our library at the moment, and then set the (absolute) include path accordingly.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Perhaps the include path for the build of <code>CMAKE_CURRENT_SOURCE_DIR</code> is tripping you up. Shouldn't that be the current directory that we are processing? So, if we are in <code>cmake/makeLibrary.cmake</code>, shouldn't the current source directory be <code>cmake/</code>? No, the current source directory is still the project's root folder since we include this file with a call to <code>include()</code>. This will simply dump the content of this file into our top-level <code>CMakeLists.txt</code> file, so the current source directory remains the top-level project directory.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If we use a call to <code>add_subdirectory()</code>, then CMake will change into that directory and the <code>CMAKE_CURRENT_SOURCE_DIR</code> will change, but not with a call to <code>include()</code>. If this is making you feel sick, or you simply don't care, then simply use <code>CMAKE_SOURCE_DIR</code> which will always point to the project's top-level directory.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-testing-the-mesh-reader-library-with-gtest-and-ctest">Testing the mesh reader library with GTest and CTest</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>We want to test our mesh reading library as well, and since <a href="https://cfd.university/learn/the-complete-guide-to-software-testing-for-cfd-applications/how-to-test-a-cgns-based-mesh-reading-library-using-gtest/" target="_blank" rel="noopener" title="">we already have developed all of our unit tests with GTest</a>, we can simply add them to <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/how-to-automate-testing-with-cmake-ctest-and-gtest" target="_blank" rel="noopener" title="">CTest and tell it to run our tests later automatically for us</a>. This part is slightly different to the complex number library example, as we have a few more things to take care of, which is shown in the script below:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# define a function that can be used to add tests automatically\nfunction (create_test name)\n  # each test creates its own executable\n  add_executable(${name} ${name}.cpp)\n\n  # we need to link each test separately against google test and any additional libraries\n  target_link_libraries(${name} PUBLIC gtest::gtest CGNS::CGNS ${CMAKE_PROJECT_NAME})\n\n  # include the root level directory for each executable so we can find header files relative to the root\n  target_include_directories(${name} PRIVATE ${CMAKE_SOURCE_DIR})\n\n  # register the test with CTest, so we execute it automatically when running CTest later\n  add_test(NAME ${name} COMMAND $\u0026lt;TARGET_FILE:${name}\u003e)\n\n  # copy the mesh directory to the test directory\n  add_custom_command(TARGET ${name}\n    POST_BUILD\n    COMMAND ${CMAKE_COMMAND} -E copy_directory_if_different ${CMAKE_SOURCE_DIR}/mesh $\u0026lt;TARGET_FILE_DIR:${name}\u003e/mesh\n  )\n\n  # if we generated a dynamic (shared) library, copy it to the test directory as well\n  if (ENABLE_SHARED)\n    add_custom_command(TARGET ${name}\n      POST_BUILD\n      COMMAND ${CMAKE_COMMAND} -E copy_if_different $\u0026lt;TARGET_FILE:${CMAKE_PROJECT_NAME}\u003e $\u0026lt;TARGET_FILE_DIR:${name}\u003e\n    )\n  endif()\nendfunction()\n\n# create the tests if requested\nif(ENABLE_TESTS)\n  enable_testing()\n  \n  # find and enable google test\n  find_package(GTest REQUIRED)\n\n  # go through tests subdirectory and add all tests to CTest\n  add_subdirectory(tests)\nendif(ENABLE_TESTS)\n","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# define a function that can be used to add tests automatically\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003efunction\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (create_test \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ename\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# each test creates its own executable\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  add_executable\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${name}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${name}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.cpp)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# we need to link each test separately against google test and any additional libraries\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  target_link_libraries\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${name}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e PUBLIC gtest::gtest CGNS::CGNS \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# include the root level directory for each executable so we can find header files relative to the root\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  target_include_directories\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${name}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e PRIVATE \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# register the test with CTest, so we execute it automatically when running CTest later\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  add_test\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eNAME\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${name}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eCOMMAND\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e $\u0026lt;TARGET_FILE:\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${name}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt;)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# copy the mesh directory to the test directory\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  add_custom_command\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eTARGET\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${name}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    POST_BUILD\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eCOMMAND\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_COMMAND}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -E copy_directory_if_different \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/mesh $\u0026lt;TARGET_FILE_DIR:\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${name}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt;/mesh\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# if we generated a dynamic (shared) library, copy it to the test directory as well\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  if\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (ENABLE_SHARED)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e    add_custom_command\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eTARGET\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${name}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e      POST_BUILD\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e      \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eCOMMAND\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_COMMAND}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e -E copy_if_different $\u0026lt;TARGET_FILE:\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt; $\u0026lt;TARGET_FILE_DIR:\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${name}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  endif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eendfunction\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# create the tests if requested\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(ENABLE_TESTS)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  enable_testing\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# find and enable google test\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  find_package\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(GTest REQUIRED)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# go through tests subdirectory and add all tests to CTest\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  add_subdirectory\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(tests)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eendif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(ENABLE_TESTS)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":40,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# define a function that can be used to add tests automatically
function (create_test name)
  # each test creates its own executable
  add_executable(${name} ${name}.cpp)

  # we need to link each test separately against google test and any additional libraries
  target_link_libraries(${name} PUBLIC gtest::gtest CGNS::CGNS ${CMAKE_PROJECT_NAME})

  # include the root level directory for each executable so we can find header files relative to the root
  target_include_directories(${name} PRIVATE ${CMAKE_SOURCE_DIR})

  # register the test with CTest, so we execute it automatically when running CTest later
  add_test(NAME ${name} COMMAND $&lt;TARGET_FILE:${name}&gt;)

  # copy the mesh directory to the test directory
  add_custom_command(TARGET ${name}
    POST_BUILD
    COMMAND ${CMAKE_COMMAND} -E copy_directory_if_different ${CMAKE_SOURCE_DIR}/mesh $&lt;TARGET_FILE_DIR:${name}&gt;/mesh
  )

  # if we generated a dynamic (shared) library, copy it to the test directory as well
  if (ENABLE_SHARED)
    add_custom_command(TARGET ${name}
      POST_BUILD
      COMMAND ${CMAKE_COMMAND} -E copy_if_different $&lt;TARGET_FILE:${CMAKE_PROJECT_NAME}&gt; $&lt;TARGET_FILE_DIR:${name}&gt;
    )
  endif()
endfunction()

# create the tests if requested
if(ENABLE_TESTS)
  enable_testing()
  
  # find and enable google test
  find_package(GTest REQUIRED)

  # go through tests subdirectory and add all tests to CTest
  add_subdirectory(tests)
endif(ENABLE_TESTS)
" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># define a function that can be used to add tests automatically</span></span>
<span class="line"><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> (create_test </span><span style="color: #569CD6">name</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #6A9955"># each test creates its own executable</span></span>
<span class="line"><span style="color: #569CD6">  add_executable</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${name}</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">${name}</span><span style="color: #D4D4D4">.cpp)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #6A9955"># we need to link each test separately against google test and any additional libraries</span></span>
<span class="line"><span style="color: #569CD6">  target_link_libraries</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${name}</span><span style="color: #D4D4D4"> PUBLIC gtest::gtest CGNS::CGNS </span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #6A9955"># include the root level directory for each executable so we can find header files relative to the root</span></span>
<span class="line"><span style="color: #569CD6">  target_include_directories</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${name}</span><span style="color: #D4D4D4"> PRIVATE </span><span style="color: #569CD6">${CMAKE_SOURCE_DIR}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #6A9955"># register the test with CTest, so we execute it automatically when running CTest later</span></span>
<span class="line"><span style="color: #569CD6">  add_test</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">NAME</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">${name}</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">COMMAND</span><span style="color: #D4D4D4"> $&lt;TARGET_FILE:</span><span style="color: #569CD6">${name}</span><span style="color: #D4D4D4">&gt;)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #6A9955"># copy the mesh directory to the test directory</span></span>
<span class="line"><span style="color: #569CD6">  add_custom_command</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">TARGET</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">${name}</span></span>
<span class="line"><span style="color: #D4D4D4">    POST_BUILD</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">COMMAND</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">${CMAKE_COMMAND}</span><span style="color: #D4D4D4"> -E copy_directory_if_different </span><span style="color: #569CD6">${CMAKE_SOURCE_DIR}</span><span style="color: #D4D4D4">/mesh $&lt;TARGET_FILE_DIR:</span><span style="color: #569CD6">${name}</span><span style="color: #D4D4D4">&gt;/mesh</span></span>
<span class="line"><span style="color: #D4D4D4">  )</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #6A9955"># if we generated a dynamic (shared) library, copy it to the test directory as well</span></span>
<span class="line"><span style="color: #569CD6">  if</span><span style="color: #D4D4D4"> (ENABLE_SHARED)</span></span>
<span class="line"><span style="color: #569CD6">    add_custom_command</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">TARGET</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">${name}</span></span>
<span class="line"><span style="color: #D4D4D4">      POST_BUILD</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">COMMAND</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">${CMAKE_COMMAND}</span><span style="color: #D4D4D4"> -E copy_if_different $&lt;TARGET_FILE:</span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span><span style="color: #D4D4D4">&gt; $&lt;TARGET_FILE_DIR:</span><span style="color: #569CD6">${name}</span><span style="color: #D4D4D4">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    )</span></span>
<span class="line"><span style="color: #569CD6">  endif</span><span style="color: #D4D4D4">()</span></span>
<span class="line"><span style="color: #569CD6">endfunction</span><span style="color: #D4D4D4">()</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># create the tests if requested</span></span>
<span class="line"><span style="color: #569CD6">if</span><span style="color: #D4D4D4">(ENABLE_TESTS)</span></span>
<span class="line"><span style="color: #569CD6">  enable_testing</span><span style="color: #D4D4D4">()</span></span>
<span class="line"><span style="color: #D4D4D4">  </span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #6A9955"># find and enable google test</span></span>
<span class="line"><span style="color: #569CD6">  find_package</span><span style="color: #D4D4D4">(GTest REQUIRED)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #6A9955"># go through tests subdirectory and add all tests to CTest</span></span>
<span class="line"><span style="color: #569CD6">  add_subdirectory</span><span style="color: #D4D4D4">(tests)</span></span>
<span class="line"><span style="color: #569CD6">endif</span><span style="color: #D4D4D4">(ENABLE_TESTS)</span></span>
<span class="line"></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>First, just as we did with the complex number example, we create a function on line 2, which we name <code>create_test()</code>. We can use this function in our <code>tests/unit/CMakeLists.txt</code> file as</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# add tests\ncreate_test(testStructuredGrid)\ncreate_test(testUnstructuredGrid)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e# add tests\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecreate_test\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(testStructuredGrid)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecreate_test\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(testUnstructuredGrid)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":3,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# add tests
create_test(testStructuredGrid)
create_test(testUnstructuredGrid)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4"># add tests</span></span>
<span class="line"><span style="color: #DCDCAA">create_test</span><span style="color: #D4D4D4">(testStructuredGrid)</span></span>
<span class="line"><span style="color: #DCDCAA">create_test</span><span style="color: #D4D4D4">(testUnstructuredGrid)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Here, the argument passed to the <code>create_test()</code> function is the name of the source file of the test, and we will reuse that name for the executable we generate on line 4. We now link not just against the gtest library on line 7 for this executable but also against the <code>CGNS</code> library, as well as the library we are creating as part of this project (as this is the library we want to test, so the executable needs to know about it in order to test it).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We include the relevant directories on line 10, and since we are not interested in installing tests, we don't need any generator expression magic here to set the include directory. We follow this with a call to <code>add_test()</code>, which CTest uses to register this executable with the automatic test runner, which will be executed when we call CTest from the command line.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Then, we have to copy statements, which require a bit more explaining. First, on lines 16-19, we use the <code>add_custom_command()</code> to copy the <code>mesh/</code> directory where our test executables will be located. We don't know where our tests will be located at configure time, so we use a generator expression again here to determine their location. We also say this should be a <code>POST_BUILD</code> type, i.e. only once everything is compiled, copy this folder.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Furthermore, we request that this folder is only copied if it is different from the folder that may already be present at the location. If the folder isn't there (i.e. we start with a clean and empty <code>build/</code> folder), then it will be copied. But since we may call the <code>create_test()</code> function a few times, we don't want to overwrite the <code>mesh/</code> folder every time we create a test (this will be slow). Since we have to use a generator expression to know about the location where we should copy this folder, we can't separate this call from the <code>create_test()</code> function.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Lines 22-27 operate in a similar manner, only here we check if we are building a dynamic (shared) library, i.e. a library ending in <code>*.so</code> on Linux, <code>*.dll</code> on Windows, or <code>*.dylib</code> on macOS. If that is the case, we copy the generated dynamic (shared) library next to the test executables so they can find all functions declared within these libraries.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Lines 31-39 check if we want to build tests as part of our project, and if this is set to true, then we first enable testing on line 32 (which will set up the testing environment for us in the background, which includes making CTest available to us). We require that GTest is available and CMake knows where to find it (thanks to Conan, this is no longer a problem). Then, we simply go into the <code>tests</code> subdirectory, where we create unit tests using the <code>create_test()</code> function.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-creating-the-documentation-using-doxygen">Creating the documentation using Doxygen</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>If you have followed the <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/never-worry-about-docs-again-automate-it-with-cmake-instead#aioseo-building-the-documentation-automatically" target="_blank" rel="noopener" title="">documentation article on CMake</a>, then the <code>cmake/docs.cmake</code> file shown below will look familiar, we haven't really changed anything. We use Doxygen here to build our documentation, and so we require that this will be available on line 2.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# use doxygen for building the documentation, check that it is available\nfind_package(Doxygen)\n\nif (BUILD_DOCS)\n  if (DOXYGEN_FOUND)\n    # create Doxyfile\n    configure_file(${PROJECT_SOURCE_DIR}/docs/Doxyfile.in ${CMAKE_BINARY_DIR}/Doxyfile @ONLY)\n\n    # note the option ALL which allows to build the docs together with the application\n    add_custom_target(doxygenDocs ALL\n      COMMAND ${DOXYGEN_EXECUTABLE} ${CMAKE_BINARY_DIR}/Doxyfile\n      WORKING_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}\n      COMMENT \u0022Generating API documentation with Doxygen\u0022\n    )\n  else (DOXYGEN_FOUND)\n    message(WARNING \u0022Doxygen need to be installed to generate the doxygen documentation\u0022)\n  endif (DOXYGEN_FOUND)\nendif (BUILD_DOCS)\n","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# use doxygen for building the documentation, check that it is available\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003efind_package\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(Doxygen)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (BUILD_DOCS)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  if\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (DOXYGEN_FOUND)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# create Doxyfile\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e    configure_file\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${PROJECT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/docs/Doxyfile.in \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_BINARY_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/Doxyfile @ONLY)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# note the option ALL which allows to build the docs together with the application\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e    add_custom_target\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(doxygenDocs ALL\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e      \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eCOMMAND\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${DOXYGEN_EXECUTABLE}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_BINARY_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/Doxyfile\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e      WORKING_DIRECTORY \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_BINARY_DIR}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e      \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eCOMMENT\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Generating API documentation with Doxygen\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  else\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (DOXYGEN_FOUND)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e    message\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(WARNING \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Doxygen need to be installed to generate the doxygen documentation\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  endif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (DOXYGEN_FOUND)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eendif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (BUILD_DOCS)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":19,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# use doxygen for building the documentation, check that it is available
find_package(Doxygen)

if (BUILD_DOCS)
  if (DOXYGEN_FOUND)
    # create Doxyfile
    configure_file(${PROJECT_SOURCE_DIR}/docs/Doxyfile.in ${CMAKE_BINARY_DIR}/Doxyfile @ONLY)

    # note the option ALL which allows to build the docs together with the application
    add_custom_target(doxygenDocs ALL
      COMMAND ${DOXYGEN_EXECUTABLE} ${CMAKE_BINARY_DIR}/Doxyfile
      WORKING_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}
      COMMENT &quot;Generating API documentation with Doxygen&quot;
    )
  else (DOXYGEN_FOUND)
    message(WARNING &quot;Doxygen need to be installed to generate the doxygen documentation&quot;)
  endif (DOXYGEN_FOUND)
endif (BUILD_DOCS)
" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># use doxygen for building the documentation, check that it is available</span></span>
<span class="line"><span style="color: #569CD6">find_package</span><span style="color: #D4D4D4">(Doxygen)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">if</span><span style="color: #D4D4D4"> (BUILD_DOCS)</span></span>
<span class="line"><span style="color: #569CD6">  if</span><span style="color: #D4D4D4"> (DOXYGEN_FOUND)</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955"># create Doxyfile</span></span>
<span class="line"><span style="color: #569CD6">    configure_file</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${PROJECT_SOURCE_DIR}</span><span style="color: #D4D4D4">/docs/Doxyfile.in </span><span style="color: #569CD6">${CMAKE_BINARY_DIR}</span><span style="color: #D4D4D4">/Doxyfile @ONLY)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955"># note the option ALL which allows to build the docs together with the application</span></span>
<span class="line"><span style="color: #569CD6">    add_custom_target</span><span style="color: #D4D4D4">(doxygenDocs ALL</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">COMMAND</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">${DOXYGEN_EXECUTABLE}</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">${CMAKE_BINARY_DIR}</span><span style="color: #D4D4D4">/Doxyfile</span></span>
<span class="line"><span style="color: #D4D4D4">      WORKING_DIRECTORY </span><span style="color: #569CD6">${CMAKE_CURRENT_BINARY_DIR}</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #569CD6">COMMENT</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&quot;Generating API documentation with Doxygen&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    )</span></span>
<span class="line"><span style="color: #569CD6">  else</span><span style="color: #D4D4D4"> (DOXYGEN_FOUND)</span></span>
<span class="line"><span style="color: #569CD6">    message</span><span style="color: #D4D4D4">(WARNING </span><span style="color: #CE9178">&quot;Doxygen need to be installed to generate the doxygen documentation&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">  endif</span><span style="color: #D4D4D4"> (DOXYGEN_FOUND)</span></span>
<span class="line"><span style="color: #569CD6">endif</span><span style="color: #D4D4D4"> (BUILD_DOCS)</span></span>
<span class="line"></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>The only major difference here is in the <code>docs/Doxyfile.in</code>, which has now be adjusted for the mesh reader library, though, since we are using mostly CMake variables here, it won't have changed that much compared to the complex number documentation example. For completeness, though, here are all the lines that we have changed:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"PROJECT_NAME           = @CMAKE_PROJECT_NAME@\nPROJECT_NUMBER         = @CMAKE_PROJECT_VERSION_MAJOR@.@CMAKE_PROJECT_VERSION_MINOR@.@CMAKE_PROJECT_VERSION_PATCH@\nPROJECT_BRIEF          = @CMAKE_PROJECT_DESCRIPTION@\nPROJECT_LOGO           = @CMAKE_SOURCE_DIR@/docs/figures/logo.png\nOUTPUT_DIRECTORY       = docs\nHTML_EXTRA_STYLESHEET  = @CMAKE_SOURCE_DIR@/docs/doxygen-awesome-css-2.3.2/doxygen-awesome.css\nHTML_EXTRA_STYLESHEET += @CMAKE_SOURCE_DIR@/docs/doxygen-awesome-css-2.3.2/doxygen-awesome-sidebar-only.css\nINPUT                  = @CMAKE_SOURCE_DIR@/meshReaderLib\nINPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/index.md\nINPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/introduction.md\nINPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/installation.md\nINPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/usage.md","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ePROJECT_NAME           = @CMAKE_PROJECT_NAME@\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ePROJECT_NUMBER         = @CMAKE_PROJECT_VERSION_MAJOR@.@CMAKE_PROJECT_VERSION_MINOR@.@CMAKE_PROJECT_VERSION_PATCH@\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ePROJECT_BRIEF          = @CMAKE_PROJECT_DESCRIPTION@\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ePROJECT_LOGO           = @CMAKE_SOURCE_DIR@/docs/figures/logo.png\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eOUTPUT_DIRECTORY       = docs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eHTML_EXTRA_STYLESHEET  = @CMAKE_SOURCE_DIR@/docs/doxygen-awesome-css-2.3.2/doxygen-awesome.css\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eHTML_EXTRA_STYLESHEET += @CMAKE_SOURCE_DIR@/docs/doxygen-awesome-css-2.3.2/doxygen-awesome-sidebar-only.css\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eINPUT                  = @CMAKE_SOURCE_DIR@/meshReaderLib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eINPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/index.md\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eINPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/introduction.md\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eINPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/installation.md\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eINPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/usage.md\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"markdown","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":12,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="PROJECT_NAME           = @CMAKE_PROJECT_NAME@
PROJECT_NUMBER         = @CMAKE_PROJECT_VERSION_MAJOR@.@CMAKE_PROJECT_VERSION_MINOR@.@CMAKE_PROJECT_VERSION_PATCH@
PROJECT_BRIEF          = @CMAKE_PROJECT_DESCRIPTION@
PROJECT_LOGO           = @CMAKE_SOURCE_DIR@/docs/figures/logo.png
OUTPUT_DIRECTORY       = docs
HTML_EXTRA_STYLESHEET  = @CMAKE_SOURCE_DIR@/docs/doxygen-awesome-css-2.3.2/doxygen-awesome.css
HTML_EXTRA_STYLESHEET += @CMAKE_SOURCE_DIR@/docs/doxygen-awesome-css-2.3.2/doxygen-awesome-sidebar-only.css
INPUT                  = @CMAKE_SOURCE_DIR@/meshReaderLib
INPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/index.md
INPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/introduction.md
INPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/installation.md
INPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/usage.md" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">PROJECT_NAME           = @CMAKE_PROJECT_NAME@</span></span>
<span class="line"><span style="color: #D4D4D4">PROJECT_NUMBER         = @CMAKE_PROJECT_VERSION_MAJOR@.@CMAKE_PROJECT_VERSION_MINOR@.@CMAKE_PROJECT_VERSION_PATCH@</span></span>
<span class="line"><span style="color: #D4D4D4">PROJECT_BRIEF          = @CMAKE_PROJECT_DESCRIPTION@</span></span>
<span class="line"><span style="color: #D4D4D4">PROJECT_LOGO           = @CMAKE_SOURCE_DIR@/docs/figures/logo.png</span></span>
<span class="line"><span style="color: #D4D4D4">OUTPUT_DIRECTORY       = docs</span></span>
<span class="line"><span style="color: #D4D4D4">HTML_EXTRA_STYLESHEET  = @CMAKE_SOURCE_DIR@/docs/doxygen-awesome-css-2.3.2/doxygen-awesome.css</span></span>
<span class="line"><span style="color: #D4D4D4">HTML_EXTRA_STYLESHEET += @CMAKE_SOURCE_DIR@/docs/doxygen-awesome-css-2.3.2/doxygen-awesome-sidebar-only.css</span></span>
<span class="line"><span style="color: #D4D4D4">INPUT                  = @CMAKE_SOURCE_DIR@/meshReaderLib</span></span>
<span class="line"><span style="color: #D4D4D4">INPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/index.md</span></span>
<span class="line"><span style="color: #D4D4D4">INPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/introduction.md</span></span>
<span class="line"><span style="color: #D4D4D4">INPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/installation.md</span></span>
<span class="line"><span style="color: #D4D4D4">INPUT                 += @CMAKE_SOURCE_DIR@/docs/userGuide/usage.md</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>These changes are in addition to the ones we discussed back in the original article on Doxygen, where we have made a few more changes to allow for things like LaTeX equations and the like. <a href="https://cfd.university/learn/keep-your-users-happy-how-to-document-code-the-right-way/how-to-annotate-c-code-for-automatic-code-documentation#aioseo-running-doxygen" target="_blank" rel="noopener" title="">Have a look through that article</a> as well to see what options we may want to tweak.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-installing-the-library-using-cmake">Installing the library using CMake</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Once our library is compiled and tested and the documentation has been built, we are ready to install our library into a permanent location on our hard disk. For that, we need two files. First, a configuration file that tells other CMake-based projects where to find all relevant files of our library, and then the <code>cmake/install.cmake</code> file itself, which lists all of the installation rules.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The configuration file is shown below and is located at <code>cmake/meshReaderLibConfig.cmake.in</code>: </p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"@PACKAGE_INIT@\n\ninclude(CMakeFindDependencyMacro)\n\n# any additional libraries we depend on should go here\nfind_dependency(CGNS REQUIRED)\n\ninclude(\u0022${CMAKE_CURRENT_LIST_DIR}/meshReaderLibTargets.cmake\u0022)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e@PACKAGE_INIT@\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CMakeFindDependencyMacro)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# any additional libraries we depend on should go here\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003efind_dependency(CGNS REQUIRED)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;${CMAKE_CURRENT_LIST_DIR}/meshReaderLibTargets.cmake\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":8,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="@PACKAGE_INIT@

include(CMakeFindDependencyMacro)

# any additional libraries we depend on should go here
find_dependency(CGNS REQUIRED)

include(&quot;${CMAKE_CURRENT_LIST_DIR}/meshReaderLibTargets.cmake&quot;)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">@PACKAGE_INIT@</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(CMakeFindDependencyMacro)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># any additional libraries we depend on should go here</span></span>
<span class="line"><span style="color: #D4D4D4">find_dependency(CGNS REQUIRED)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&quot;${CMAKE_CURRENT_LIST_DIR}/meshReaderLibTargets.cmake&quot;</span><span style="color: #D4D4D4">)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>The <code>@PACKAGE_INIT@</code> variable will be replaced later, mainly containing the top-level directory of where to find the library and its include files (i.e. headers). Since this project depends on the CGNS library, we communicate to other projects that want to use this library that the CGNS library needs to be installed. If it is not, CMake will abort.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The <code>cmake/install.cmake</code> file is shown below. Other than a search and replace for <code>complexNumberLib</code> with <code>meshReaderLib</code>, this file hasn't changed compared to the complex number library example. We looked at this file in depth during the <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/how-to-compile-install-and-use-custom-libraries-with-cmake#aioseo-cmake-build-scripts" target="_blank" rel="noopener" title="">installation article</a> (although here, it was part of one giant top-level <code>CMakeLists.txt</code> file instead of being separated into its own file within the <code>cmake/</code> folder), which contains a lot more information about the various parts in this file.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# install the headers that we specified with FILE_SET (header files for the user to include in their projects)\ninstall(TARGETS ${CMAKE_PROJECT_NAME}\n  EXPORT meshReaderLibTargets\n  FILE_SET HEADERS\n  COMPONENT meshReaderLib\n)\n\n# provide some basic meta data about the library to generate the library's config file \ninstall(\n  EXPORT meshReaderLibTargets\n  FILE meshReaderLibTargets.cmake\n  DESTINATION \u0022lib/cmake/meshReaderLib\u0022\n  NAMESPACE meshReaderLib::\n  COMPONENT meshReaderLib\n)\n\n# generate the library's config file\ninclude(CMakePackageConfigHelpers)\nconfigure_package_config_file(\n  cmake/meshReaderLibConfig.cmake.in\n  \u0022${CMAKE_CURRENT_BINARY_DIR}/meshReaderLibConfig.cmake\u0022\n  INSTALL_DESTINATION \u0022lib/cmake/meshReaderLib\u0022\n)\n\n# install the config file\ninstall(\n  FILES \u0022${CMAKE_CURRENT_BINARY_DIR}/meshReaderLibConfig.cmake\u0022\n  DESTINATION \u0022lib/cmake/meshReaderLib\u0022\n  COMPONENT meshReaderLib\n)\n\n# install the documentation if requested\nif (BUILD_DOCS)\n  install(\n    DIRECTORY ${CMAKE_BINARY_DIR}/docs/html\n    DESTINATION docs/meshReaderLib/\n    COMPONENT documentation\n  )\nendif(BUILD_DOCS)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# install the headers that we specified with FILE_SET (header files for the user to include in their projects)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einstall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(TARGETS \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  EXPORT\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e meshReaderLibTargets\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  FILE_SET HEADERS\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  COMPONENT meshReaderLib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# provide some basic meta data about the library to generate the library\u0026#39;s config file \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einstall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  EXPORT\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e meshReaderLibTargets\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  FILE\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e meshReaderLibTargets.cmake\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  DESTINATION \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;lib/cmake/meshReaderLib\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  NAMESPACE meshReaderLib::\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  COMPONENT meshReaderLib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# generate the library\u0026#39;s config file\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CMakePackageConfigHelpers)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003econfigure_package_config_file(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  cmake/meshReaderLibConfig.cmake.in\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;${CMAKE_CURRENT_BINARY_DIR}/meshReaderLibConfig.cmake\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  INSTALL_DESTINATION \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;lib/cmake/meshReaderLib\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# install the config file\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einstall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  FILES \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;${CMAKE_CURRENT_BINARY_DIR}/meshReaderLibConfig.cmake\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  DESTINATION \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;lib/cmake/meshReaderLib\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  COMPONENT meshReaderLib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# install the documentation if requested\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (BUILD_DOCS)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  install\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DIRECTORY \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_BINARY_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/docs/html\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DESTINATION docs/meshReaderLib/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    COMPONENT documentation\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eendif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(BUILD_DOCS)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":39,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# install the headers that we specified with FILE_SET (header files for the user to include in their projects)
install(TARGETS ${CMAKE_PROJECT_NAME}
  EXPORT meshReaderLibTargets
  FILE_SET HEADERS
  COMPONENT meshReaderLib
)

# provide some basic meta data about the library to generate the library's config file 
install(
  EXPORT meshReaderLibTargets
  FILE meshReaderLibTargets.cmake
  DESTINATION &quot;lib/cmake/meshReaderLib&quot;
  NAMESPACE meshReaderLib::
  COMPONENT meshReaderLib
)

# generate the library's config file
include(CMakePackageConfigHelpers)
configure_package_config_file(
  cmake/meshReaderLibConfig.cmake.in
  &quot;${CMAKE_CURRENT_BINARY_DIR}/meshReaderLibConfig.cmake&quot;
  INSTALL_DESTINATION &quot;lib/cmake/meshReaderLib&quot;
)

# install the config file
install(
  FILES &quot;${CMAKE_CURRENT_BINARY_DIR}/meshReaderLibConfig.cmake&quot;
  DESTINATION &quot;lib/cmake/meshReaderLib&quot;
  COMPONENT meshReaderLib
)

# install the documentation if requested
if (BUILD_DOCS)
  install(
    DIRECTORY ${CMAKE_BINARY_DIR}/docs/html
    DESTINATION docs/meshReaderLib/
    COMPONENT documentation
  )
endif(BUILD_DOCS)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># install the headers that we specified with FILE_SET (header files for the user to include in their projects)</span></span>
<span class="line"><span style="color: #569CD6">install</span><span style="color: #D4D4D4">(TARGETS </span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span></span>
<span class="line"><span style="color: #569CD6">  EXPORT</span><span style="color: #D4D4D4"> meshReaderLibTargets</span></span>
<span class="line"><span style="color: #D4D4D4">  FILE_SET HEADERS</span></span>
<span class="line"><span style="color: #D4D4D4">  COMPONENT meshReaderLib</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># provide some basic meta data about the library to generate the library&#39;s config file </span></span>
<span class="line"><span style="color: #569CD6">install</span><span style="color: #D4D4D4">(</span></span>
<span class="line"><span style="color: #569CD6">  EXPORT</span><span style="color: #D4D4D4"> meshReaderLibTargets</span></span>
<span class="line"><span style="color: #569CD6">  FILE</span><span style="color: #D4D4D4"> meshReaderLibTargets.cmake</span></span>
<span class="line"><span style="color: #D4D4D4">  DESTINATION </span><span style="color: #CE9178">&quot;lib/cmake/meshReaderLib&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  NAMESPACE meshReaderLib::</span></span>
<span class="line"><span style="color: #D4D4D4">  COMPONENT meshReaderLib</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># generate the library&#39;s config file</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(CMakePackageConfigHelpers)</span></span>
<span class="line"><span style="color: #D4D4D4">configure_package_config_file(</span></span>
<span class="line"><span style="color: #D4D4D4">  cmake/meshReaderLibConfig.cmake.in</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;${CMAKE_CURRENT_BINARY_DIR}/meshReaderLibConfig.cmake&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  INSTALL_DESTINATION </span><span style="color: #CE9178">&quot;lib/cmake/meshReaderLib&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># install the config file</span></span>
<span class="line"><span style="color: #569CD6">install</span><span style="color: #D4D4D4">(</span></span>
<span class="line"><span style="color: #D4D4D4">  FILES </span><span style="color: #CE9178">&quot;${CMAKE_CURRENT_BINARY_DIR}/meshReaderLibConfig.cmake&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  DESTINATION </span><span style="color: #CE9178">&quot;lib/cmake/meshReaderLib&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  COMPONENT meshReaderLib</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># install the documentation if requested</span></span>
<span class="line"><span style="color: #569CD6">if</span><span style="color: #D4D4D4"> (BUILD_DOCS)</span></span>
<span class="line"><span style="color: #569CD6">  install</span><span style="color: #D4D4D4">(</span></span>
<span class="line"><span style="color: #D4D4D4">    DIRECTORY </span><span style="color: #569CD6">${CMAKE_BINARY_DIR}</span><span style="color: #D4D4D4">/docs/html</span></span>
<span class="line"><span style="color: #D4D4D4">    DESTINATION docs/meshReaderLib/</span></span>
<span class="line"><span style="color: #D4D4D4">    COMPONENT documentation</span></span>
<span class="line"><span style="color: #D4D4D4">  )</span></span>
<span class="line"><span style="color: #569CD6">endif</span><span style="color: #D4D4D4">(BUILD_DOCS)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>The only part not discussed in the above-liked article is lines 33-39, which are responsible for building the documentation. However, <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/never-worry-about-docs-again-automate-it-with-cmake-instead#aioseo-specific-rules-to-steer-the-insta" target="_blank" rel="noopener" title="">we discussed that in more detail in the documentation article</a> if you need to read more about this part.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-package-and-installing-the-library-using-cpack-and-the-qt-installer-framework-ifw">Package and install the library using CPack and the Qt Installer Framework (IFW)</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The package information hasn't changed, and it's pretty much identical to what <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/how-to-use-cmake-cpack-to-create-beautiful-gui-installers#aioseo-cmake-helper-file-to-package-the-installer-with-ifw-and-cpack" target="_blank" rel="noopener" title="">we have discussed in the packaging article using CPack and the Qt Installer Framework (IFW)</a>. Again, the only changes we have made are to the descriptions given to the various <code>DISPLAY_NAME</code> and <code>DESCRIPTION</code> variables for the IFW installer. Otherwise, this file also follows a predictable pattern and has been discussed in depth in the above-linked article.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"# set some project metadata for the installer\nset(CPACK_PACKAGE_NAME ${CMAKE_PROJECT_NAME})\nset(CPACK_PACKAGE_VENDOR \u0022cfd.university\u0022)\nset(CPACK_PACKAGE_CONTACT \u0022tom@cfd.university\u0022)\nset(CPACK_PACKAGE_DESCRIPTION_SUMMARY ${CMAKE_PROJECT_DESCRIPTION})\nset(CPACK_PACKAGE_INSTALL_DIRECTORY ${CPACK_PACKAGE_NAME})\nset(CPACK_PACKAGE_VERSION_MAJOR ${CMAKE_PROJECT_VERSION_MAJOR})\nset(CPACK_PACKAGE_VERSION_MINOR ${CMAKE_PROJECT_VERSION_MINOR})\nset(CPACK_PACKAGE_VERSION_PATCH ${CMAKE_PROJECT_VERSION_PATCH})\nset(CPACK_VERBATIM_VARIABLES YES)\n\n# if we not call the line below, groups won't show properlly in the GUI installer\nset(CPACK_COMPONENTS_GROUPING IGNORE)\n\n# ignore directories and files\nset(CPACK_SOURCE_IGNORE_FILES\n  \u0022/.git/\u0022\n  \u0022/.vscode/\u0022\n  \u0022/build/\u0022\n  \u0022/CMakeCache.txt\u0022\n  \u0022/CMakeFiles/\u0022\n  \u0022/cmake_install.cmake\u0022\n  \u0022/CPackConfig.cmake\u0022\n)\n\n# we are interested in cross-platform support. IFW is the only generator that allows for it, so set it explicitly\nset(CPACK_GENERATOR \u0022IFW\u0022)\nset(CPACK_IFW_ROOT \u0022C:/Qt/Tools/QtInstallerFramework/4.8\u0022)\n\n# set some IFW specific variables, which can be derived from the more generic variables given above\nset(CPACK_IFW_VERBOSE ON)\nset(CPACK_IFW_PACKAGE_TITLE ${CPACK_PACKAGE_NAME})\nset(CPACK_IFW_PACKAGE_PUBLISHER ${CPACK_PACKAGE_VENDOR})\nset(CPACK_IFW_PRODUCT_URL \u0022https://cfd.university\u0022)\n\n# create a more memorable name for the maintenance tool (used for uninstalling the package)\nset(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME ${PROJECT_NAME}_MaintenanceTool)\nset(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_INI_FILE ${CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME}.ini)\n\n# customise the theme if required\nset(CPACK_IFW_PACKAGE_WIZARD_STYLE \u0022Modern\u0022)\n\n# adjust the default size\nset(CPACK_IFW_PACKAGE_WIZARD_DEFAULT_HEIGHT 400)\n\n# set the installer icon and logo\nif(WIN32)\n  set(CPACK_IFW_PACKAGE_ICON ${CMAKE_CURRENT_LIST_DIR}/resources/logo.ico)\n  elseif(APPLE)\n  set(CPACK_IFW_PACKAGE_ICON ${CMAKE_CURRENT_LIST_DIR}/resources/logo.icns)\nendif()\nset(CPACK_IFW_PACKAGE_WINDOWS_LOGO ${CMAKE_CURRENT_LIST_DIR}/resources/logo.png)\nset(CPACK_IFW_PACKAGE_LOGO ${CMAKE_CURRENT_LIST_DIR}/resources/logo.png)\n\n# now include the relevant (cross-platform) packaging script\ninclude(CPack)\ninclude(CPackIFW)\n\n# add the library as a component to the installer\ncpack_add_component(meshReaderLib\n  REQUIRED\n  DISPLAY_NAME \u0022Mesh Reader Library\u0022\n  DESCRIPTION \u0022Install the CGNS-based mesh reader library\u0022\n)\n\ncpack_ifw_configure_component(meshReaderLib\n  REQUIRED\n  LICENSES \u0022MIT License\u0022 ${CMAKE_SOURCE_DIR}/LICENSE\n  SORTING_PRIORITY 99\n)\n\n# add the documentation under a \u0022developer\u0022 group component\nif (BUILD_DOCS)\n  cpack_add_component(documentation\n    DISPLAY_NAME \u0022API Documentation\u0022\n    DESCRIPTION \u0022Documentation for the mesh reader library\u0022\n    GROUP documentationGroup\n  )\n    \n  cpack_ifw_configure_component(documentation\n    DEFAULT FALSE\n    GROUP documentationGroup\n    SORTING_PRIORITY 1\n  )\n\n  cpack_add_component_group(documentationGroup\n    EXPANDED\n    DISPLAY_NAME \u0022Documentation\u0022\n    DESCRIPTION \u0022Install the mesh reader library documentation\u0022\n  )\n\n  cpack_ifw_configure_component_group(documentationGroup\n    SORTING_PRIORITY 1\n  )\nendif(BUILD_DOCS)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# set some project metadata for the installer\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_NAME \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_VENDOR \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;cfd.university\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_CONTACT \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;tom@cfd.university\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_DESCRIPTION_SUMMARY \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_DESCRIPTION}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_INSTALL_DIRECTORY \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CPACK_PACKAGE_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_VERSION_MAJOR \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_VERSION_MAJOR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_VERSION_MINOR \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_VERSION_MINOR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_PACKAGE_VERSION_PATCH \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_VERSION_PATCH}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_VERBATIM_VARIABLES YES)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# if we not call the line below, groups won\u0026#39;t show properlly in the GUI installer\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_COMPONENTS_GROUPING IGNORE)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# ignore directories and files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_SOURCE_IGNORE_FILES\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/.git/\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/.vscode/\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/build/\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/CMakeCache.txt\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/CMakeFiles/\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/cmake_install.cmake\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;/CPackConfig.cmake\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# we are interested in cross-platform support. IFW is the only generator that allows for it, so set it explicitly\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_GENERATOR \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;IFW\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_ROOT \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;C:/Qt/Tools/QtInstallerFramework/4.8\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# set some IFW specific variables, which can be derived from the more generic variables given above\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_VERBOSE \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eON\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_TITLE \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CPACK_PACKAGE_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_PUBLISHER \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CPACK_PACKAGE_VENDOR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PRODUCT_URL \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;https://cfd.university\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# create a more memorable name for the maintenance tool (used for uninstalling the package)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e_MaintenanceTool)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_INI_FILE \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.ini)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# customise the theme if required\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_WIZARD_STYLE \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Modern\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# adjust the default size\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_WIZARD_DEFAULT_HEIGHT 400)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# set the installer icon and logo\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(WIN32)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  set\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_ICON \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_LIST_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/resources/logo.ico)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  elseif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(APPLE)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e  set\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_ICON \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_LIST_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/resources/logo.icns)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eendif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_WINDOWS_LOGO \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_LIST_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/resources/logo.png)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPACK_IFW_PACKAGE_LOGO \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_LIST_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/resources/logo.png)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# now include the relevant (cross-platform) packaging script\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPack)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003einclude\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CPackIFW)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# add the library as a component to the installer\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ecpack_add_component(meshReaderLib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  REQUIRED\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  DISPLAY_NAME \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Mesh Reader Library\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  DESCRIPTION \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Install the CGNS-based mesh reader library\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ecpack_ifw_configure_component(meshReaderLib\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  REQUIRED\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  LICENSES \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;MIT License\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/LICENSE\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  SORTING_PRIORITY 99\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e# add the documentation under a \u0026quot;developer\u0026quot; group component\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (BUILD_DOCS)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  cpack_add_component(documentation\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DISPLAY_NAME \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;API Documentation\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DESCRIPTION \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Documentation for the mesh reader library\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    GROUP documentationGroup\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  cpack_ifw_configure_component(documentation\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DEFAULT \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eFALSE\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    GROUP documentationGroup\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    SORTING_PRIORITY 1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  cpack_add_component_group(documentationGroup\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    EXPANDED\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DISPLAY_NAME \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Documentation\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    DESCRIPTION \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Install the mesh reader library documentation\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  cpack_ifw_configure_component_group(documentationGroup\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    SORTING_PRIORITY 1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eendif\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(BUILD_DOCS)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":95,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="# set some project metadata for the installer
set(CPACK_PACKAGE_NAME ${CMAKE_PROJECT_NAME})
set(CPACK_PACKAGE_VENDOR &quot;cfd.university&quot;)
set(CPACK_PACKAGE_CONTACT &quot;tom@cfd.university&quot;)
set(CPACK_PACKAGE_DESCRIPTION_SUMMARY ${CMAKE_PROJECT_DESCRIPTION})
set(CPACK_PACKAGE_INSTALL_DIRECTORY ${CPACK_PACKAGE_NAME})
set(CPACK_PACKAGE_VERSION_MAJOR ${CMAKE_PROJECT_VERSION_MAJOR})
set(CPACK_PACKAGE_VERSION_MINOR ${CMAKE_PROJECT_VERSION_MINOR})
set(CPACK_PACKAGE_VERSION_PATCH ${CMAKE_PROJECT_VERSION_PATCH})
set(CPACK_VERBATIM_VARIABLES YES)

# if we not call the line below, groups won't show properlly in the GUI installer
set(CPACK_COMPONENTS_GROUPING IGNORE)

# ignore directories and files
set(CPACK_SOURCE_IGNORE_FILES
  &quot;/.git/&quot;
  &quot;/.vscode/&quot;
  &quot;/build/&quot;
  &quot;/CMakeCache.txt&quot;
  &quot;/CMakeFiles/&quot;
  &quot;/cmake_install.cmake&quot;
  &quot;/CPackConfig.cmake&quot;
)

# we are interested in cross-platform support. IFW is the only generator that allows for it, so set it explicitly
set(CPACK_GENERATOR &quot;IFW&quot;)
set(CPACK_IFW_ROOT &quot;C:/Qt/Tools/QtInstallerFramework/4.8&quot;)

# set some IFW specific variables, which can be derived from the more generic variables given above
set(CPACK_IFW_VERBOSE ON)
set(CPACK_IFW_PACKAGE_TITLE ${CPACK_PACKAGE_NAME})
set(CPACK_IFW_PACKAGE_PUBLISHER ${CPACK_PACKAGE_VENDOR})
set(CPACK_IFW_PRODUCT_URL &quot;https://cfd.university&quot;)

# create a more memorable name for the maintenance tool (used for uninstalling the package)
set(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME ${PROJECT_NAME}_MaintenanceTool)
set(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_INI_FILE ${CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME}.ini)

# customise the theme if required
set(CPACK_IFW_PACKAGE_WIZARD_STYLE &quot;Modern&quot;)

# adjust the default size
set(CPACK_IFW_PACKAGE_WIZARD_DEFAULT_HEIGHT 400)

# set the installer icon and logo
if(WIN32)
  set(CPACK_IFW_PACKAGE_ICON ${CMAKE_CURRENT_LIST_DIR}/resources/logo.ico)
  elseif(APPLE)
  set(CPACK_IFW_PACKAGE_ICON ${CMAKE_CURRENT_LIST_DIR}/resources/logo.icns)
endif()
set(CPACK_IFW_PACKAGE_WINDOWS_LOGO ${CMAKE_CURRENT_LIST_DIR}/resources/logo.png)
set(CPACK_IFW_PACKAGE_LOGO ${CMAKE_CURRENT_LIST_DIR}/resources/logo.png)

# now include the relevant (cross-platform) packaging script
include(CPack)
include(CPackIFW)

# add the library as a component to the installer
cpack_add_component(meshReaderLib
  REQUIRED
  DISPLAY_NAME &quot;Mesh Reader Library&quot;
  DESCRIPTION &quot;Install the CGNS-based mesh reader library&quot;
)

cpack_ifw_configure_component(meshReaderLib
  REQUIRED
  LICENSES &quot;MIT License&quot; ${CMAKE_SOURCE_DIR}/LICENSE
  SORTING_PRIORITY 99
)

# add the documentation under a &quot;developer&quot; group component
if (BUILD_DOCS)
  cpack_add_component(documentation
    DISPLAY_NAME &quot;API Documentation&quot;
    DESCRIPTION &quot;Documentation for the mesh reader library&quot;
    GROUP documentationGroup
  )
    
  cpack_ifw_configure_component(documentation
    DEFAULT FALSE
    GROUP documentationGroup
    SORTING_PRIORITY 1
  )

  cpack_add_component_group(documentationGroup
    EXPANDED
    DISPLAY_NAME &quot;Documentation&quot;
    DESCRIPTION &quot;Install the mesh reader library documentation&quot;
  )

  cpack_ifw_configure_component_group(documentationGroup
    SORTING_PRIORITY 1
  )
endif(BUILD_DOCS)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># set some project metadata for the installer</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_NAME </span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_VENDOR </span><span style="color: #CE9178">&quot;cfd.university&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_CONTACT </span><span style="color: #CE9178">&quot;tom@cfd.university&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_DESCRIPTION_SUMMARY </span><span style="color: #569CD6">${CMAKE_PROJECT_DESCRIPTION}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_INSTALL_DIRECTORY </span><span style="color: #569CD6">${CPACK_PACKAGE_NAME}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_VERSION_MAJOR </span><span style="color: #569CD6">${CMAKE_PROJECT_VERSION_MAJOR}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_VERSION_MINOR </span><span style="color: #569CD6">${CMAKE_PROJECT_VERSION_MINOR}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_PACKAGE_VERSION_PATCH </span><span style="color: #569CD6">${CMAKE_PROJECT_VERSION_PATCH}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_VERBATIM_VARIABLES YES)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># if we not call the line below, groups won&#39;t show properlly in the GUI installer</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_COMPONENTS_GROUPING IGNORE)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># ignore directories and files</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_SOURCE_IGNORE_FILES</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/.git/&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/.vscode/&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/build/&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/CMakeCache.txt&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/CMakeFiles/&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/cmake_install.cmake&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #CE9178">&quot;/CPackConfig.cmake&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># we are interested in cross-platform support. IFW is the only generator that allows for it, so set it explicitly</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_GENERATOR </span><span style="color: #CE9178">&quot;IFW&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_ROOT </span><span style="color: #CE9178">&quot;C:/Qt/Tools/QtInstallerFramework/4.8&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># set some IFW specific variables, which can be derived from the more generic variables given above</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_VERBOSE </span><span style="color: #569CD6">ON</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_TITLE </span><span style="color: #569CD6">${CPACK_PACKAGE_NAME}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_PUBLISHER </span><span style="color: #569CD6">${CPACK_PACKAGE_VENDOR}</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PRODUCT_URL </span><span style="color: #CE9178">&quot;https://cfd.university&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># create a more memorable name for the maintenance tool (used for uninstalling the package)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME </span><span style="color: #569CD6">${PROJECT_NAME}</span><span style="color: #D4D4D4">_MaintenanceTool)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_INI_FILE </span><span style="color: #569CD6">${CPACK_IFW_PACKAGE_MAINTENANCE_TOOL_NAME}</span><span style="color: #D4D4D4">.ini)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># customise the theme if required</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_WIZARD_STYLE </span><span style="color: #CE9178">&quot;Modern&quot;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># adjust the default size</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_WIZARD_DEFAULT_HEIGHT 400)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># set the installer icon and logo</span></span>
<span class="line"><span style="color: #569CD6">if</span><span style="color: #D4D4D4">(WIN32)</span></span>
<span class="line"><span style="color: #569CD6">  set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_ICON </span><span style="color: #569CD6">${CMAKE_CURRENT_LIST_DIR}</span><span style="color: #D4D4D4">/resources/logo.ico)</span></span>
<span class="line"><span style="color: #569CD6">  elseif</span><span style="color: #D4D4D4">(APPLE)</span></span>
<span class="line"><span style="color: #569CD6">  set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_ICON </span><span style="color: #569CD6">${CMAKE_CURRENT_LIST_DIR}</span><span style="color: #D4D4D4">/resources/logo.icns)</span></span>
<span class="line"><span style="color: #569CD6">endif</span><span style="color: #D4D4D4">()</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_WINDOWS_LOGO </span><span style="color: #569CD6">${CMAKE_CURRENT_LIST_DIR}</span><span style="color: #D4D4D4">/resources/logo.png)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CPACK_IFW_PACKAGE_LOGO </span><span style="color: #569CD6">${CMAKE_CURRENT_LIST_DIR}</span><span style="color: #D4D4D4">/resources/logo.png)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># now include the relevant (cross-platform) packaging script</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(CPack)</span></span>
<span class="line"><span style="color: #569CD6">include</span><span style="color: #D4D4D4">(CPackIFW)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># add the library as a component to the installer</span></span>
<span class="line"><span style="color: #D4D4D4">cpack_add_component(meshReaderLib</span></span>
<span class="line"><span style="color: #D4D4D4">  REQUIRED</span></span>
<span class="line"><span style="color: #D4D4D4">  DISPLAY_NAME </span><span style="color: #CE9178">&quot;Mesh Reader Library&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  DESCRIPTION </span><span style="color: #CE9178">&quot;Install the CGNS-based mesh reader library&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">cpack_ifw_configure_component(meshReaderLib</span></span>
<span class="line"><span style="color: #D4D4D4">  REQUIRED</span></span>
<span class="line"><span style="color: #D4D4D4">  LICENSES </span><span style="color: #CE9178">&quot;MIT License&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">${CMAKE_SOURCE_DIR}</span><span style="color: #D4D4D4">/LICENSE</span></span>
<span class="line"><span style="color: #D4D4D4">  SORTING_PRIORITY 99</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># add the documentation under a &quot;developer&quot; group component</span></span>
<span class="line"><span style="color: #569CD6">if</span><span style="color: #D4D4D4"> (BUILD_DOCS)</span></span>
<span class="line"><span style="color: #D4D4D4">  cpack_add_component(documentation</span></span>
<span class="line"><span style="color: #D4D4D4">    DISPLAY_NAME </span><span style="color: #CE9178">&quot;API Documentation&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    DESCRIPTION </span><span style="color: #CE9178">&quot;Documentation for the mesh reader library&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    GROUP documentationGroup</span></span>
<span class="line"><span style="color: #D4D4D4">  )</span></span>
<span class="line"><span style="color: #D4D4D4">    </span></span>
<span class="line"><span style="color: #D4D4D4">  cpack_ifw_configure_component(documentation</span></span>
<span class="line"><span style="color: #D4D4D4">    DEFAULT </span><span style="color: #569CD6">FALSE</span></span>
<span class="line"><span style="color: #D4D4D4">    GROUP documentationGroup</span></span>
<span class="line"><span style="color: #D4D4D4">    SORTING_PRIORITY 1</span></span>
<span class="line"><span style="color: #D4D4D4">  )</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  cpack_add_component_group(documentationGroup</span></span>
<span class="line"><span style="color: #D4D4D4">    EXPANDED</span></span>
<span class="line"><span style="color: #D4D4D4">    DISPLAY_NAME </span><span style="color: #CE9178">&quot;Documentation&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    DESCRIPTION </span><span style="color: #CE9178">&quot;Install the mesh reader library documentation&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">  )</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  cpack_ifw_configure_component_group(documentationGroup</span></span>
<span class="line"><span style="color: #D4D4D4">    SORTING_PRIORITY 1</span></span>
<span class="line"><span style="color: #D4D4D4">  )</span></span>
<span class="line"><span style="color: #569CD6">endif</span><span style="color: #D4D4D4">(BUILD_DOCS)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-command-line-instructions">Command line instructions</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Now that we have all CMake files in place, we are ready to test-drive them and make sure that everything is working as expected. We will look at the commands we need to get this project compiled, tested, and installed, all from within the command line.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-bringing-in-additional-dependencies">Bringing in additional dependencies</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>First things first, we are going to use Conan again to manage our dependencies. No need for long, custom made, fragile and probably easily breakable bash and PowerShell scripts to install CGNS manually on our system. Let's use a package manager who's job it is to make sure that packages can be built correctly (and ensure that they will continue to be built correctly in the future).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>For that, we have the <code>conanfile.txt</code> in the top-level directory. The content is given below:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"[requires]\ncgns/4.3.0\ngtest/1.14.0\n\n[generators]\nCMakeDeps\nCMakeToolchain\n\n[tool_requires]\ndoxygen/1.9.4","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[requires]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003ecgns/4.3.0\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003egtest/1.14.0\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[generators]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eCMakeDeps\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eCMakeToolchain\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[tool_requires]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003edoxygen/1.9.4\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"plaintext","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":10,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="[requires]
cgns/4.3.0
gtest/1.14.0

[generators]
CMakeDeps
CMakeToolchain

[tool_requires]
doxygen/1.9.4" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">[requires]</span></span>
<span class="line"><span style="color: #D4D4D4">cgns/4.3.0</span></span>
<span class="line"><span style="color: #D4D4D4">gtest/1.14.0</span></span>
<span class="line"><span style="color: #D4D4D4"></span></span>
<span class="line"><span style="color: #D4D4D4">[generators]</span></span>
<span class="line"><span style="color: #D4D4D4">CMakeDeps</span></span>
<span class="line"><span style="color: #D4D4D4">CMakeToolchain</span></span>
<span class="line"><span style="color: #D4D4D4"></span></span>
<span class="line"><span style="color: #D4D4D4">[tool_requires]</span></span>
<span class="line"><span style="color: #D4D4D4">doxygen/1.9.4</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We see that we need the CGNS and GTest libraries to compile our code correctly. We also require Doxygen as a tool (since it is an executable, not a library) so that we can build our documentation correctly. To install these dependencies, run the following command:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"conan install . -pr dev \u002d\u002doutput-folder=build \u002d\u002dbuild=missing","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003econan\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003einstall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-pr\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003edev\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002doutput-folder=build\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dbuild=missing\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="conan install . -pr dev --output-folder=build --build=missing" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">conan</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">install</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">.</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-pr</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">dev</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--output-folder=build</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--build=missing</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Here, I am using a specific profile called <code>dev</code> which is located in your user's home directory under <code>.conan2/profiles</code>. You will have, at a minimum, a <code>default</code> profile, but I like to keep a development profile handy so I can set things like my preferred build type (Debug), generator (Ninja) and console (PowerShell on Windows, not the default!). I have <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/never-worry-about-docs-again-automate-it-with-cmake-instead#aioseo-project-dependencies" target="_blank" rel="noopener" title="">discussed my developer profile in my article on building documentation</a> with CMake, have a look if this is new to you.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>After we have finished with Conan, change into the <code>build/</code> directory (and stay there for subsequent CMake calls) and execute either <code>.\conanbuild.ps1</code> on Windows (if you are using good old <code>cmd.exe</code>, you are allowed to use <code>.\conanbuild.bat</code> as well, but PowerShell is a more user-friendly experience), or <code>./conanbuild.sh</code> on UNIX (if you have a different shell, you may have a different file ending; whichever shell you use, just execute the generated <code>conanbuild.*</code> file that makes sense on your system). We are now ready to compile the project.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-configuring-the-project">Configuring the project</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>We do our normal CMake configuration step first before we do any compilation. For this particular project, I am using the following call: </p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cmake -DCMAKE_BUILD_TYPE=Debug -DCMAKE_TOOLCHAIN_FILE=\u0022conan_toolchain.cmake\u0022 -DBUILD_DOCS=ON -DENABLE_SHARED=ON -DENABLE_TESTS=ON -G Ninja ..","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-DCMAKE_BUILD_TYPE=Debug\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-DCMAKE_TOOLCHAIN_FILE=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;conan_toolchain.cmake\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-DBUILD_DOCS=ON\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-DENABLE_SHARED=ON\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-DENABLE_TESTS=ON\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-G\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eNinja\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e..\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cmake -DCMAKE_BUILD_TYPE=Debug -DCMAKE_TOOLCHAIN_FILE=&quot;conan_toolchain.cmake&quot; -DBUILD_DOCS=ON -DENABLE_SHARED=ON -DENABLE_TESTS=ON -G Ninja .." style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">cmake</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-DCMAKE_BUILD_TYPE=Debug</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-DCMAKE_TOOLCHAIN_FILE=</span><span style="color: #CE9178">&quot;conan_toolchain.cmake&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-DBUILD_DOCS=ON</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-DENABLE_SHARED=ON</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-DENABLE_TESTS=ON</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-G</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Ninja</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">..</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Here, we turn on the documentation, we say that we want to build a dynamic (shared) library, and we say that we want to build all tests as well. I am using my generator of choice here, which is Ninja, but feel free to use any other generator here instead or simply let CMake decide which one to choose by omitting the <code>-G Ninja</code> flag.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-compiling-the-library">Compiling the library</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>With the configuration done (fingers crossed, no errors occurred; if they did, it has most likely to do with dependencies not being resolved correctly, in which case, make sure Conan was able to install all dependencies correctly), we can proceed to build the project, which is as simple as calling:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cmake \u002d\u002dbuild . \u002d\u002dconfig Debug","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dbuild\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dconfig\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eDebug\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cmake --build . --config Debug" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">cmake</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--build</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">.</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--config</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Debug</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-testing-that-everything-works">Testing that everything works</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>To test that our library was created correctly and is working as intended, we may spend a second to type</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"ctest","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ectest\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="ctest" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">ctest</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>into our console, which will then, in turn, take another second or so to run all tests that are available in our project. I think a 2 second time investment is doable and not asking for too much! The output of CTest is shown below:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"Test project C:/Users/tom/code/cfd-university/buildSystems/Build-Systems-Part-9-meshReaderLib/build\n    Start 1: testStructuredGrid\n1/2 Test #1: testStructuredGrid ...............   Passed    0.16 sec\n    Start 2: testUnstructuredGrid\n2/2 Test #2: testUnstructuredGrid .............   Passed    0.28 sec\n\n100% tests passed, 0 tests failed out of 2\n\nTotal Test time (real) =   0.44 sec","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eTest\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eproject\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eC:/Users/tom/code/cfd-university/buildSystems/Build-Systems-Part-9-meshReaderLib/build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eStart\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e:\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etestStructuredGrid\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e1/2\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eTest\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e#1: testStructuredGrid ...............   Passed    0.16 sec\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eStart\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e:\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etestUnstructuredGrid\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e2/2\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eTest\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e#2: testUnstructuredGrid .............   Passed    0.28 sec\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e100%\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etests\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003epassed,\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etests\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003efailed\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eout\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eof\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eTotal\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eTest\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003etime\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e (real) =   0.44 sec\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":9,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="Test project C:/Users/tom/code/cfd-university/buildSystems/Build-Systems-Part-9-meshReaderLib/build
    Start 1: testStructuredGrid
1/2 Test #1: testStructuredGrid ...............   Passed    0.16 sec
    Start 2: testUnstructuredGrid
2/2 Test #2: testUnstructuredGrid .............   Passed    0.28 sec

100% tests passed, 0 tests failed out of 2

Total Test time (real) =   0.44 sec" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">Test</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">project</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">C:/Users/tom/code/cfd-university/buildSystems/Build-Systems-Part-9-meshReaderLib/build</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">Start</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">1</span><span style="color: #CE9178">:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">testStructuredGrid</span></span>
<span class="line"><span style="color: #DCDCAA">1/2</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Test</span><span style="color: #D4D4D4"> </span><span style="color: #6A9955">#1: testStructuredGrid ...............   Passed    0.16 sec</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">Start</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">2</span><span style="color: #CE9178">:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">testUnstructuredGrid</span></span>
<span class="line"><span style="color: #DCDCAA">2/2</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Test</span><span style="color: #D4D4D4"> </span><span style="color: #6A9955">#2: testUnstructuredGrid .............   Passed    0.28 sec</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">100%</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tests</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">passed,</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tests</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">failed</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">out</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">of</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">2</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">Total</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Test</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">time</span><span style="color: #D4D4D4"> (real) =   0.44 sec</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>If you are using VSCode and you have the <a href="https://cfd.university/learn/automating-cfd-solver-and-library-compilation-using-cmake/how-to-automate-testing-with-cmake-ctest-and-gtest#aioseo-bonus" target="_blank" rel="noopener" title="">test explorer plugin installed</a>, you can also run all tests from within the IDE, as shown below:</p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":3973,"sizeSlug":"full","linkDestination":"none","align":"center"} -->
<figure class="wp-block-image aligncenter size-full"><img src="https://cfd.university/wp-content/uploads/2024/07/test_explorer_mesh_reading_library.png" alt="" class="wp-image-3973"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>All tests are passing, and no strange runtime error message on Windows. Happy days!</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-installing-the-mesh-reader-library-through-the-command-line">Installing the mesh reader library through the command line</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Now that we have compiled the library and are confident that it is working as expected, we can install it into a permanent directory using the <code>--install</code> target. This is shown below where the permanent location is at <code>C:\temp</code> (yes, the folder <code>temp/</code> does suggest a very permanent structure, I know).</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cmake \u002d\u002dinstall . \u002d\u002dprefix C:\\temp \u002d\u002dconfig Debug","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dinstall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dprefix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eC:\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\t\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eemp\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dconfig\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eDebug\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cmake --install . --prefix C:\temp --config Debug" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">cmake</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--install</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">.</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--prefix</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">C:</span><span style="color: #D7BA7D">\t</span><span style="color: #CE9178">emp</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--config</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Debug</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-package-the-project-for-easy-distribution">Package the project for easy distribution</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>If we only want to use the library on our system, we are pretty much done. However, if we also want to provide a graphical user interface for the installation step, then we can use CPack to provide one. Since we already have everything set up and specifically asked that the Qt Installer Framework be used, we can simply call</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cpack","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecpack\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cpack" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">cpack</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>and this will generate an executable installer within our <code>build/</code> directory. </p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-comments-on-how-to-prepare-the-linear-algebra-solver-library">Comments on how to prepare the linear algebra solver library</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>To get a CMake-based project for our linear algebra solver library as well, we pretty much follow the steps above and replace any string similar to <code>meshReaderLib</code> with <code>linearAlgebraLib</code>. The <code>linearAlgebraLib/</code> folder is slightly different in that it only contains a <code>src/</code> folder, and no <code>include/</code> folder (we store both <code>*.cpp</code> and <code>*.hpp</code> files in the same directory), so our <code>CMakeLists.txt</code> file slightly changes within the <code>linearAlgebraLib/</code> folder (where we simply merge the <code>target_sources()</code> call from the <code>include/</code> and <code>src/</code> directory within the <code>meshReaderLib/</code> directory into a single command).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>For completeness, here is the content of the <code>linearAlgebraLib/src/CMakeLists.txt</code> file:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"target_sources(${CMAKE_PROJECT_NAME}\n  PRIVATE\n    ${CMAKE_CURRENT_SOURCE_DIR}/conjugateGradient.cpp\n    ${CMAKE_CURRENT_SOURCE_DIR}/linearAlgebraSolverBase.cpp\n    ${CMAKE_CURRENT_SOURCE_DIR}/sparseMatrixCSR.cpp\n    ${CMAKE_CURRENT_SOURCE_DIR}/vector.cpp\n  PUBLIC FILE_SET HEADERS\n  BASE_DIRS ${PROJECT_SOURCE_DIR}\n  FILES\n    ${CMAKE_CURRENT_SOURCE_DIR}/conjugateGradient.hpp\n    ${CMAKE_CURRENT_SOURCE_DIR}/linearAlgebraSolverBase.hpp\n    ${CMAKE_CURRENT_SOURCE_DIR}/sparseMatrixCSR.hpp\n    ${CMAKE_CURRENT_SOURCE_DIR}/vector.hpp\n)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003etarget_sources\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  PRIVATE\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/conjugateGradient.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/linearAlgebraSolverBase.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/sparseMatrixCSR.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/vector.cpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  PUBLIC FILE_SET HEADERS\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  BASE_DIRS \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${PROJECT_SOURCE_DIR}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  FILES\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/conjugateGradient.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/linearAlgebraSolverBase.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/sparseMatrixCSR.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_CURRENT_SOURCE_DIR}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e/vector.hpp\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":14,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="target_sources(${CMAKE_PROJECT_NAME}
  PRIVATE
    ${CMAKE_CURRENT_SOURCE_DIR}/conjugateGradient.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/linearAlgebraSolverBase.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/sparseMatrixCSR.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/vector.cpp
  PUBLIC FILE_SET HEADERS
  BASE_DIRS ${PROJECT_SOURCE_DIR}
  FILES
    ${CMAKE_CURRENT_SOURCE_DIR}/conjugateGradient.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/linearAlgebraSolverBase.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/sparseMatrixCSR.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/vector.hpp
)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">target_sources</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span></span>
<span class="line"><span style="color: #D4D4D4">  PRIVATE</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/conjugateGradient.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/linearAlgebraSolverBase.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/sparseMatrixCSR.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/vector.cpp</span></span>
<span class="line"><span style="color: #D4D4D4">  PUBLIC FILE_SET HEADERS</span></span>
<span class="line"><span style="color: #D4D4D4">  BASE_DIRS </span><span style="color: #569CD6">${PROJECT_SOURCE_DIR}</span></span>
<span class="line"><span style="color: #D4D4D4">  FILES</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/conjugateGradient.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/linearAlgebraSolverBase.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/sparseMatrixCSR.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color: #D4D4D4">/vector.hpp</span></span>
<span class="line"><span style="color: #D4D4D4">)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>The <code>tests/</code> folder is also slightly different in that we now have how unit, integration, and system tests. However, we use the same <code>create_test()</code> function we have defined previously for all three types of tests. We no longer have to copy the mesh directory, but we do have to copy the dynamic (shared) library of the linear algebra solver library next to our test executable.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Both the test executables and the linear algebra solver library itself are now, of course, no longer linked against the CGNS library, and so we have removed this library from our CMake scripts, as well as from <code>conanfile.txt</code>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>These are the only changes. Instead of going through them again here in detail, you can download the library at the top of this article to inspect it for the changes mentioned above. If you understood how we created the mesh reader library, then you should feel comfortable working with the linear algebra solver library, too!</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-testing-our-newly-created-cmake-based-libraries">Testing our newly created CMake-based libraries</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Now that we have compiled and installed both the mesh reader and linear algebra solver library, it is time to use them in another test project to make sure the installation is working correctly. For this, we will develop a very small (and meaningless) example, that will, however, test that both libraries where compiled and found correctly, so that they can be used in other projects. This also provides a template for how we would use our library in an actual project that is consuming our libraries.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-project-structure">Project structure</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Our test project has the following small structure:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"root\n├── build/\n├── mesh/\n│   └── structured2D.cgns\n├── CMakeLists.txt\n├── conanfile.txt\n└── main.cpp","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eroot\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── build/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── mesh/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e│   └── structured2D.cgns\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── CMakeLists.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e├── conanfile.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e└── main.cpp\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"plaintext","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":7,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="root
├── build/
├── mesh/
│   └── structured2D.cgns
├── CMakeLists.txt
├── conanfile.txt
└── main.cpp" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">root</span></span>
<span class="line"><span style="color: #D4D4D4">├── build/</span></span>
<span class="line"><span style="color: #D4D4D4">├── mesh/</span></span>
<span class="line"><span style="color: #D4D4D4">│   └── structured2D.cgns</span></span>
<span class="line"><span style="color: #D4D4D4">├── CMakeLists.txt</span></span>
<span class="line"><span style="color: #D4D4D4">├── conanfile.txt</span></span>
<span class="line"><span style="color: #D4D4D4">└── main.cpp</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>As per usual, we have a <code>build/</code> folder for CMake and Conan to write their output to, a <code>mesh/</code> folder that just contains one of the meshes we used in the mesh reading library for unit testing, a top-level <code>CMakeLists.txt</code> file that steers the entire process of building our test example, a <code>conanfile.txt</code> to bring in dependencies (more on this shortly), and finally, a <code>main.cpp</code> file, which will consume both the mesh reading and linear algebra solver library.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Let's look through these file in detail; they are all relatively small scripts and quick to go through.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-source-file">Writing a simple test program</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Let's start with the source file first: the <code>main.cpp</code> file is given below:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"#include \u0026lt;iostream\u003e\n\n#include \u0022linearAlgebraLib/linearAlgebraLib.hpp\u0022\n#include \u0022meshReaderLib/meshReader.hpp\u0022\n\nint main() {\n\n  // sanity check that linearAlgebraLib is working and found\n  linearAlgebraLib::SparseMatrixCSR matrix(3, 3);\n  matrix.set(0, 0, 1.0); matrix.set(0, 1, 2.0); matrix.set(0, 2, 0.0);\n  matrix.set(1, 0, 2.0); matrix.set(1, 1, 1.0); matrix.set(1, 2, 2.0);\n  matrix.set(2, 0, 0.0); matrix.set(2, 1, 2.0); matrix.set(2, 2, 1.0);\n\n  linearAlgebraLib::Vector vector(3);\n  vector[0] = 1.0; vector[1] = 0.0; vector[2] = 1.0;\n\n  std::cout \u0026lt;\u0026lt; \u0022Testing linearAlgebraLib:\\n\u0022 \u0026lt;\u0026lt; matrix * vector \u0026lt;\u0026lt; std::endl;\n\n  // sanity check that meshReaderLib is working and found\n  ReadStructuredMesh mesh(\u0022../mesh/structured2D.cgns\u0022);\n  mesh.readMesh();\n  auto coordinates = mesh.getCoordinates();\n\n  // print first 5 coordinates\n  std::cout \u0026lt;\u0026lt; \u0022\\nTesting meshReaderLib:\\nX | Y \u0022 \u0026lt;\u0026lt; std::endl;\n  std::cout \u0026lt;\u0026lt; \u0022\u002d\u002d\u002d\u002d\u002d\u002d\u0022 \u0026lt;\u0026lt; std::endl;\n  std::cout \u0026lt;\u0026lt; coordinates[0][0][0][COORDINATE::X] \u0026lt;\u0026lt; \u0022 | \u0022 \u0026lt;\u0026lt; coordinates[0][0][0][COORDINATE::Y] \u0026lt;\u0026lt; std::endl;\n  std::cout \u0026lt;\u0026lt; coordinates[0][0][1][COORDINATE::X] \u0026lt;\u0026lt; \u0022 | \u0022 \u0026lt;\u0026lt; coordinates[0][0][1][COORDINATE::Y] \u0026lt;\u0026lt; std::endl;\n  std::cout \u0026lt;\u0026lt; coordinates[0][0][2][COORDINATE::X] \u0026lt;\u0026lt; \u0022 | \u0022 \u0026lt;\u0026lt; coordinates[0][0][2][COORDINATE::Y] \u0026lt;\u0026lt; std::endl;\n  std::cout \u0026lt;\u0026lt; coordinates[0][0][3][COORDINATE::X] \u0026lt;\u0026lt; \u0022 | \u0022 \u0026lt;\u0026lt; coordinates[0][0][3][COORDINATE::Y] \u0026lt;\u0026lt; std::endl;\n  std::cout \u0026lt;\u0026lt; coordinates[0][0][4][COORDINATE::X] \u0026lt;\u0026lt; \u0022 | \u0022 \u0026lt;\u0026lt; coordinates[0][0][4][COORDINATE::Y] \u0026lt;\u0026lt; std::endl;\n\n  return 0;\n}","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003e#include\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003e#include\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;linearAlgebraLib/linearAlgebraLib.hpp\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003e#include\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;meshReaderLib/meshReader.hpp\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eint\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emain\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // sanity check that linearAlgebraLib is working and found\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003elinearAlgebraLib\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::SparseMatrixCSR \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e3\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e3\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e); \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e); \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e); \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e); \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e); \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e); \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003elinearAlgebraLib\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::Vector \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e3\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e] = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e; \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e] = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e; \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e] = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::cout \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;Testing linearAlgebraLib:\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\n\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u0026lt;\u0026lt; matrix * vector \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::endl;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // sanity check that meshReaderLib is working and found\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  ReadStructuredMesh \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emesh\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;../mesh/structured2D.cgns\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003emesh\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ereadMesh\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eauto\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e coordinates = \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003emesh\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003egetCoordinates\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // print first 5 coordinates\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::cout \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\n\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eTesting meshReaderLib:\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\n\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eX | Y \u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::endl;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::cout \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;\u002d\u002d\u002d\u002d\u002d\u002d\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::endl;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::cout \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ecoordinates\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eCOORDINATE\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::X] \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot; | \u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ecoordinates\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eCOORDINATE\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::Y] \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::endl;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::cout \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ecoordinates\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eCOORDINATE\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::X] \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot; | \u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ecoordinates\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eCOORDINATE\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::Y] \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::endl;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::cout \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ecoordinates\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eCOORDINATE\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::X] \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot; | \u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ecoordinates\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eCOORDINATE\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::Y] \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::endl;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::cout \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ecoordinates\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e3\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eCOORDINATE\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::X] \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot; | \u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ecoordinates\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e3\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eCOORDINATE\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::Y] \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::endl;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::cout \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ecoordinates\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e4\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eCOORDINATE\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::X] \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot; | \u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ecoordinates\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e4\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e][\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eCOORDINATE\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::Y] \u0026lt;\u0026lt; \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::endl;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003ereturn\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":34,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="#include &lt;iostream&gt;

#include &quot;linearAlgebraLib/linearAlgebraLib.hpp&quot;
#include &quot;meshReaderLib/meshReader.hpp&quot;

int main() {

  // sanity check that linearAlgebraLib is working and found
  linearAlgebraLib::SparseMatrixCSR matrix(3, 3);
  matrix.set(0, 0, 1.0); matrix.set(0, 1, 2.0); matrix.set(0, 2, 0.0);
  matrix.set(1, 0, 2.0); matrix.set(1, 1, 1.0); matrix.set(1, 2, 2.0);
  matrix.set(2, 0, 0.0); matrix.set(2, 1, 2.0); matrix.set(2, 2, 1.0);

  linearAlgebraLib::Vector vector(3);
  vector[0] = 1.0; vector[1] = 0.0; vector[2] = 1.0;

  std::cout &lt;&lt; &quot;Testing linearAlgebraLib:\n&quot; &lt;&lt; matrix * vector &lt;&lt; std::endl;

  // sanity check that meshReaderLib is working and found
  ReadStructuredMesh mesh(&quot;../mesh/structured2D.cgns&quot;);
  mesh.readMesh();
  auto coordinates = mesh.getCoordinates();

  // print first 5 coordinates
  std::cout &lt;&lt; &quot;\nTesting meshReaderLib:\nX | Y &quot; &lt;&lt; std::endl;
  std::cout &lt;&lt; &quot;------&quot; &lt;&lt; std::endl;
  std::cout &lt;&lt; coordinates[0][0][0][COORDINATE::X] &lt;&lt; &quot; | &quot; &lt;&lt; coordinates[0][0][0][COORDINATE::Y] &lt;&lt; std::endl;
  std::cout &lt;&lt; coordinates[0][0][1][COORDINATE::X] &lt;&lt; &quot; | &quot; &lt;&lt; coordinates[0][0][1][COORDINATE::Y] &lt;&lt; std::endl;
  std::cout &lt;&lt; coordinates[0][0][2][COORDINATE::X] &lt;&lt; &quot; | &quot; &lt;&lt; coordinates[0][0][2][COORDINATE::Y] &lt;&lt; std::endl;
  std::cout &lt;&lt; coordinates[0][0][3][COORDINATE::X] &lt;&lt; &quot; | &quot; &lt;&lt; coordinates[0][0][3][COORDINATE::Y] &lt;&lt; std::endl;
  std::cout &lt;&lt; coordinates[0][0][4][COORDINATE::X] &lt;&lt; &quot; | &quot; &lt;&lt; coordinates[0][0][4][COORDINATE::Y] &lt;&lt; std::endl;

  return 0;
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #C586C0">#include</span><span style="color: #569CD6"> </span><span style="color: #CE9178">&lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C586C0">#include</span><span style="color: #569CD6"> </span><span style="color: #CE9178">&quot;linearAlgebraLib/linearAlgebraLib.hpp&quot;</span></span>
<span class="line"><span style="color: #C586C0">#include</span><span style="color: #569CD6"> </span><span style="color: #CE9178">&quot;meshReaderLib/meshReader.hpp&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">main</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">  // sanity check that linearAlgebraLib is working and found</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">linearAlgebraLib</span><span style="color: #D4D4D4">::SparseMatrixCSR </span><span style="color: #DCDCAA">matrix</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">3</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">3</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">set</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">); </span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">set</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">2.0</span><span style="color: #D4D4D4">); </span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">set</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">set</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">2.0</span><span style="color: #D4D4D4">); </span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">set</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">); </span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">set</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">2.0</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">set</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">); </span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">set</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">2.0</span><span style="color: #D4D4D4">); </span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">set</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">linearAlgebraLib</span><span style="color: #D4D4D4">::Vector </span><span style="color: #DCDCAA">vector</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">3</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #9CDCFE">vector</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">] = </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">; </span><span style="color: #9CDCFE">vector</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">] = </span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">; </span><span style="color: #9CDCFE">vector</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">] = </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::cout &lt;&lt; </span><span style="color: #CE9178">&quot;Testing linearAlgebraLib:</span><span style="color: #D7BA7D">\n</span><span style="color: #CE9178">&quot;</span><span style="color: #D4D4D4"> &lt;&lt; matrix * vector &lt;&lt; </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">  // sanity check that meshReaderLib is working and found</span></span>
<span class="line"><span style="color: #D4D4D4">  ReadStructuredMesh </span><span style="color: #DCDCAA">mesh</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&quot;../mesh/structured2D.cgns&quot;</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #9CDCFE">mesh</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">readMesh</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">auto</span><span style="color: #D4D4D4"> coordinates = </span><span style="color: #9CDCFE">mesh</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">getCoordinates</span><span style="color: #D4D4D4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">  // print first 5 coordinates</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::cout &lt;&lt; </span><span style="color: #CE9178">&quot;</span><span style="color: #D7BA7D">\n</span><span style="color: #CE9178">Testing meshReaderLib:</span><span style="color: #D7BA7D">\n</span><span style="color: #CE9178">X | Y &quot;</span><span style="color: #D4D4D4"> &lt;&lt; </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::endl;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::cout &lt;&lt; </span><span style="color: #CE9178">&quot;------&quot;</span><span style="color: #D4D4D4"> &lt;&lt; </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::endl;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::cout &lt;&lt; </span><span style="color: #9CDCFE">coordinates</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #4EC9B0">COORDINATE</span><span style="color: #D4D4D4">::X] &lt;&lt; </span><span style="color: #CE9178">&quot; | &quot;</span><span style="color: #D4D4D4"> &lt;&lt; </span><span style="color: #9CDCFE">coordinates</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #4EC9B0">COORDINATE</span><span style="color: #D4D4D4">::Y] &lt;&lt; </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::endl;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::cout &lt;&lt; </span><span style="color: #9CDCFE">coordinates</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">][</span><span style="color: #4EC9B0">COORDINATE</span><span style="color: #D4D4D4">::X] &lt;&lt; </span><span style="color: #CE9178">&quot; | &quot;</span><span style="color: #D4D4D4"> &lt;&lt; </span><span style="color: #9CDCFE">coordinates</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">][</span><span style="color: #4EC9B0">COORDINATE</span><span style="color: #D4D4D4">::Y] &lt;&lt; </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::endl;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::cout &lt;&lt; </span><span style="color: #9CDCFE">coordinates</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">][</span><span style="color: #4EC9B0">COORDINATE</span><span style="color: #D4D4D4">::X] &lt;&lt; </span><span style="color: #CE9178">&quot; | &quot;</span><span style="color: #D4D4D4"> &lt;&lt; </span><span style="color: #9CDCFE">coordinates</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">][</span><span style="color: #4EC9B0">COORDINATE</span><span style="color: #D4D4D4">::Y] &lt;&lt; </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::endl;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::cout &lt;&lt; </span><span style="color: #9CDCFE">coordinates</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">3</span><span style="color: #D4D4D4">][</span><span style="color: #4EC9B0">COORDINATE</span><span style="color: #D4D4D4">::X] &lt;&lt; </span><span style="color: #CE9178">&quot; | &quot;</span><span style="color: #D4D4D4"> &lt;&lt; </span><span style="color: #9CDCFE">coordinates</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">3</span><span style="color: #D4D4D4">][</span><span style="color: #4EC9B0">COORDINATE</span><span style="color: #D4D4D4">::Y] &lt;&lt; </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::endl;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::cout &lt;&lt; </span><span style="color: #9CDCFE">coordinates</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">4</span><span style="color: #D4D4D4">][</span><span style="color: #4EC9B0">COORDINATE</span><span style="color: #D4D4D4">::X] &lt;&lt; </span><span style="color: #CE9178">&quot; | &quot;</span><span style="color: #D4D4D4"> &lt;&lt; </span><span style="color: #9CDCFE">coordinates</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">4</span><span style="color: #D4D4D4">][</span><span style="color: #4EC9B0">COORDINATE</span><span style="color: #D4D4D4">::Y] &lt;&lt; </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Apart from <code>iostream</code>, we include the main header include files of both libraries on lines 2-3. Notice how we specify their relative path to <code>${CMAKE_INSTALL_PREFIX}/include</code>, i.e. we do not specify the include directory itself, but CMake knows that the header files will be in this directory.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Then, we just have two simple tests to ensure that both libraries are found correctly and work as expected. In fact, lines 8-17 are simply the <a href="https://cfd.university/learn/the-complete-guide-to-software-testing-for-cfd-applications/how-to-test-a-linear-algebra-solver-library-using-gtest/#aioseo-testing-matrix-vector-multiplication" target="_blank" rel="noopener" title="">integration test we wrote for the linear algebra solver library</a>, while lines 20-31 read the structured mesh we have provided in the <code>mesh/</code> directory. Notice the relative include on line 20, where we say first go back one directory (<code>../</code>), and then go to <code>mesh/structured2D.cgns</code>. We need to do this as the test executable will be written to the <code>build/</code> folder.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We could get around this by providing the mesh file itself in the <code>build/</code> folder, which means we need to copy it with CMake after the build has been completed, as we saw before. In this instance, though, we use a relative path back to the root folder, which is dirty but acceptable for this simple test project.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Lines 21-22 read the mesh and get the coordinates, and for sanity checking, we print some of them on lines 27-31. That's all. As I said, there is nothing interesting here; it is to test that the libraries can be found and used correctly.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-required-cmake-files-to-build-the-project">Required CMake files to build the project</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Our top-level (and only) <code>CMakeLists.txt</code> file is given below:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cmake_minimum_required(VERSION 3.23)\n\nproject(testLibs LANGUAGES CXX)\n\nset(CMAKE_CXX_STANDARD 17)\nset(CMAKE_CXX_STANDARD_REQUIRED ON)\n\nadd_executable(${CMAKE_PROJECT_NAME} main.cpp)\n\nfind_package(linearAlgebraLib REQUIRED)\nfind_package(meshReaderLib REQUIRED)\n\ntarget_link_libraries(${CMAKE_PROJECT_NAME} PRIVATE linearAlgebraLib::linearAlgebraLib meshReaderLib::meshReaderLib)","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003ecmake_minimum_required\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(VERSION 3.23)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eproject\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(testLibs LANGUAGES CXX)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CMAKE_CXX_STANDARD 17)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eset\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(CMAKE_CXX_STANDARD_REQUIRED \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eON\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eadd_executable\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e main.cpp)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003efind_package\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(linearAlgebraLib REQUIRED)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003efind_package\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(meshReaderLib REQUIRED)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003etarget_link_libraries\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e${CMAKE_PROJECT_NAME}\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e PRIVATE linearAlgebraLib::linearAlgebraLib meshReaderLib::meshReaderLib)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cmake","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":13,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cmake_minimum_required(VERSION 3.23)

project(testLibs LANGUAGES CXX)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

add_executable(${CMAKE_PROJECT_NAME} main.cpp)

find_package(linearAlgebraLib REQUIRED)
find_package(meshReaderLib REQUIRED)

target_link_libraries(${CMAKE_PROJECT_NAME} PRIVATE linearAlgebraLib::linearAlgebraLib meshReaderLib::meshReaderLib)" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">cmake_minimum_required</span><span style="color: #D4D4D4">(VERSION 3.23)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">project</span><span style="color: #D4D4D4">(testLibs LANGUAGES CXX)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CMAKE_CXX_STANDARD 17)</span></span>
<span class="line"><span style="color: #569CD6">set</span><span style="color: #D4D4D4">(CMAKE_CXX_STANDARD_REQUIRED </span><span style="color: #569CD6">ON</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">add_executable</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span><span style="color: #D4D4D4"> main.cpp)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">find_package</span><span style="color: #D4D4D4">(linearAlgebraLib REQUIRED)</span></span>
<span class="line"><span style="color: #569CD6">find_package</span><span style="color: #D4D4D4">(meshReaderLib REQUIRED)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">target_link_libraries</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">${CMAKE_PROJECT_NAME}</span><span style="color: #D4D4D4"> PRIVATE linearAlgebraLib::linearAlgebraLib meshReaderLib::meshReaderLib)</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>As per usual, we have calls to <code>cmake_minimum_required()</code> and <code>project()</code>. We also require the C++ 2017 standard on lines 5-6, as we are using the mesh reader lib library, which itself requires this standard as a minimum.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We add our test executable on line 8, where you can see I was lazy and included the only source file we have directly as an argument; no need to call <code>target_sources()</code> separately.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>On lines 10-11, we tell CMake that we need both the <code>linearAlgebraLib</code> and <code>meshReaderLib</code> library installed before we can continue. These are set to <code>REQUIRED</code> and so CMake will stop execution if it can't find these libraries. Both these libraries have their own dependencies, which are specified in their respective configuration file, and so CMake will look for them as well when including these libraries. Both depend on GTest and Doxygen, but we did not <code>REQUIRE</code> them. However, the mesh reader library also depends on CGNS, which was set to <code>REQUIRED</code>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We link both of these libraries back to our executable on line 13, after which they are available to use in our test project's <code>main.cpp</code> file.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>There is an interesting question, then: If I compile my mesh reader library as a static library, and I compile all of its dependencies as static libraries as well (e.g. CGNS, HDF5, Zlib), could I combine all of them into a single static library? After all, static libraries are just a collection of compiled source files that get dumped into the executable, and conceptually, this would be akin to extracting four zip archives and creating a new zip file that contains the content of all four.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>This would mean that we only have to include the mesh reader library and we would not need to look for its dependencies anymore (CGNS, HDF5, Zlib). People have tried, and <a href="https://stackoverflow.com/questions/14199708/cmake-include-library-dependencies-in-a-static-library" target="_blank" rel="noopener" title="">found working solutions which are, perhaps, more of a hack</a> than anything else. It is not cross-platform (although it could be made cross-platform with some testing), and, well, perhaps best left as a thought experiment.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We do have to provide at least the CGNS library, even though it is not an explicit project dependency (rather, it is an implicit one), and this is why we have to use Conan in the next step to make the CGNS library available for our current project.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-getting-dependencies-with-conan">Getting dependencies with Conan</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The <code>conanfile.txt</code> is given below and should probably by now look predictable:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"[requires]\ncgns/4.3.0\n\n[generators]\nCMakeDeps\nCMakeToolchain","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[requires]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecgns/4.3.0\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e[generators]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eCMakeDeps\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eCMakeToolchain\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":6,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="[requires]
cgns/4.3.0

[generators]
CMakeDeps
CMakeToolchain" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">[requires]</span></span>
<span class="line"><span style="color: #DCDCAA">cgns/4.3.0</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">[generators]</span></span>
<span class="line"><span style="color: #DCDCAA">CMakeDeps</span></span>
<span class="line"><span style="color: #DCDCAA">CMakeToolchain</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We only require that the CGNS library is installed. There is no need to bother about GTest and Doxygen, as we are not using them while consuming the mesh reader library.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Let's go through the command line instructions to get this project compiled next:</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-command-line-instructions">Command line instructions</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>At this point, we will follow the usual steps to configure and compile our project. There shouldn't be much of a surprise here, and the steps are pretty much the same, apart from the configuration options, which are fewer now, as we do not have any project-specific settings to choose from.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-getting-dependencies-through-conan">Getting dependencies through Conan</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>First, we install our dependencies using Conan to make the CGNS library available. This is shown below:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"conan install . -pr dev \u002d\u002doutput-folder=build \u002d\u002dbuild=missing","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003econan\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003einstall\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-pr\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003edev\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002doutput-folder=build\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dbuild=missing\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="conan install . -pr dev --output-folder=build --build=missing" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">conan</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">install</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">.</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-pr</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">dev</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--output-folder=build</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--build=missing</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-configuring-the-project">Configuring the project</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Next, we change into our <code>build/</code> directory and execute the following line:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cmake -DCMAKE_BUILD_TYPE=Debug -DCMAKE_PREFIX_PATH=C:\\temp -DCMAKE_TOOLCHAIN_FILE=\u0022conan_toolchain.cmake\u0022 -G Ninja ..","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-DCMAKE_BUILD_TYPE=Debug\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-DCMAKE_PREFIX_PATH=C:\u003c/span\u003e\u003cspan style=\u0022color: #D7BA7D\u0022\u003e\\t\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eemp\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-DCMAKE_TOOLCHAIN_FILE=\u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026quot;conan_toolchain.cmake\u0026quot;\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e-G\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eNinja\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e..\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cmake -DCMAKE_BUILD_TYPE=Debug -DCMAKE_PREFIX_PATH=C:\temp -DCMAKE_TOOLCHAIN_FILE=&quot;conan_toolchain.cmake&quot; -G Ninja .." style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">cmake</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-DCMAKE_BUILD_TYPE=Debug</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-DCMAKE_PREFIX_PATH=C:</span><span style="color: #D7BA7D">\t</span><span style="color: #569CD6">emp</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-DCMAKE_TOOLCHAIN_FILE=</span><span style="color: #CE9178">&quot;conan_toolchain.cmake&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-G</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Ninja</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">..</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We set the <code>CMAKE_PREFIC_PATH</code> to the location where we installed the linear algebra solver library, as well as the mesh reader library to, and tell CMake where to find the toolchain file that details where to find all of our dependencies (in this case, only CGNS).</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-compiling-the-executable">Compiling the executable</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The compilation step is the same as before and simply reads:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"cmake \u002d\u002dbuild . \u002d\u002dconfig Debug","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecmake\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dbuild\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u002d\u002dconfig\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003eDebug\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="cmake --build . --config Debug" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">cmake</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--build</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">.</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--config</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Debug</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:heading {"level":4} -->
<h4 class="wp-block-heading" id="aioseo-testing-that-the-executable-could-resolve-all-build-dependencies">Testing that the executable could resolve all build dependencies</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>So then, fingers crossed, we have compiled our executable. Hopefully, we haven't received any errors up until now, and we can finally type the following into our console:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":".\\testLibs.exe","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\\testLibs.exe\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":1,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code=".\testLibs.exe" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">.</span><span style="color: #D4D4D4">\testLibs.exe</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Did it work? Yes? Probably not! On Windows, there is one more thing. We build everything as a dynamic (shared) library. This means copying the dynamic library next to the executable, which we haven't done yet. However, it turns out Windows does support searching for dynamic libraries (which I claimed erroneously before it can't!). To do so, we have to update the <code>PATH</code> environmental variable on Windows.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Search for environmental variables in the search bar if you are on Windows, and change the user ones for the <code>PATH</code>. Add the installation prefix directory (i.e. in this case, <code>C:\temp</code>). You will have to close and open your PowerShell again for the changes to be recognised. Afterwards, it should work! On UNIX, it seems that CMake is able to correctly set the runtime path so the shared library is located automatically. Here, change the installation folder to something less Windows-like, e.g. <code>~/temp</code> and then execute <code>./testLibs</code> instead of <code>.\testLibs.exe</code>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Hooray! It's time to get the champagne (well, for me at least, this article took me way longer to complete than anticipated. A celebration is in order! (But then again, it is 5 am; perhaps I should have breakfast before the champagne (also, I forgot, I don't like champagne, so I need to rummage through the downstairs cabinets ... ))). Anyhow, here is the output of the executable:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"Testing linearAlgebraLib:\n( 1 4 1 )\n\nTesting meshReaderLib:\nX | Y\n\u002d\u002d\u002d\u002d\u002d\u002d\n0 | 0\n0 | 0.25\n0 | 0.5\n0 | 0.75\n0 | 1","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eTesting\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003elinearAlgebraLib:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e( \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e4\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eTesting\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003emeshReaderLib:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eX\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e | \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eY\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e\u002d\u002d\u002d\u002d\u002d\u002d\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e | \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e | \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0.25\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e | \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0.5\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e | \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0.75\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e | \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e1\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"bash","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highestLineNumber":11,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="Testing linearAlgebraLib:
( 1 4 1 )

Testing meshReaderLib:
X | Y
------
0 | 0
0 | 0.25
0 | 0.5
0 | 0.75
0 | 1" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">Testing</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">linearAlgebraLib:</span></span>
<span class="line"><span style="color: #D4D4D4">( </span><span style="color: #DCDCAA">1</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">4</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> )</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">Testing</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">meshReaderLib:</span></span>
<span class="line"><span style="color: #DCDCAA">X</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">Y</span></span>
<span class="line"><span style="color: #DCDCAA">------</span></span>
<span class="line"><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">0</span></span>
<span class="line"><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">0.25</span></span>
<span class="line"><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">0.5</span></span>
<span class="line"><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">0.75</span></span>
<span class="line"><span style="color: #DCDCAA">0</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">1</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Oh, and if you're wondering, I found some <a href="https://www.tesco.com/groceries/en-GB/products/301736850" target="_blank" rel="noopener" title="">Matchmakers</a> to substitute the champagne, I'll enjoy those on my commute to work now!</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-summary">Summary</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>This (finally) concludes our article on how to extend our linear algebra solver and mesh reading library to use CMake internally to steer the compilation, testing, documentation generation, installation, and packaging in one place. From now on, we will use CMake for all subsequent projects on this website, and when we inevitably get back to either one of these libraries, we will use the CMake version developed in this article as it provides us with a fully automated workflow.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>We also saw how we can consume our generated libraries within other CMake-based projects. This is more complicated than what we saw before with our complex number library, as we now have to think about the dependencies of our dependencies (in this case, our mesh reader library itself depends on the CGNS library).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If you have gone through this article in its entirety, you will have a strong foundation for writing your own libraries now that can automate the entire build and deployment stage of your software project. It is a powerful tool that will require some more getting used to. CMake isn't always the most straightforward tool to use (I still struggle sometimes with generator expressions; I don't think they feel very natural), but there are tons of good resources out there that can help us overcome these (except the official CMake documentation!)</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>And, finally, we have learned that Matchmakers are a good alternative to Champaign should you find yourself in a celebratory moment and are short of some bubbles (or just don't fancy them)! This last sentence will confuse google endlessly.</p>
<!-- /wp:paragraph -->