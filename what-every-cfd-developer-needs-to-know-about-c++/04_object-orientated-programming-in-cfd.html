<!-- wp:paragraph -->
<p>Classes and structures are what make C++ so powerful compared to its predecessor C. While classes are, broadly speaking, just a logical collection of functions and data. This data is used by these functions, and so classes and structures offer no obvious direct benefit (other than organisational benefits). However, they do allow for a different kind of programming (object-orientated programming) which fundamentally changes the way we design and implement code. This article will showcase the essential features of classes and structures and make you an object-orientated programmer if you have not already embraced this paradigm.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading">In this series</h2>
<!-- /wp:heading -->

<!-- wp:shortcode -->
[custom_category_posts_list category_slug="what-every-cfd-developer-needs-to-know-about-c"]
<!-- /wp:shortcode -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-table-of-contents">In this article</h2>
<!-- /wp:heading -->

<!-- wp:aioseo/table-of-contents {"headings":[{"id":5,"blockClientId":"3c9ab4dd-aac9-4954-bd3b-376f24545226","content":"A motivating example","level":2,"anchor":"aioseo-to-be-filled-out","order":0,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":10,"blockClientId":"de0eaa68-5dfc-4836-8873-a67a0ca5bcfc","content":"Avoiding code repition","level":3,"anchor":"aioseo-avoiding-code-repition","order":1,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]},{"id":20,"blockClientId":"cf125d24-a51e-46df-ae0b-2b658d6de342","content":"Classes to the rescue","level":2,"anchor":"aioseo-classes-to-the-rescue","order":2,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":26,"blockClientId":"ca335371-c630-4651-8118-e6d36b06c5a2","content":"Class types","level":3,"anchor":"aioseo-class-types","order":3,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":29,"blockClientId":"815bd4b8-7e38-4a46-a650-e5e9c78277b5","content":"Creating and deleting objects: The constructor and destructor","level":3,"anchor":"aioseo-creating-and-deleting-objects-the-constructor-and-destructor","order":4,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":34,"blockClientId":"1ec5d955-1480-4f4f-92d1-1c1de1228034","content":"Functions in Classes (methods)","level":3,"anchor":"aioseo-functions-in-classes-methods","order":5,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":38,"blockClientId":"f54bd8a6-eba3-4dad-a39d-516100a41425","content":"Restricting access: private, protected, and public access modifiers","level":3,"anchor":"aioseo-restricting-access-private-protected-and-public-access-modifiers","order":6,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":43,"blockClientId":"f251e564-81b4-40db-b8aa-462f8646e590","content":"Hiding implementation logic: private functions","level":3,"anchor":"aioseo-hiding-implementation-logic-private-functions","order":7,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":47,"blockClientId":"bb9bd3cf-4a74-4be4-aa9d-1446820938e8","content":"A key concept in object-orientated programming: Encapsulation","level":3,"anchor":"aioseo-encapsulation","order":8,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":52,"blockClientId":"6bc87c68-b534-4e04-91fe-df256481e5f3","content":"Classes vs. Structures","level":3,"anchor":"aioseo-classes-vs-structures","order":9,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]},{"id":58,"blockClientId":"e42cd6e5-3776-4193-a33c-dec129f55e30","content":"Some example classes","level":2,"anchor":"aioseo-some-example-classes","order":10,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[{"id":60,"blockClientId":"c291c1ff-36cd-458d-81fe-e48d2f09418d","content":"Mesh reading class","level":3,"anchor":"aioseo-me","order":11,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":63,"blockClientId":"bd6ce2d3-f779-4694-9582-de1b54ac0a6f","content":"Gradient calculation class","level":3,"anchor":"aioseo-gradient-calculation-class","order":12,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":66,"blockClientId":"0813218f-b9a8-401f-ae44-f23bbf8ff816","content":"Linear algebra class","level":3,"anchor":"aioseo-linear-algebra-class","order":13,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]},{"id":69,"blockClientId":"41759f40-f0ea-46b6-8010-a67d3615ae90","content":"Remarks on class structures","level":3,"anchor":"aioseo-remarks-on-class-structures","order":14,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]},{"id":71,"blockClientId":"d3b5f6e7-1003-41b1-ab2d-cb8ac3ad79cb","content":"Summary","level":2,"anchor":"aioseo-summary","order":15,"editedContent":"","editedLevel":0,"editedOrder":0,"hidden":false,"headings":[]}]} -->
<div class="wp-block-aioseo-table-of-contents"><ul><li><a href="#aioseo-to-be-filled-out">A motivating example</a><ul><li><a href="#aioseo-avoiding-code-repition">Avoiding code repition</a></li></ul></li><li><a href="#aioseo-classes-to-the-rescue">Classes to the rescue</a><ul><li><a href="#aioseo-class-types">Class types</a></li><li><a href="#aioseo-creating-and-deleting-objects-the-constructor-and-destructor">Creating and deleting objects: The constructor and destructor</a></li><li><a href="#aioseo-functions-in-classes-methods">Functions in Classes (methods)</a></li><li><a href="#aioseo-restricting-access-private-protected-and-public-access-modifiers">Restricting access: private, protected, and public access modifiers</a></li><li><a href="#aioseo-hiding-implementation-logic-private-functions">Hiding implementation logic: private functions</a></li><li><a href="#aioseo-encapsulation">A key concept in object-orientated programming: Encapsulation</a></li><li><a href="#aioseo-classes-vs-structures">Classes vs. Structures</a></li></ul></li><li><a href="#aioseo-some-example-classes">Some example classes</a><ul><li><a href="#aioseo-me">Mesh reading class</a></li><li><a href="#aioseo-gradient-calculation-class">Gradient calculation class</a></li><li><a href="#aioseo-linear-algebra-class">Linear algebra class</a></li><li><a href="#aioseo-remarks-on-class-structures">Remarks on class structures</a></li></ul></li><li><a href="#aioseo-summary">Summary</a></li></ul></div>
<!-- /wp:aioseo/table-of-contents -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-to-be-filled-out">A motivating example</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>In this article, I want to take a different route of introducing classes and structures, compared to what you would normally see in the literature. So if you already know something about classes, hopefully, this will provide you with a fresh and new view of this topic. For the moment, we will only concentrate on classes, and then later extend our knowledge to structures, and you'll see that they are pretty much the same, but we use them for different things. Suffice it to say, that what we are going to discuss about classes also holds true for structures.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The best way, in my opinion, to understand classes is by coming up with an example where they would be useful. Let's say we wanted to write our own linear algebra library. At some point, we may want to do some operations with a matrix, as shown in the following example.</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"#include \u0026lt;iostream\u003e\n#include \u0026lt;vector\u003e\n\nusing Matrix = typename std::vector\u0026lt;std::vector\u0026lt;double\u003e\u003e;\n\nvoid initialiseMatrix(unsigned numRows, unsigned numCols, Matrix \u0026amp;matrix) {\n  // allocate memory for matrix and set all elements to zero\n}\n\nvoid transposeMatrix(Matrix \u0026amp;matrix) {\n  // implement transpose of matrix\n}\n\nvoid calculateMatrixNorm(unsigned norm, Matrix \u0026amp;matrix) {\n  // calculate L0, L1, L2, L... norm\n}\n\nint main() {\n  unsigned numberOfRows = 1000;\n  unsigned numberOfColumns = 1000;\n  unsigned norm = 2;\n  Matrix matrix;\n\n  initialiseMatrix(numberOfRows, numberOfColumns, matrix);\n  transposeMatrix(matrix);\n  calculateMatrixNorm(norm, matrix);\n\n  return 0;\n}","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003e#include\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003e#include\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026lt;vector\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003eusing\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eMatrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003etypename\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt;\u0026gt;;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003evoid\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003einitialiseMatrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003enumRows\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003enumCols\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eMatrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u0026amp;\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // allocate memory for matrix and set all elements to zero\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003evoid\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003etransposeMatrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eMatrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u0026amp;\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // implement transpose of matrix\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003evoid\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecalculateMatrixNorm\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003enorm\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eMatrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e\u0026amp;\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // calculate L0, L1, L2, L... norm\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eint\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emain\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e numberOfRows = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1000\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e numberOfColumns = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1000\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e norm = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  Matrix matrix;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003einitialiseMatrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(numberOfRows, numberOfColumns, matrix);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003etransposeMatrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(matrix);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecalculateMatrixNorm\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(norm, matrix);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003ereturn\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"lineNumbersWidth":15.5,"highestLineNumber":29,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="#include &lt;iostream&gt;
#include &lt;vector&gt;

using Matrix = typename std::vector&lt;std::vector&lt;double&gt;&gt;;

void initialiseMatrix(unsigned numRows, unsigned numCols, Matrix &amp;matrix) {
  // allocate memory for matrix and set all elements to zero
}

void transposeMatrix(Matrix &amp;matrix) {
  // implement transpose of matrix
}

void calculateMatrixNorm(unsigned norm, Matrix &amp;matrix) {
  // calculate L0, L1, L2, L... norm
}

int main() {
  unsigned numberOfRows = 1000;
  unsigned numberOfColumns = 1000;
  unsigned norm = 2;
  Matrix matrix;

  initialiseMatrix(numberOfRows, numberOfColumns, matrix);
  transposeMatrix(matrix);
  calculateMatrixNorm(norm, matrix);

  return 0;
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #C586C0">#include</span><span style="color: #569CD6"> </span><span style="color: #CE9178">&lt;iostream&gt;</span></span>
<span class="line"><span style="color: #C586C0">#include</span><span style="color: #569CD6"> </span><span style="color: #CE9178">&lt;vector&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C586C0">using</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Matrix</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">typename</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">vector</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">vector</span><span style="color: #D4D4D4">&lt;</span><span style="color: #569CD6">double</span><span style="color: #D4D4D4">&gt;&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">initialiseMatrix</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">numRows</span><span style="color: #D4D4D4">, </span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">numCols</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">Matrix</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">&amp;</span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #6A9955">  // allocate memory for matrix and set all elements to zero</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">transposeMatrix</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">Matrix</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">&amp;</span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #6A9955">  // implement transpose of matrix</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">calculateMatrixNorm</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">norm</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">Matrix</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">&amp;</span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #6A9955">  // calculate L0, L1, L2, L... norm</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">main</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> numberOfRows = </span><span style="color: #B5CEA8">1000</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> numberOfColumns = </span><span style="color: #B5CEA8">1000</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> norm = </span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  Matrix matrix;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">initialiseMatrix</span><span style="color: #D4D4D4">(numberOfRows, numberOfColumns, matrix);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">transposeMatrix</span><span style="color: #D4D4D4">(matrix);</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">calculateMatrixNorm</span><span style="color: #D4D4D4">(norm, matrix);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>We first define a matrix type on line 4, which is just a two-dimensional array consisting of two <code>std::vector</code>s. On lines 6, 10, and 14, we define three different functions of operations that we may want to do to our matrix. Now there is one thing programmers are allergic to, one thing that every programming language wants to avoid, and one thing you'll learn on day one-ish of a computer science degree; DRY. </p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-avoiding-code-repition">Avoiding code repition</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>What is DRY? It is an acronym for <a href="https://www.baeldung.com/cs/dry-software-design-principle" target="_blank" rel="noopener" title="">Don't Repeat Yourself</a>, in other words, never copy and paste code, if you find yourself doing it, you must stop. DRY is also referred to as knowledge duplication. If you have to write the same code twice (or copy and paste it), you are duplicating the logic that the code implements and thus duplicate knowledge. Once you change one implementation, the other implementation becomes outdated and you need to remember to fix it, if you don't, your application likely still runs, but it will produce inconsistent results at best and plain wrong results at worst. Programming languages provide us with features to avoid code repetition and we can extend this concept to our semantics as well.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>On this note, you have to applaude the computer science community for then coming up with the acronym WET, which is supposed to be the opposite of DRY code, i.e. lots of repetition. Since the acronym was formed first, there are many interpretations for what WET stands for, including <em>write everything twice</em>, <em>write every time</em>, <em>we enjoy typing</em>, and <em>waste everyone's time</em>. Don't be wet, be dry!</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>If we look at the sample code above, we can see that all function names contain the word Matrix, and all functions accept, as one argument, the matrix itself (and note how the matrix is call by reference while the other arguments, located on the stack, are call by value. If you need a refresher on the stack and the heap, and call by reference and value, look at my write-up on <a href="https://cfd.university/learn/what-every-cfd-developer-needs-to-know-about-c/understanding-memory-management-in-c/" target="_blank" rel="noopener" title="">memory management in C++</a>). The naming of the function is somewhat unfortunate, but we can <em>live</em> with it if we have to. But the function arguments are something else.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Let's say we realise later that actually there are some matrices which are always three by three, i.e. transformation matrices in three-dimensional space, or tensors. Of course, we could use the current Matrix type that we defined before, but since this is using std::vectors, its memory will always be allocated on the heap, and for a three-by-three matrix, which comfortably fits on the stack, we may want to provide a different type which fits on the stack to boost perfromance. Then, we may want to introduce a new type and fix the size of the matrix at compile time, and for this, we have a new data type available to us; the <code>std::array</code>:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"#include \u0026lt;array\u003e\nusing Matrix33 = typename std::array\u0026lt;std::array\u0026lt;double, 3\u003e, 3\u003e;","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003e#include\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026lt;array\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003eusing\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eMatrix33\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003etypename\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003earray\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003earray\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e3\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt;, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e3\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt;;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"lineNumbersWidth":7.296875,"highestLineNumber":2,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="#include &lt;array&gt;
using Matrix33 = typename std::array&lt;std::array&lt;double, 3&gt;, 3&gt;;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #C586C0">#include</span><span style="color: #569CD6"> </span><span style="color: #CE9178">&lt;array&gt;</span></span>
<span class="line"><span style="color: #C586C0">using</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Matrix33</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">typename</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">array</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">array</span><span style="color: #D4D4D4">&lt;</span><span style="color: #569CD6">double</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">3</span><span style="color: #D4D4D4">&gt;, </span><span style="color: #B5CEA8">3</span><span style="color: #D4D4D4">&gt;;</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Since we already reserved the name <code>Matrix</code> for our dynamically allocated matrix, we had to come up with a new name, here <code>Matrix33</code>, but you could have named it any way you wanted. However, while this will avoid naming conflicts, you may argue that having just a <code>Matrix</code> type now is confusing, as it doesn't really communicate that this is the dynamic version, and you want to have clear name separations of your variables, so you decide to rename it, i.e. you now could have something like this:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"#include \u0026lt;vector\u003e\n#include \u0026lt;array\u003e\n\nusing MatrixDynamic = typename std::vector\u0026lt;std::vector\u0026lt;double\u003e\u003e;\nusing Matrix33 = typename std::array\u0026lt;std::array\u0026lt;double, 3\u003e, 3\u003e;","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003e#include\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026lt;vector\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003e#include\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026lt;array\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003eusing\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eMatrixDynamic\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003etypename\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt;\u0026gt;;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003eusing\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eMatrix33\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003etypename\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003earray\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003earray\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e3\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt;, \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e3\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt;;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"lineNumbersWidth":7.640625,"highestLineNumber":5,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="#include &lt;vector&gt;
#include &lt;array&gt;

using MatrixDynamic = typename std::vector&lt;std::vector&lt;double&gt;&gt;;
using Matrix33 = typename std::array&lt;std::array&lt;double, 3&gt;, 3&gt;;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #C586C0">#include</span><span style="color: #569CD6"> </span><span style="color: #CE9178">&lt;vector&gt;</span></span>
<span class="line"><span style="color: #C586C0">#include</span><span style="color: #569CD6"> </span><span style="color: #CE9178">&lt;array&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C586C0">using</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">MatrixDynamic</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">typename</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">vector</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">vector</span><span style="color: #D4D4D4">&lt;</span><span style="color: #569CD6">double</span><span style="color: #D4D4D4">&gt;&gt;;</span></span>
<span class="line"><span style="color: #C586C0">using</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Matrix33</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">typename</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">array</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">array</span><span style="color: #D4D4D4">&lt;</span><span style="color: #569CD6">double</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">3</span><span style="color: #D4D4D4">&gt;, </span><span style="color: #B5CEA8">3</span><span style="color: #D4D4D4">&gt;;</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>But now we have changed the type name, and so we have to change the type names everywhere in the code. See, we just repeated ourselves by typing out the type name in each function, and so our code isn't DRY. I know this seems pedantic, but I want to prime you for these situations. Sometimes you will also hear this type of issue in code referred to as <em>bad code smells</em>, i.e. code that works but which likely will become a mess as it grows. Imagine we had implemented a bunch of functions in different files where the matrix object is needed, then you would have to change it everywhere, and we just want to avoid this as much as possible.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>And, to satisfy the super pedantic readers, yes, there are even better ways to deal with this particular situation, but I don't want to go down that rabbit hole. But if you are interested, many companies provide their own implementation of the <code>std::vector</code> class, where memory is allocated on the stack if it is small enough, and moved to the heap once the size becomes too large. Facebook, (or meta?), for example, use a <a href="https://github.com/facebook/folly/blob/main/folly/docs/small_vector.md" target="_blank" rel="noopener" title="">small_vector</a> class, that behaves very similarly to a <code>std::vector</code> but optimises memory usage on the stack where possible. </p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-classes-to-the-rescue">Classes to the rescue</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>So, this leads us naturally to classes and structures. A class, essentially, is a collection of functions that operate on the same data. In this example, our class would contain the matrix itself, and then each function within the class would have access to this matrix and be able to manipulate it. Let's flesh out the same example now (just for the dynamic matrix version, i.e. the one using <code>std::vector</code>, but we'll learn better solutions later when we discuss templates. Also, I should stress at this point that you would not actually use a 2D <code>std::vector</code> here to store an actual matrix of this type in a CFD solver, as most entries will be zero. We would prefer a sparse matrix storage type, such as <a href="https://netlib.org/linalg/html_templates/node91.html" target="_blank" rel="noopener" title="">Compressed Row Storage (CRS)</a> and I'll likely come back to this later and show how to write our own linear algebra package using this type of storage):</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"#include \u0026lt;iostream\u003e\n#include \u0026lt;vector\u003e\n\nclass Matrix {\npublic:\n  using MatrixType = typename std::vector\u0026lt;std::vector\u0026lt;double\u003e\u003e;\n\n  Matrix(unsigned numberOfRows, unsigned numberOfColumns) {\n    _numRows = numberOfRows;\n    _numCols = numberOfColumns;\n  }\n\n  ~Matrix() { }\n\n  void initialise() { }\n  void transpose() { }\n  void calculateNorm(unsigned norm) { }\n\nprivate:\n  MatrixType _matrix;\n  unsigned _numRows = 0;\n  unsigned _numCols = 0;\n};\n\nint main() {\n  unsigned numberOfRows = 1000;\n  unsigned numberOfColumns = 1000;\n  unsigned norm = 2;\n  Matrix matrix(numberOfRows, numberOfColumns);\n\n  matrix.initialise();\n  matrix.transpose();\n  matrix.calculateNorm(norm);\n\n  return 0;\n}\n","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003e#include\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026lt;iostream\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003e#include\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #CE9178\u0022\u003e\u0026lt;vector\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eclass\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eMatrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003epublic:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003eusing\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eMatrixType\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003etypename\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003estd\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e::\u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003evector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e\u0026gt;\u0026gt;;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eMatrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003enumberOfRows\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003enumberOfColumns\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    _numRows = numberOfRows;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    _numCols = numberOfColumns;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003e~Matrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() { }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003evoid\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003einitialise\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() { }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003evoid\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003etranspose\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() { }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003evoid\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecalculateNorm\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003enorm\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) { }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eprivate:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  MatrixType _matrix;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e _numRows = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e _numCols = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eint\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003emain\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e numberOfRows = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1000\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e numberOfColumns = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1000\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e norm = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  Matrix \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(numberOfRows, numberOfColumns);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003einitialise\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003etranspose\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ematrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003ecalculateNorm\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(norm);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #C586C0\u0022\u003ereturn\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"lineNumbersWidth":14.90625,"highestLineNumber":37,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="#include &lt;iostream&gt;
#include &lt;vector&gt;

class Matrix {
public:
  using MatrixType = typename std::vector&lt;std::vector&lt;double&gt;&gt;;

  Matrix(unsigned numberOfRows, unsigned numberOfColumns) {
    _numRows = numberOfRows;
    _numCols = numberOfColumns;
  }

  ~Matrix() { }

  void initialise() { }
  void transpose() { }
  void calculateNorm(unsigned norm) { }

private:
  MatrixType _matrix;
  unsigned _numRows = 0;
  unsigned _numCols = 0;
};

int main() {
  unsigned numberOfRows = 1000;
  unsigned numberOfColumns = 1000;
  unsigned norm = 2;
  Matrix matrix(numberOfRows, numberOfColumns);

  matrix.initialise();
  matrix.transpose();
  matrix.calculateNorm(norm);

  return 0;
}
" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #C586C0">#include</span><span style="color: #569CD6"> </span><span style="color: #CE9178">&lt;iostream&gt;</span></span>
<span class="line"><span style="color: #C586C0">#include</span><span style="color: #569CD6"> </span><span style="color: #CE9178">&lt;vector&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Matrix</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #569CD6">public:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #C586C0">using</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">MatrixType</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">typename</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">vector</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">std</span><span style="color: #D4D4D4">::</span><span style="color: #4EC9B0">vector</span><span style="color: #D4D4D4">&lt;</span><span style="color: #569CD6">double</span><span style="color: #D4D4D4">&gt;&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">Matrix</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">numberOfRows</span><span style="color: #D4D4D4">, </span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">numberOfColumns</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">    _numRows = numberOfRows;</span></span>
<span class="line"><span style="color: #D4D4D4">    _numCols = numberOfColumns;</span></span>
<span class="line"><span style="color: #D4D4D4">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">~Matrix</span><span style="color: #D4D4D4">() { }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">initialise</span><span style="color: #D4D4D4">() { }</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">transpose</span><span style="color: #D4D4D4">() { }</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">calculateNorm</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">norm</span><span style="color: #D4D4D4">) { }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">private:</span></span>
<span class="line"><span style="color: #D4D4D4">  MatrixType _matrix;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> _numRows = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> _numCols = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">main</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> numberOfRows = </span><span style="color: #B5CEA8">1000</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> numberOfColumns = </span><span style="color: #B5CEA8">1000</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> norm = </span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  Matrix </span><span style="color: #DCDCAA">matrix</span><span style="color: #D4D4D4">(numberOfRows, numberOfColumns);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">initialise</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">transpose</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #9CDCFE">matrix</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">calculateNorm</span><span style="color: #D4D4D4">(norm);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Let's go through this in more detail. On line 4, we declare a class called Matrix, which goes all the way to line 23 (and notice how each class definition is finished by a semicolon). We ignore the keywords <em>public</em> and <em>private</em> on lines 5 and 19 for now and come back later to them. On line 6, we declare a <code>MatrixType</code> as we have done before, this allows us to reference the type later if we need to. We define then a matrix on line 20. On lines 21-22, we also specify the number of rows and columns our matrix should have, and you'll notice that variable names now start with a leading underscore.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>The opinions in the C++ community are somewhat divided on the leading underscore, technically you can name your variables anything you want, but within the core implementation of the C++ runtime library, variable names are declared with two leading underscores. The argumentation goes that a leading underscore for your name may be confusing and could be mistaken for C++'s internal variables, and the argumentation goes that you should have then a trailing underscore, rather than a leading underscore (i.e. instead of <code>_matrix</code>, use <code>matrix_</code>). </p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Some also advocate a different naming, starting with a leading <code>m_</code>, i.e. we would have now <code>m_matrix</code>, where the <code>m</code> refers to a <em>member</em> of the class. I have, however, decided to stick with the leading underscore in my code for a simple reason; if you look at other programming languages, a leading underscore seems to be the norm. It is just us C++ programmers who have too much time to have serious discussions about <a href="https://stackoverflow.com/questions/228783/what-are-the-rules-about-using-an-underscore-in-a-c-identifier" target="_blank" rel="noopener" title="">leading vs. trailing underscores</a>. There are some languages where a leading underscore is actually required to make variables private (again, we'll get to that), so, out of habit, and to stick with conventions pretty much used everywhere else as far as I can see, I'll be using leading underscores.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-class-types">Class types</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Let's jump to line 29 for the moment, we see that we are using our matrix class here. And, if we compare that to, say, line 28, we see that each variable declaration follows the form <code>Type Name</code>, i.e. first we specify the type (either <code>unsigned</code> (line 28) or <code>Matrix</code> (line 29)) and then the name of the variable with that type (either <code>norm</code> (line 28) or <code>matrix</code> (line 29)). From this, we can understand that classes are nothing else than custom types.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>C++ provides us with built-in types such as <code>int</code>, <code>unsigned</code>, <code>float</code>, <code>double</code>, <code>bool</code>, and so on, and classes allow us to craft our own types. In object-orientated programming, every time we create a new variable with a custom type (like the <code>Matrix</code> type here), we say that we instantiate an object based on the class. A class is sometimes also referred to as a blueprint, because it outlines the structure of the type, but then we can have many different objects based on this type, i.e. we can have different matrices of different dimensions.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-creating-and-deleting-objects-the-constructor-and-destructor">Creating and deleting objects: The constructor and destructor</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>When we create a new variable with our custom type (here the <code>Matrix</code> class), there is a special function that is called; the constructor. Our constructor is declared on line 8, and you can always spot the constructor, as this is the function that has the same name as the class itself. You see that the constructor accepts two arguments here, and we use them to initialise the state of our class. In our example, we simply pass the arguments for the number of rows and columns, and then we store them in the variables we declared on lines 21-22. We can also see, that we pass these arguments to the class on line 29 when we instantiate our object.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Related to the concept of the constructor is the destructor, and this is provided on line 13, it still has the same name as the class itself but has a leading <code>~</code> to indicate it is the destructor. The destructor is called every time a variable is deleted. The idea is that you set up the state in the constructor (i.e. allocate memory) and then in the destructor you deallocate any memory as needed. In my view, the destructor has lost its significance somewhat as C++ now offers data types and containers that do all memory allocation for us (correctly on the stack or heap, we just need to use the right container for the task we are solving). Thus, we should never really do any memory management ourselves, unless we know what we are doing and doing so because of performance optimisation (i.e. we may want to lay out our memory differently for certain data types so that we reduce cache misses, but this is really such an exotic example that you likely never have to do this yourself!).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>However, there is one use case for the destructor that I can think of, and that is working with files. If you are reading or writing files, and you want to create a custom class for that, then you would open the file in the constructor, provide functions that can interact with the file and then close the file in the destructor. I don't have any other use case for the destructor these days. Again, if you find yourself using the <code>new</code> keyword in the constructor and the <code>delete</code> keyword in the destructor (for which both were originally (ab)used), think again. You can entirely avoid manual memory allocation in this way using either containers such as <code>std::vector</code> or smart pointers, and we will look at both of them in more detail in later articles.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Just to finish off this thought, since we have to do all memory management ourselves in the constructor and destructor (if we have to), memory management does not come automatically for us and garbage collection remains the task of the programmer. This is a good thing, though, by explicitly stating when to allocate and when to deallocate memory, we are taking that responsibility away from the C++ runtime library and also knowing this in advance means we can ask the compiler to optimise this if there is anything to optimise.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-functions-in-classes-methods">Functions in Classes (methods)</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The functions we had before now live inside the class on lines 15-17 and, since all of them now are part of the matrix class, no longer contain the word matrix in them. You'll also notice that the argument to pass in the matrix has gone now. In C++, functions that live inside a class are referred to as <em>methods</em>, while the data that is located within the class is referred to as <em>members</em>. I have, however, seen just as many people using the work function out of habit when talking about methods and so I'll stick to this naming convention as well.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>On lines 31-33, you can see how we are calling the functions of our class. We use the so-called <em>dot operator</em>, that is, we use the variable name, followed by a dot and then the function name (i.e. <code>object.function()</code>). This is the case for objects that are allocated on the stack. If we declared our object as a pointer, then we can't use the dot operator anymore and use the arrow operator instead, i.e. <code>object-&gt;function()</code>. There is another exception, and that is if our functions are <code>static</code> (static functions can be used directly from a class without having to instantiate an object, there are some good use cases why we would like to do that, but that is a bit beyond the current scope). If you ever have a static function in your class, then you use the double colon operator, i.e. <code>class::function()</code>. Notice that we are not using the object here but rather the <code>class </code>directly.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Just look at the code on lines 31-33 again, I think we can all agree that this implementation states clear intent and makes the code very easy to understand. The example code from our motivating example was not necessarily more difficult to understand, but as your code grows and as you introduce more and more classes, having a simple syntax like this will make your code more readable.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-restricting-access-private-protected-and-public-access-modifiers">Restricting access: private, protected, and public access modifiers</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Now, I want to come back to lines 5 and 19, respectively, where we declare two new keywords; public and private. These are referred to as access modifiers and tell the compiler who will have access to certain aspects of the class. This means we can control what the class should be exposing to anyone interacting with the class, and what we would like to remain hidden. As you probably have guessed then, if we declare a section <code>public</code>, any code that follows underneath this declaration, i.e. here from lines 6 to 18, is visible to anyone using the matrix object, and thus they can call it. For example, our functions on lines 15-17 are within this public scope, so we can call them, as we do on lines 31-33. If we declared these functions private (i.e. if we inserted a <code>private:</code> statement on line 14), then you would get a compiler error such as: <code>error: 'void Matrix::transpose()' is private within this context</code> and your code would not compile (this is the error message the GCC compiler would give).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>On line 19, we switch the visibility to private, meaning we can't make calls in the code such as <code>matrix._matrix</code> (there are certain situations where you can, but again, for simplicity, we'll skip over that for now). The compiler would produce an error again, though if you declared that section public, your compiler would again allow you to directly access the variables of the class.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>So why bother with <code>private</code> and <code>public</code>? Well, let's take an analogy, if you administer a network at a company, you want different people to have different access rights to your system. IT people may have access by default to servers and more secure network locations whereas an employee may only have access to a shared drive, but certainly not to security-related servers and their settings. It just comes down to security, you don't want people (or code) to accidentally change things they have no business changing.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Let's go back to our code and let's say we declared line 19 as <code>public</code>, now everyone can access the variables that make up the matrix class. If someone then decided to make a call to the nature of: <code>matrix._numRows = 5000</code>, that would be legal. But then, later when you make a call to say <code>matrix.transpose()</code>, where you have to loop over the entire matrix, now you would loop over 5000 rows, instead of 1000 rows as specified in the constructor. However, during initialisation we only allocated memory for 1000 rows and so your code now tries to read memory which isn't there and, as a result, will crash. This code was working perfectly fine before but due to an incorrect usage of the class it is now crashing and you have to figure out why. This is a somewhat constructed example, but you get the idea, we don't want to be able to accidentally change variables and their values to something that will break our code.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-hiding-implementation-logic-private-functions">Hiding implementation logic: private functions</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Related to that, we may want to implement some functions that should be only available to the class, but not the code calling the class. For example, the <code>initialise()</code> function is an example of a function that should not be exposed to the caller. Why? if they forget to call it, no memory will be allocated and when you try to use your matrix object you'll get an error message and you, personally, get a lot of angry open issues on GitHub of people telling you that your code is broken. This is not the case, they haven't called the function, but really, it is not <em>their</em> job to look after memory allocation, it is the class' job to do that. So, it would be more natural to declare the <code>initialise()</code> function private, and then call it automatically from the constructor, to ensure memory is always allocated, i.e.:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"class Matrix {\npublic:\n  // matrix type definition\n  Matrix(unsigned numberOfRows, unsigned numberOfColumns) {\n    _numRows = numberOfRows;\n    _numCols = numberOfColumns;\n    initialise();\n  }\n  // public functions ...\nprivate:\n  void initialise() { }\n  // variables ...\n};","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eclass\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eMatrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003epublic:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // matrix type definition\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eMatrix\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003enumberOfRows\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e, \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eunsigned\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003enumberOfColumns\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    _numRows = numberOfRows;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    _numCols = numberOfColumns;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003einitialise\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // public functions ...\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eprivate:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003evoid\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003einitialise\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() { }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // variables ...\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"lineNumbersWidth":13.46875,"highestLineNumber":13,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="class Matrix {
public:
  // matrix type definition
  Matrix(unsigned numberOfRows, unsigned numberOfColumns) {
    _numRows = numberOfRows;
    _numCols = numberOfColumns;
    initialise();
  }
  // public functions ...
private:
  void initialise() { }
  // variables ...
};" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Matrix</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #569CD6">public:</span></span>
<span class="line"><span style="color: #6A9955">  // matrix type definition</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">Matrix</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">numberOfRows</span><span style="color: #D4D4D4">, </span><span style="color: #569CD6">unsigned</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">numberOfColumns</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">    _numRows = numberOfRows;</span></span>
<span class="line"><span style="color: #D4D4D4">    _numCols = numberOfColumns;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">initialise</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">  }</span></span>
<span class="line"><span style="color: #6A9955">  // public functions ...</span></span>
<span class="line"><span style="color: #569CD6">private:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">initialise</span><span style="color: #D4D4D4">() { }</span></span>
<span class="line"><span style="color: #6A9955">  // variables ...</span></span>
<span class="line"><span style="color: #D4D4D4">};</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Now we declare the <code>initialise()</code> function private by putting it on line 11, and then we called it as the last instruction of the constructor on line 7. Your users are happy, and your GitHub issues remain at zero.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-encapsulation">A key concept in object-orientated programming: Encapsulation</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Segregating your data and algorithms (functions) into visible and hidden states (public and private) is a fundamental concept in object-oriented programming and is referred to as <a href="https://www.ontestautomation.com/the-four-pillars-of-object-oriented-programming-part-1-encapsulation/" target="_blank" rel="noopener" title="">encapsulation</a>. We want to hide all implementation logic (this includes the data, i.e. variables) from the caller. All the caller of the class should be able to do is call functions that they are interested in, such as calling the transpose function or calculating the norm of the matrix in our example. They are not interested in allocating memory, and that should be handled by the class itself. A general class structure may look like the following</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"class ClassName {\npublic:\n  ClassName() {\n    // make calls to private functions to initialise class\n  }\n\n  // additional function go here that the caller can use\n\nprivate:\n  // functions that manipulate the internal state\n  // not exposed to the caller\n\nprivate:\n  // variable declarations\n\n};","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eclass\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eClassName\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003epublic:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #DCDCAA\u0022\u003eClassName\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e    // make calls to private functions to initialise class\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // additional function go here that the caller can use\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eprivate:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // functions that manipulate the internal state\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // not exposed to the caller\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eprivate:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #6A9955\u0022\u003e  // variable declarations\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","seeMoreType":"","seeMoreString":"","seeMoreTransition":false,"lineNumbersWidth":14.4375,"highestLineNumber":16,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="class ClassName {
public:
  ClassName() {
    // make calls to private functions to initialise class
  }

  // additional function go here that the caller can use

private:
  // functions that manipulate the internal state
  // not exposed to the caller

private:
  // variable declarations

};" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">ClassName</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #569CD6">public:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">ClassName</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #6A9955">    // make calls to private functions to initialise class</span></span>
<span class="line"><span style="color: #D4D4D4">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">  // additional function go here that the caller can use</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">private:</span></span>
<span class="line"><span style="color: #6A9955">  // functions that manipulate the internal state</span></span>
<span class="line"><span style="color: #6A9955">  // not exposed to the caller</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">private:</span></span>
<span class="line"><span style="color: #6A9955">  // variable declarations</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">};</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Generally, we use the constructor to set up the class so that after the object has been created, it is ready to use. In our matrix example above, we called the <code>initialise()</code> function from within the constructor which would take care of memory allocation and setting all entries to zero, initially. After that, we are ready to use the class. Or, if we are using a mesh reading class, we could implement all logic to have the mesh read in different private functions, which are then called in the constructor. The only thing the caller of the class has to do is to get the part of the mesh they are interested in, for example, the coordinates or boundary conditions. In this way, the caller would not get an error message if they had forgotten to call a few functions before trying to get the coordinates or boundary conditions.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Encapsulation is one of the most fundamental principles that object-orientated programming exposes to us, making good use of it means that we write clean and easy to (re)use code, and in a way, that follows our DRY principle. Write the code once, and then reuse it in other projects again and again.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-classes-vs-structures">Classes vs. Structures</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Finally, let's get back to structures, or <code>struct</code>s as they are known in C/C++. Classes and structures are the same in C++, as alluded to in the beginning. The difference is that classes are, by default, hidden (that is, they have their default <em>access modifier</em> set to <code>private</code>), while structures are, by default, visible (that is, they have their default <em>access modifier</em> set to <code>public</code>). Consider the following code:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"class DataClass {\npublic:\n  \n};\n\nstruct DataStruct {\n\n};","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003eclass\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eDataClass\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003epublic:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003estruct\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eDataStruct\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"lineNumbersWidth":8.3125,"highestLineNumber":8,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="class DataClass {
public:
  
};

struct DataStruct {

};" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">DataClass</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #569CD6">public:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span></span>
<span class="line"><span style="color: #D4D4D4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">struct</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">DataStruct</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">};</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>Both the <code>class</code> and <code>struct</code> definition are equivalent in this case, as we set the <em>access modifier</em> to <code>public</code> as the first thing in the class definition. Equally, we could have set the <em>access modifier</em> to <code>private</code> in the <code>struct</code>, and this would have been then equivalent to the behaviour of a class. The reason we have both classes and structures is that C contains structures, but these were only really used to group together common data types. For example, if we wanted to create a three-dimensional vector in C, then you could argue that the <code>x</code>, <code>y</code>, and <code>z</code> components all belong to a vector type, so you would, for example, generate a vector like so:</p>
<!-- /wp:paragraph -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"struct Vector {\n  double x = 0.0;\n  double y = 0.0;\n  double z = 0.0;\n};\n\nVector vec;\nvec.x = 1.0;\nvec.y = 2.0;\nvec.z = 3.0;","codeHTML":"\u003cpre class=\u0022shiki dark-plus\u0022 style=\u0022background-color: #1E1E1E\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003estruct\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #4EC9B0\u0022\u003eVector\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e x = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e y = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e  \u003c/span\u003e\u003cspan style=\u0022color: #569CD6\u0022\u003edouble\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e z = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e0.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003eVector vec;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003evec\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ex\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e1.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003evec\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ey\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e2.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003evec\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #9CDCFE\u0022\u003ez\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e = \u003c/span\u003e\u003cspan style=\u0022color: #B5CEA8\u0022\u003e3.0\u003c/span\u003e\u003cspan style=\u0022color: #D4D4D4\u0022\u003e;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"cpp","theme":"dark-plus","bgColor":"#1E1E1E","textColor":"#D4D4D4","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":true,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"lineNumbersWidth":14.5625,"highestLineNumber":10,"highlightingHover":false,"lineHighlightColor":"rgba(234, 191, 191, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="struct Vector {
  double x = 0.0;
  double y = 0.0;
  double z = 0.0;
};

Vector vec;
vec.x = 1.0;
vec.y = 2.0;
vec.z = 3.0;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">struct</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Vector</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> x = </span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> y = </span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #569CD6">double</span><span style="color: #D4D4D4"> z = </span><span style="color: #B5CEA8">0.0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">Vector vec;</span></span>
<span class="line"><span style="color: #9CDCFE">vec</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">x</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">1.0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #9CDCFE">vec</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">y</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">2.0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #9CDCFE">vec</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">z</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">3.0</span><span style="color: #D4D4D4">;</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->

<!-- wp:paragraph -->
<p>On line 1, we declare a Vector structure which contains the <code>x</code>, <code>y</code>, and <code>z</code> components, which we can now directly access when generating a vector object from this structure, as shown in lines 7-10. This also shows how we would typically use structures and classes. A class contains implementation logic, i.e. functions, that can manipulate internal variables, as we saw in our matrix class. We could add support for matrix-matrix or matrix-vector multiplication, which would be a common use case for manipulating the internal state. Structures, on the other hand, are typically only used to store raw data and group them into logical units, like in the case of a vector. Another example may be a cell face, where we would store a normal vector and the area.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-some-example-classes">Some example classes</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Before we finish this article, I wanted to provide some examples of classes you may encounter, and also provide some idea of what data you would store, as well as what functions you would implement, all related to CFD code you may write. The following contains a list where we first give the class name in bold, followed by a description of what it does. It is followed by a list of functions in bold as well as variable names in italics, indicating what functions and data types we would store.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-me">Mesh reading class</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>When we write a CFD solver, we need to either generate a mesh of some description, or read it from file. It only makes sense to put all of that logic into its own class. An outline for this is given below</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li><strong>MeshReader</strong>: A class that reads a mesh from a provided mesh file.<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li><strong>MeshReader()</strong>: Constructor, open the mesh file, ready for reading</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><strong>readVertices()</strong>: Read the x, y, and z coordinates of vertices in your mesh.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><strong>readBoundaryConditions()</strong>: Read the faces that are on the boundaries, as well as their boundary condition type (inlet, outlet, wall, etc.)</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><strong>readCells()</strong>: Read a table that states which vertices compose a single cell.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><strong>~MeshReader()</strong>: Close the mesh file after reading.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><em>_coordinates</em>: Holds the x, y, and z coordinates of the vertices.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><em>_boundaryConditions</em>: Holds information about the boundary conditions.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><em>_cells</em>: Holds information about which vertices make up a cell.</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list --></li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-gradient-calculation-class">Gradient calculation class</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The Navier-Stokes equations are given in differential form and thus calculating gradients (and divergences) is a mandatory step. Even if we reformulate the Navier-Stokes equations into an integral form, as it is commonly done to use the finite-volume approximation, we still need to evaluate gradients for the viscous terms. In this case, we may want to implement a gradient calculation class similar to the following outline</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li><strong>Gradient</strong>: Calculate the gradient of a specific flow variable.<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li><strong>gauss()</strong>: Calculate the gradient using the Gauss theorem.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><strong>leastSquares()</strong>: Calculate the gradient using the least square approach.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><strong>correct()</strong>: Correct gradient calculation for non-orthogonal grids.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><em>_gradient</em>: The gradient that is being calculated.</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list --></li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-linear-algebra-class">Linear algebra class</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>We have looked at the Matrix class example extensively in this article, but we probably want to use some form of linear solver on the matrix to calculate the solution vector. An outline for a linear algebra solving class may look like the following</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li><strong>LinearSystemSolver</strong>: Taking a matrix and vector as an argument, this class will calculate the solution vector for the linear system Ax=b.<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li><strong>CG()</strong>: Solve the linear system of equations using the Conjugate-Gradient method.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><strong>GMRES</strong>: Solve the linear system of equations using the Generalised minimal residual method.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><strong>...</strong>: Any other method this class should implement.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><em>_matrix</em>: The coefficient matrix A.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><em>_rhs</em>: The right-hand side vector b.</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><em>_solution</em>: The solution vector x.</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list --></li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading" id="aioseo-remarks-on-class-structures">Remarks on class structures</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>In the above examples, I have put both <code>gauss()</code> and <code>leastSquares()</code>, as well as <code>CG()</code> and <code>GMRES()</code> in the same class. In reality, we would not do that, but for that, we first need to introduce the concept of inheritance, which we will look at in the next article. But I hope you start to see a pattern and how you would use classes now in your code design. We will talk later about how we would structure classes, but for now, this should be sufficient to get you started with object-orientated programming.</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading" id="aioseo-summary">Summary</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>In this article we looked at classes, and its extension to structures. We looked at the basic building blocks that make object-orientated programming so powerful. In particular, we looked at two principles, DRY (don't repeat yourself) and encapsulation, and we looked at how both of these help us write clean code.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Object-orientated programming is not just important for C++, but other languages have embraced it as well and probably this is the single most important thing to learn in programming if you have not done so already. If you ever want to work on a CFD solver, be it OpenFOAM, SU2, or any other in-house solver, chances are you have to work with classes and C++, and if you understand classes in C++, you can use that knowledge in other programming languages as well.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>There is so much more to explore here and we will work our way through some more important features. In the next article, we will look at another important design principle; inheritance.</p>
<!-- /wp:paragraph -->